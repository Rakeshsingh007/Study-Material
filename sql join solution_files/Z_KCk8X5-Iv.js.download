if (self.CavalryLogger) { CavalryLogger.start_js(["ZvSQJIQ"]); }

__d("CometComposerEditVideoButtonWithNuxQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:9405}],b={alias:"video_publishing_captions_default_on",args:[{kind:"Literal",name:"gk_name",value:"video_publishing_captions_default_on"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"video_publishing_captions_default_on")'},c=[b],d={kind:"InlineFragment",selections:c,type:"Page",abstractKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerEditVideoButtonWithNuxQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometComposerEditVideoButtonWithNux_nux"}],storageKey:"nux(nux_id:9405)"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:c,storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometComposerEditVideoButtonWithNuxQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[e,f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null}],type:"DefaultNUX",abstractKey:null}],storageKey:"nux(nux_id:9405)"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[e,d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:[b,f],storageKey:null}],type:"User",abstractKey:null},f],storageKey:null}],storageKey:null}]},params:{id:"4313566985369796",metadata:{},name:"CometComposerEditVideoButtonWithNuxQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometComposerEditVideoButtonWithNux_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerEditVideoButtonWithNux_nux",selections:[{args:null,kind:"FragmentSpread",name:"useMaybeNUX_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("CometComposerMediaAttachmentArea_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerMediaAttachmentArea_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Page",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("EntPhotoCollageItemContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"EntPhotoCollageItemContainerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"EntPhotoCollageItem_media"}],type:"Photo",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"EntPhotoCollageItemContainerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"3825262914227511",metadata:{},name:"EntPhotoCollageItemContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EntPhotoCollageItem_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"EntPhotoCollageItem_media",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("useComposerVideoUploaderConfigQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"actorID"},{defaultValue:null,kind:"LocalArgument",name:"entryPoint"},{defaultValue:null,kind:"LocalArgument",name:"targetID"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"actor_id",variableName:"actorID"},{kind:"Variable",name:"entry_point",variableName:"entryPoint"},{kind:"Variable",name:"target_id",variableName:"targetID"}],kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useComposerVideoUploaderConfigQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useComposerVideoUploaderConfigQuery",selections:b},params:{id:"4001962293179986",metadata:{},name:"useComposerVideoUploaderConfigQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ComposerMediaDeepDiveItemQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"isTaggable"}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ComposerMediaDeepDiveItemQuery",selections:[{condition:"isTaggable",kind:"Condition",passingValue:!0,selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ComposerMediaDeepDiveItemQuery",selections:[{condition:"isTaggable",kind:"Condition",passingValue:!0,selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}]},params:{id:"4056887741029683",metadata:{},name:"ComposerMediaDeepDiveItemQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EntPhotoDeepDiveItemContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"EntPhotoDeepDiveItemContainerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"EntPhotoDeepDiveItem_media"}],type:"Photo",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"EntPhotoDeepDiveItemContainerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"5512745092099167",metadata:{},name:"EntPhotoDeepDiveItemContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EntPhotoDeepDiveItem_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"EntPhotoDeepDiveItem_media",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("RemoteVideoFilePreviewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"representation_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mime_codec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"segment_type",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RemoteVideoFilePreviewQuery",selections:[{alias:null,args:b,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RemoteVideoFilePreviewQuery",selections:[{alias:null,args:b,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoPrefetchResources",kind:"LinkedField",name:"dash_prefetch_resources",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"audio",plural:!0,selections:e,storageKey:null},{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"video",plural:!0,selections:e,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"context",value:"DEFAULT"},{kind:"Literal",name:"supported",value:["CometVideoPlayerOzImplementation","CometVideoPlayerShakaImplementation","CometVideoPlayerProgressiveImplementation"]}],concreteType:null,kind:"LinkedField",name:"comet_video_player_implementations",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"useRelay3DVideoImplementations_video",fragmentName:"useRelay3DOzImplementation_implementation",fragmentPropName:"implementation",kind:"ModuleImport"}],type:"CometVideoPlayerOzImplementation",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useRelay3DVideoImplementations_video",fragmentName:"useRelay3DShakaImplementation_implementation",fragmentPropName:"implementation",kind:"ModuleImport"}],type:"CometVideoPlayerShakaImplementation",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useRelay3DVideoImplementations_video",fragmentName:"useRelay3DProgressiveImplementation_implementation",fragmentPropName:"implementation",kind:"ModuleImport"}],type:"CometVideoPlayerProgressiveImplementation",abstractKey:null}],storageKey:'comet_video_player_implementations(context:"DEFAULT",supported:["CometVideoPlayerOzImplementation","CometVideoPlayerShakaImplementation","CometVideoPlayerProgressiveImplementation"])'},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:"playable_url_dash",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,concreteType:"VideoPlayerShakaLiveP2PInit",kind:"LinkedField",name:"video_player_shaka_live_p2p_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"json_encoded_video_data",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"playable_url_quality_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"comet_video_player_static_config",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_video_player_context_sensitive_config",storageKey:null},{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayer_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},c],storageKey:null}],storageKey:null}]},params:{id:"4183227181729264",metadata:{},name:"RemoteVideoFilePreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometComposerStatusAreaRelay_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerStatusAreaRelay_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("FeedComposerCometBody_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometBody_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"FeedComposerCometStatusAreaRelay_profile"},{args:null,kind:"FragmentSpread",name:"CometComposerMediaAttachmentArea_profile"},{args:null,kind:"FragmentSpread",name:"CometComposerMagicUploadsAttachmentArea_profile"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_plus_category_display_name",storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("FeedComposerCometBody_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometBody_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerSmartComposeTypeaheadPlugin_nux"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("FeedComposerCometRootQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"hasStory"},b={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},c={defaultValue:null,kind:"LocalArgument",name:"privacyWriteID"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:null,kind:"LocalArgument",name:"showFeedComposerCometToolbar"},f={defaultValue:null,kind:"LocalArgument",name:"showSproutsWing"},g={defaultValue:null,kind:"LocalArgument",name:"storyID"},h={kind:"Variable",name:"render_location",variableName:"privacySelectorRenderLocation"},i=[{kind:"Variable",name:"privacy_write_id",variableName:"privacyWriteID"},h],j=[{args:null,kind:"FragmentSpread",name:"FeedComposerComet_scope"}],k=[{kind:"Variable",name:"id",variableName:"storyID"}],l={alias:null,args:[{kind:"Literal",name:"feature_limit_location",value:"status_update"}],concreteType:"FeatureLimitMessaging",kind:"LinkedField",name:"feature_limit_messaging",plural:!1,selections:[{alias:null,args:null,concreteType:"CixFeatureLimitMessageSurface",kind:"LinkedField",name:"surface",plural:!1,selections:[{args:null,documentName:"FeedComposerCometRootQuery",fragmentName:"CometFeatureLimitMessage_surface",fragmentPropName:"surface",kind:"ModuleImport"}],storageKey:null}],storageKey:'feature_limit_messaging(feature_limit_location:"status_update")'},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={kind:"Variable",name:"scale",variableName:"scale"},p={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},q=[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometComposerPromotedSprout","CometComposerUploadMediaSprout","CometComposerMagicUploadsSprout","CometComposerAnimatedImageSprout","CometComposerWithTaggingSprout","CometComposerProductTagSprout","CometComposerMultilingualSprout","CometComposerLocationTaggingSprout","CometComposerMinutiaeSprout","FeedCometComposerLiveProducerSprout","CometComposerFundraiserForStorySprout","FeedCometComposerBrandedContentSprout","FeedCometComposerWoodhengeSupportSprout","CometComposerVideoMeetupSprout","CometComposerQuiltSprout","CometComposerAMASprout","FeedCometComposerGetMessagesSprout","CometComposerLifeEventSprout","CometComposerLocalAlertSprout","CometComposerVotingAlertSprout","FeedCometComposerGetWhatsAppMessagesSprout","CometComposerCommunityHelpDriveSprout"]}],concreteType:null,kind:"LinkedField",name:"sprouts",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerPromotedSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerPromotedSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerUploadMediaSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerMagicUploadsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMagicUploadsSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerAnimatedImageSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerAnimatedImageSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerWithTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerWithTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerProductTagSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerProductTagSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerMultilingualSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMultilingualSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"ComposerLocationTaggingSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocationTaggingSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"ComposerTabbedMinutiaeSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerMinutiaeSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedLiveProducerCometComposerLiveSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerLiveProducerSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FundraiserForStorySprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerFundraiserForStorySprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerBrandedContentSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerBrandedContentSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerWoodhengeSupportSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerWoodhengeSupportSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerRoomsSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerVideoMeetupSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerQuiltSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerQuiltSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerAMASprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerAMASprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerGetMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerLifeEventSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLifeEventSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerLocalAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerLocalAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerVotingAlertSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerVotingAlertSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"FeedCometComposerGetWhatsAppMessagesSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"FeedCometComposerGetWhatsAppMessagesSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useSproutsFromRelay_composer",fragmentName:"CometComposerCommunityHelpDriveSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"CometComposerCommunityHelpDriveSprout",abstractKey:null}],storageKey:'sprouts(supported:["CometComposerPromotedSprout","CometComposerUploadMediaSprout","CometComposerMagicUploadsSprout","CometComposerAnimatedImageSprout","CometComposerWithTaggingSprout","CometComposerProductTagSprout","CometComposerMultilingualSprout","CometComposerLocationTaggingSprout","CometComposerMinutiaeSprout","FeedCometComposerLiveProducerSprout","CometComposerFundraiserForStorySprout","FeedCometComposerBrandedContentSprout","FeedCometComposerWoodhengeSupportSprout","CometComposerVideoMeetupSprout","CometComposerQuiltSprout","CometComposerAMASprout","FeedCometComposerGetMessagesSprout","CometComposerLifeEventSprout","CometComposerLocalAlertSprout","CometComposerVotingAlertSprout","FeedCometComposerGetWhatsAppMessagesSprout","CometComposerCommunityHelpDriveSprout"])'}],r={alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},u={alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null},w=[r,s,t,u,v],x={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:w,storageKey:null},y=[h],z={alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},C={alias:null,args:[o],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},D={alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"current_tag_expansion",storageKey:null},n],storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"show_tag_expansion_options",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"extended_description",storageKey:null};h={alias:null,args:[h,{kind:"Literal",name:"supported",value:["PrivacyScopeCometButtonEntryPointRenderer","PrivacyScopeCometComposerButtonEntryPointRenderer","PrivacyScopeCometIconEntryPointRenderer","PrivacyScopeCometLabelEntryPointRenderer","PrivacyScopeCometToggleEntryPointRenderer"]}],concreteType:null,kind:"LinkedField",name:"entry_point_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[m,{alias:"scope",args:y,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[B,C,D,E,z,F,G],storageKey:null},n],storageKey:null}],type:"PrivacyScopeCometButtonEntryPointRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[m,{alias:"scope",args:y,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[z,F,G,B,C,D,E],storageKey:null},n],storageKey:null}],type:"PrivacyScopeCometComposerButtonEntryPointRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[m,{alias:"scope",args:y,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[B,C,z,F,G],storageKey:null},n],storageKey:null}],type:"PrivacyScopeCometIconEntryPointRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[m,{alias:"scope",args:y,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[B,C,z,F,G,{alias:null,args:null,kind:"ScalarField",name:"display_label",storageKey:null}],storageKey:null},n],storageKey:null}],type:"PrivacyScopeCometLabelEntryPointRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"source",plural:!1,selections:[m,{alias:"scope",args:y,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[z,F,G,B,{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"options",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"is_selected",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[s,r,t,u,v],storageKey:null}],storageKey:null},A,{alias:null,args:null,kind:"ScalarField",name:"should_save_on_select",storageKey:null}],storageKey:null},n],storageKey:null}],type:"PrivacyScopeCometToggleEntryPointRenderer",abstractKey:null}],storageKey:null};D=[{alias:null,args:[{kind:"Literal",name:"supported",value:["PrivacyScopeEditableRenderer","PrivacyScopeUneditableRenderer"]}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isPrivacySelectorRenderer"},n,{kind:"InlineFragment",selections:[{alias:"scope",args:y,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[z,A],storageKey:null},{kind:"InlineFragment",selections:[x,{alias:"scope",args:y,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:w,storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[x,n],storageKey:null}],storageKey:null},h],type:"PrivacySelectorRenderer",abstractKey:"__isPrivacySelectorRenderer"}],type:"PrivacyScopeEditableRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[x,h],type:"PrivacySelectorRenderer",abstractKey:"__isPrivacySelectorRenderer"}],type:"PrivacyScopeUneditableRenderer",abstractKey:null}],storageKey:'privacy_scope_renderer(supported:["PrivacyScopeEditableRenderer","PrivacyScopeUneditableRenderer"])'},z,A];return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g],kind:"Fragment",metadata:null,name:"FeedComposerCometRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerComet_profile"}],storageKey:null},{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{args:[{kind:"Variable",name:"show_feed_composer_comet_toolbar",variableName:"showFeedComposerCometToolbar"},{kind:"Variable",name:"show_sprouts_wing",variableName:"showSproutsWing"}],kind:"FragmentSpread",name:"FeedComposerComet_composer"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FeedComposerComet_defaultprivacy"},{args:null,kind:"FragmentSpread",name:"FeedComposerComet_viewer"}],storageKey:null},{condition:"hasStory",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_selector",plural:!1,selections:j,storageKey:null}]},{condition:"hasStory",kind:"Condition",passingValue:!0,selections:[{alias:"story",args:k,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:j,storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}]},l],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,c,d,a,e,f,g],kind:"Operation",name:"FeedComposerCometRootQuery",selections:[{alias:null,args:[{kind:"Literal",name:"query_name",value:"FeedComposerCometRootQuery"}],kind:"ScalarField",name:"relay_early_flush",storageKey:'relay_early_flush(query_name:"FeedComposerCometRootQuery")'},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[m,n,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},o,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[p],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_plus_category_display_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delegate_page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tagging_apux_snoozed",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"publishing_tool_banner_profile",plural:!1,selections:[{args:null,documentName:"FeedComposerComet_profile",fragmentName:"PagesCometComposerPublishingToolBanner_page",fragmentPropName:"page",kind:"ModuleImport"},n],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Page",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null},{alias:null,args:null,concreteType:"FeedCometComposer",kind:"LinkedField",name:"feed_comet_composer",plural:!1,selections:[{condition:"showFeedComposerCometToolbar",kind:"Condition",passingValue:!0,selections:q},{condition:"showSproutsWing",kind:"Condition",passingValue:!0,selections:q},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"can_viewer_see_workplace_toolbar_sprouts",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"FeedComposerComet_composer",fragmentName:"GeminiComposerMinutiaeBar_profileComposer",fragmentPropName:"profileComposer",kind:"ModuleImport"}],type:"FeedCometComposer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"FeedComposerComet_composer",fragmentName:"GeminiComposerMinutiaeBar_groupComposer",fragmentPropName:"groupComposer",kind:"ModuleImport"}],type:"GroupCometComposer",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isIGeminiComposer"},{alias:"work_sprouts",args:[{kind:"Literal",name:"supported",value:["GroupCometComposerUploadMediaSprout","CometComposerUploadMediaSprout","GroupCometComposerUploadFileSprout","GroupsGeminiComposerWorkFileSprout","GroupCometComposerPollSprout","GroupCometComposerAnimatedImageSprout","CometComposerAnimatedImageSprout","GroupsCometComposerVideoMeetupSprout","GroupsCometComposerWorkChecklistSprout","GroupsGeminiComposerSummarySprout","GroupCometComposerMultilingualSprout"]}],concreteType:null,kind:"LinkedField",name:"workplace_toolbar_sprouts",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerUploadMediaSprout_groupSprout",fragmentPropName:"groupSprout",kind:"ModuleImport"}],type:"GroupCometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerUploadMediaSprout_profileSprout",fragmentPropName:"profileSprout",kind:"ModuleImport"}],type:"CometComposerUploadMediaSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GroupCometComposerUploadFileSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"GroupCometComposerUploadFileSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GroupsGeminiComposerWorkFileSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"GroupsGeminiComposerWorkFileSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerPollSprout_groupSprout",fragmentPropName:"groupSprout",kind:"ModuleImport"}],type:"GroupCometComposerPollSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerAnimatedImageSprout_groupSprout",fragmentPropName:"groupSprout",kind:"ModuleImport"}],type:"GroupCometComposerAnimatedImageSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerAnimatedImageSprout_profileSprout",fragmentPropName:"profileSprout",kind:"ModuleImport"}],type:"CometComposerAnimatedImageSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerVideoMeetupSprout_sprout",fragmentPropName:"sprout",kind:"ModuleImport"}],type:"GroupsCometComposerVideoMeetupSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerChecklistSprout_groupSprout",fragmentPropName:"groupSprout",kind:"ModuleImport"}],type:"GroupsCometComposerWorkChecklistSprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerSummarySprout_groupSprout",fragmentPropName:"groupSprout",kind:"ModuleImport"}],type:"GroupsGeminiComposerSummarySprout",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GeminiComposerRichTextStyleMenuItems_composer",fragmentName:"GeminiComposerMultilingualSprout_groupSprout",fragmentPropName:"groupSprout",kind:"ModuleImport"}],type:"GroupCometComposerMultilingualSprout",abstractKey:null}],storageKey:'workplace_toolbar_sprouts(supported:["GroupCometComposerUploadMediaSprout","CometComposerUploadMediaSprout","GroupCometComposerUploadFileSprout","GroupsGeminiComposerWorkFileSprout","GroupCometComposerPollSprout","GroupCometComposerAnimatedImageSprout","CometComposerAnimatedImageSprout","GroupsCometComposerVideoMeetupSprout","GroupsCometComposerWorkChecklistSprout","GroupsGeminiComposerSummarySprout","GroupCometComposerMultilingualSprout"])'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DefaultPrivacyUser",kind:"LinkedField",name:"default_privacy_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_opt_in",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"nux_is_blocking",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"nux_preselect_dialog",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"nux_preselect_dialog_privacy_option",plural:!1,selections:[n,x],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AudienceInfo",kind:"LinkedField",name:"audience_info",plural:!1,selections:[{alias:null,args:null,concreteType:"ComposerPostPrivacyFollowUpInfo",kind:"LinkedField",name:"post_privacy_followup_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"eligible_for_survey",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_for_default_privacy",storageKey:null}],storageKey:null}],storageKey:null},{alias:"nux_component",args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_smartcompose_nux",plural:!1,selections:[{args:null,documentName:"CometComposerSmartComposeTypeaheadPlugin_nux_component",fragmentName:"GeminiSmartComposerTypeaheadNUX_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},{alias:"nux_mark_as_seen_mutation",args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_smartcompose_nux",plural:!1,selections:[{args:null,documentName:"CometComposerSmartComposeTypeaheadPlugin_nux_mark_as_seen_mutation",fragmentName:"CometComposerSmartComposeTypeaheadPlugin_mutation",fragmentPropName:"mutation",kind:"ModuleImport"}],storageKey:null}],storageKey:null},l,{condition:"hasStory",kind:"Condition",passingValue:!1,selections:[{alias:null,args:i,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_selector",plural:!1,selections:D,storageKey:null}]},{condition:"hasStory",kind:"Condition",passingValue:!0,selections:[{alias:"story",args:k,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[m,n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:D,storageKey:null}],type:"Story",abstractKey:null}],storageKey:null}]}]},params:{id:"4146000758797222",metadata:{},name:"FeedComposerCometRootQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("FeedComposerCometStatusAreaRelay_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometStatusAreaRelay_profile",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerStatusAreaRelay_profile"},{args:null,kind:"FragmentSpread",name:"CometComposerStatusAreaRelayWithSwatches_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("FeedComposerComet_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"show_feed_composer_comet_toolbar"},{defaultValue:!1,kind:"LocalArgument",name:"show_sprouts_wing"}],kind:"Fragment",metadata:null,name:"FeedComposerComet_composer",selections:[{condition:"show_feed_composer_comet_toolbar",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerCometToolbar_composer"}]},{condition:"show_sprouts_wing",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerSproutsWing_composer"}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"can_viewer_see_workplace_toolbar_sprouts",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"FeedComposerComet_composer",fragmentName:"GeminiComposerMinutiaeBar_profileComposer",fragmentPropName:"profileComposer",kind:"ModuleImport"}],type:"FeedCometComposer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"FeedComposerComet_composer",fragmentName:"GeminiComposerMinutiaeBar_groupComposer",fragmentPropName:"groupComposer",kind:"ModuleImport"}],type:"GroupCometComposer",abstractKey:null},{args:null,kind:"FragmentSpread",name:"GeminiComposerDialogDualPaneLayout_composer"}],storageKey:null}],type:"FeedCometComposer",abstractKey:null};e.exports=a}),null);
__d("FeedComposerDefaultPrivacyQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerDefaultPrivacyQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerComet_defaultprivacy"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"FeedComposerDefaultPrivacyQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"DefaultPrivacyUser",kind:"LinkedField",name:"default_privacy_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_opt_in",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"nux_is_blocking",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"nux_preselect_dialog",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"nux_preselect_dialog_privacy_option",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"5267431403274526",metadata:{},name:"FeedComposerDefaultPrivacyQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FeedComposerComet_defaultprivacy.graphql",["FeedComposerDefaultPrivacyQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:b("FeedComposerDefaultPrivacyQuery.graphql")}},name:"FeedComposerComet_defaultprivacy",selections:[{alias:null,args:null,concreteType:"DefaultPrivacyUser",kind:"LinkedField",name:"default_privacy_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_opt_in",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometDefaultPrivacyNux_defaultprivacy"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("FeedComposerComet_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"FeedComposerComet_profile",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{args:[{kind:"Variable",name:"scale",variableName:"scale"}],kind:"FragmentSpread",name:"CometComposerMinutiaeBar_profile"},{args:null,kind:"FragmentSpread",name:"FeedComposerCometBody_profile"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"delegate_page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tagging_apux_snoozed",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"publishing_tool_banner_profile",plural:!1,selections:[{args:null,documentName:"FeedComposerComet_profile",fragmentName:"PagesCometComposerPublishingToolBanner_page",fragmentPropName:"page",kind:"ModuleImport"}],storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("FeedComposerComet_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerComet_scope",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerPrivacyScope_scope"},{args:null,kind:"FragmentSpread",name:"CometDefaultPrivacyNux_scope"},{args:null,kind:"FragmentSpread",name:"CometComposerIPSPlugin_scope"}],type:"PrivacyScope",abstractKey:null};e.exports=a}),null);
__d("FeedComposerComet_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerComet_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerIPSPlugin_viewer"},{args:null,kind:"FragmentSpread",name:"FeedComposerCometBody_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometComposerCommunityHelpDriveAttachmentAreaResource",["JSResourceForInteraction"],(function(a,b,c,d,e,f){"use strict";a=b("JSResourceForInteraction")("CometComposerCommunityHelpDriveAttachmentArea.react").__setRef("CometComposerCommunityHelpDriveAttachmentAreaResource");c=a;e.exports=c}),null);
__d("communityHelpDriveTransform",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c){a=a.communityHelpDriveData;return a!=null?c(babelHelpers["extends"]({},b,{community_help_crisis_listing_metadata:{draft_id:a.draft_id}})):c(b)}}),null);
__d("CometDraggableGrid.react",["CometFlexibleGrid.react","react","useCometDraggableItems"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=500,j=300;function a(a){var c=a.columnMaxWidth;c=c===void 0?i:c;var d=a.columnMinWidth;d=d===void 0?j:d;var e=a.minItems,f=a.items,g=a.justify;a=babelHelpers.objectWithoutPropertiesLoose(a,["columnMaxWidth","columnMinWidth","minItems","items","justify"]);a=b("useCometDraggableItems")(babelHelpers["extends"]({},a,{direction:"vertical",items:f}));return h.jsx(b("CometFlexibleGrid.react"),{columnMaxWidth:c,columnMinWidth:d,justify:g,minItems:(c=e)!=null?c:f.length,children:a})}}),null);
__d("composerFooterAttachmentAreaChecker",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return(a==null?void 0:(a=a.footerAttachmentArea)==null?void 0:a.activeFooterAttachmentType)!==(b==null?void 0:(a=b.footerAttachmentArea)==null?void 0:a.activeFooterAttachmentType)}}),null);
__d("composerFooterAttachmentAreaReducer",["JSResourceForInteraction"],(function(a,b,c,d,e,f){"use strict";f.composerFooterAttachmentAreaReducer=a;c={BLOOD_DONATIONS:b("JSResourceForInteraction")("composerFeedBloodDonationsTransform").__setRef("composerFooterAttachmentAreaReducer"),PRAYER:b("JSResourceForInteraction")("composerPrayerTransform").__setRef("composerFooterAttachmentAreaReducer"),ROOM:b("JSResourceForInteraction")("composerRoomTransform").__setRef("composerFooterAttachmentAreaReducer")};f.transformerResourceForFooterAttachmentType=c;function a(a,b){var c;switch(b.type){case"ACTIVATE_FOOTER_ATTACHMENT_TYPE":return((c=a.footerAttachmentArea)==null?void 0:c.activeFooterAttachmentType)===b.footerAttachmentType?a:babelHelpers["extends"]({},a,{footerAttachmentArea:babelHelpers["extends"]({},a.footerAttachmentArea,{activeFooterAttachmentType:b.footerAttachmentType}),placeholderTextOverride:b.placeholderTextOverride});case"REMOVE_FOOTER_ATTACHMENT_TYPE":return((c=a.footerAttachmentArea)==null?void 0:c.activeFooterAttachmentType)!==b.footerAttachmentType?a:babelHelpers["extends"]({},a,{footerAttachmentArea:babelHelpers["extends"]({},a.footerAttachmentArea,{activeFooterAttachmentType:null}),placeholderTextOverride:void 0});case"UPDATE_PLACEHOLDER_TEXT":return babelHelpers["extends"]({},a,{placeholderTextOverride:b.placeholderTextOverride});case"RESET_PLACEHOLDER_TEXT":return babelHelpers["extends"]({},a,{placeholderTextOverride:void 0})}return a}}),null);
__d("CometComposerFooterAttachmentArea.react",["CometComposerGenericAttachmentPendingPreview.react","CometComposerRemoveAttachmentButton.react","CometErrorBoundary.react","CometPlaceholder.react","composerFooterAttachmentAreaChecker","composerFooterAttachmentAreaReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){b("useComposerViewStateReducer")(b("composerFooterAttachmentAreaReducer").composerFooterAttachmentAreaReducer,b("composerFooterAttachmentAreaChecker"));var c=a.activeFooterAttachmentType;a=a.children;var d=b("useComposerViewStateDispatcher")(),e=h.useCallback(function(){if(c==null)return;d({footerAttachmentType:c,type:"REMOVE_FOOTER_ATTACHMENT_TYPE"});d({type:"RESET_PLACEHOLDER_TEXT"})},[c,d]);if(c!=null){var f=a(c);if(f!=null)return h.jsx("div",{className:"l9j0dhe7 discj3wi dati1w0a hv4rvrfc",children:h.jsxs(b("CometPlaceholder.react"),{fallback:h.jsx(b("CometComposerGenericAttachmentPendingPreview.react"),{}),children:[h.jsx(b("CometErrorBoundary.react"),{onError:e,children:a(c)}),h.jsx("div",{className:"lo7qbyfk z3yf0l87 pmk7jnqg e5ffyxfx",children:h.jsx(b("CometComposerRemoveAttachmentButton.react"),{removeAttachment:e})})]})})}return null}c=b("withComposerViewStatePart")(a,function(a){return{activeFooterAttachmentType:(a=a.footerAttachmentArea)==null?void 0:a.activeFooterAttachmentType}});e.exports=c}),null);
__d("CometComposerViewOnlyFeedAttachmentAreaResource",["JSResourceForInteraction"],(function(a,b,c,d,e,f){"use strict";a=b("JSResourceForInteraction")("CometComposerViewOnlyFeedAttachmentArea.react").__setRef("CometComposerViewOnlyFeedAttachmentAreaResource");c=a;e.exports=c}),null);
__d("CometComposerEditMediaAttachmentItemButton.react",["fbt","ix","CometMediaEditorPageResource","CometVideoToolsLoggingContext","MediaEditorViewStateContext","TetraButton.react","emptyFunction","fbicon","gkx","lazyLoadComponent","react","useCometComposerPushPage","useComposerPluginIneligibility"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("lazyLoadComponent")(b("CometMediaEditorPageResource"));function a(a,c){var d,e=a.buttonLabel;e=e===void 0?g._("Edit"):e;var f=a.index,i=a.isOnVideoLiteComposer;a=a.onClickLog;var l=a===void 0?b("emptyFunction"):a,m=b("useCometComposerPushPage")();a=b("useComposerPluginIneligibility")().has("MEDIA_EDIT");var n=j.useContext(b("CometVideoToolsLoggingContext"));d=(d=j.useContext(b("MediaEditorViewStateContext")))==null?void 0:d.isEditingPreExistingStory;d===!0&&(n=babelHelpers["extends"]({},n,{dialogMode:"video_edit"}));return a&&!b("gkx")("1915661")?null:j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("477825"),16),label:e,onPress:function(){m!=null&&(l(),m(g._("Photo Detail"),function(a){a=a.onReturn;return j.jsx(b("CometVideoToolsLoggingContext").Provider,{value:n,children:j.jsx(k,{index:f,isDialog:!0,isOnVideoLiteComposer:i,onBack:a})})},{hasCustomHeader:!0}))},ref:c,testid:void 0,type:"overlay"})}c=j.forwardRef(a);e.exports=c}),null);
__d("CometVideoEditorUtils.react",["fbt","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(!a||!a.length)return null;for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;switch(d.state){case"UPLOADING":switch(d.fileType){case"VIDEO":return d;default:}break;case"UPLOADED":switch(d.fileType){case"VIDEO":return d;default:}break;case"PREEXISTING":switch(d.fileType){case"VIDEO":return d;default:}default:}}return null};f.getFirstVideoAttachment=h;a=function(a){if(!a)return null;a=h(a.mediaAttachments);return(a==null?void 0:a.videoAttachmentMetadata)||null};f.getVideoAttachmentMetaDataFromForFirstVideoComposerState=a;c=function(a){a=i(a);return(a==null?void 0:a.videoAttachmentMetadata)||null};f.getVideoAttachmentMetadata=c;d=function(a){if(a.fileType==="VIDEO"&&(a.state==="UPLOADED"||a.state==="PREEXISTING")){return(a==null?void 0:(a=a.videoAttachmentMetadata)==null?void 0:a.thumbnailPreviewURL)||""}return""};f.getThumbnailURLFromVideoMetadata=d;e=function(){var a=b("gkx")("1944325"),c=g._("Publishing Options"),d=g._("Video Options");return a?d:c};f.getVideoEditorEntryPointName=e;function i(a){if(a==null)return;switch(a.state){case"UPLOADING":switch(a.fileType){case"VIDEO":return a;default:}return;case"UPLOADED":switch(a.fileType){case"VIDEO":return a;default:}return;default:}}}),null);
__d("CometComposerEditVideoButtonWithNux.react",["fbt","CometComposerEditMediaAttachmentItemButton.react","CometComposerEditVideoButtonWithNuxQuery.graphql","CometComposerEditVideoButtonWithNux_nux.graphql","CometRelay","CometVideoEditorUtils.react","react","setTimeout","useCometCallout","useCometVideoComposerLog","useComposerViewStateDispatcher","useMaybeNUX","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||b("react"),l={nux:{maxWidth:"nqmqzb3c"}},m=h!==void 0?h:h=b("CometComposerEditVideoButtonWithNuxQuery.graphql"),n=i!==void 0?i:i=b("CometComposerEditVideoButtonWithNux_nux.graphql");function o(a){var c=g._("Captions are automatically added to your videos now, check more details and learn how to change the settings.");a=b("CometRelay").useFragment(n,a);a=b("useMaybeNUX")(a);var d=a[0],e=a[1];a=k.useState(!1);var f=a[0],h=a[1];a={align:"start",arrowStyle:"inset",hasCloseButton:!0,label:c,onHide:function(){h(!1),e()},position:"below",type:"accent",xstyle:l.nux};c=b("useCometCallout")(a,f);d===!0&&b("setTimeout")(function(){h(d)},100);return c}function a(a){var c,d=a.firstVideoMetadata,e=k.useRef(!1);a=b("useCometVideoComposerLog")();var f=a.logEvent,g=b("useComposerViewStateDispatcher")();k.useEffect(function(){var a=function(){g({currentIndex:0,type:"SET_VIDEO_ATTACHMENT_METADATA",videoAttachmentMetadata:babelHelpers["extends"]({},d,{hasBootloaded:!0})})};!e.current&&(d==null?void 0:d.hasBootloaded)!==!0&&(a(),f("dialog_bootloaded"),e.current=!0)},[g,f,d,d==null?void 0:d.hasBootloaded]);a=b("CometRelay").useLazyLoadQuery(m,{});c=a.nux!==null&&((a==null?void 0:(c=a.viewer)==null?void 0:(c=c.actor)==null?void 0:(c=c.video_publishing_captions_default_on)==null?void 0:c.passes_gk)===!0||(a==null?void 0:(c=a.viewer)==null?void 0:(c=c.actor)==null?void 0:(c=c.delegate_page)==null?void 0:(c=c.video_publishing_captions_default_on)==null?void 0:c.passes_gk)===!0)?o(a.nux):null;return k.jsx(b("CometComposerEditMediaAttachmentItemButton.react"),{buttonLabel:b("CometVideoEditorUtils.react").getVideoEditorEntryPointName(),index:0,isOnVideoLiteComposer:!0,onClickLog:function(){f("open_publish_option_edit_flow")},ref:c})}c=b("withComposerViewStatePart")(a,function(a){return{firstVideoMetadata:b("CometVideoEditorUtils.react").getVideoAttachmentMetaDataFromForFirstVideoComposerState(a)}});e.exports=c}),null);
__d("CometSphericalPhotoUtils",["Comet360PhotoTypes"],(function(a,b,c,d,e,f){"use strict";f.createEncodingFromSphericalImage=a;function a(a){a=a.getPhotoSphereMetadata();return a==null?null:g(a)}function g(a){var c=Number(a.CroppedAreaImageWidthPixels)/Number(a.CroppedAreaImageHeightPixels),d=Number(a.CroppedAreaImageWidthPixels)/Number(a.FullPanoWidthPixels)*Math.PI*2,e=Number(a.CroppedAreaImageHeightPixels)/Number(a.FullPanoHeightPixels)*Math.PI*2,f=Number(a.InitialViewHeadingDegrees),g=Number(a.InitialViewPitchDegrees),i=Number(a.InitialViewVerticalFOVDegrees),j=Number(a.CroppedAreaImageHeightPixels)===Number(a.CroppedAreaImageWidthPixels)*2?b("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular:b("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;switch(a.ProjectionType){case"equirectangular":j=b("Comet360PhotoTypes").Comet360PhotoProjection.Equirectangular;break;case"cylindrical":j=b("Comet360PhotoTypes").Comet360PhotoProjection.Cylindrical;break}a={aspectRatio:c,horizontalFov:d,projectionType:j,startingView:{heading:h(f),horizontalFov:null,pitch:h(g),verticalFov:i!==0?h(i):null},verticalFov:e};return a}function h(a){return a/180*Math.PI}}),null);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(b("Promise"))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}}),null);
__d("parseIFDEntry",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=a.readU16(),c=a.readU16(),d=a.readU32(),e=Object.freeze({offset:a.peekU32(),type:"offset"});switch(c){case 1:case 2:case 7:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU8())}break;case 6:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI8())}break;case 3:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU16())}break;case 8:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI16())}break;case 4:d<2&&(e={type:"data",values:[a.readU32()]});break;case 9:d<2&&(e={type:"data",values:[a.readI32()]});break;case 11:d<2&&(e={type:"data",values:[a.readF32()]});break;case 5:case 10:case 12:a.seekRelative(4);break}return{format:c,tag:b,value:e}}}),null);
__d("parseIFDTable",["parseIFDEntry"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.readU16(),d=[];for(var e=0;e<c;e++)d.push(b("parseIFDEntry")(a));c=a.readU32();return{entries:d,nextTableOffset:c}}}),null);
__d("parseTIFFHeader",["EndianAwareDataReader","parseIFDTable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){c===void 0&&(c=0);var d=new Uint8Array(a,c),e=!0;if(d[0]===77&&d[1]===77)e=!1;else if(d[0]!==73||d[1]!==73)return null;d=new(b("EndianAwareDataReader"))(a,e);d.seekTo(c+2);if(d.readU16()!==42)return null;a=d.readU32();d.seekRelative(a-8);e=b("parseIFDTable")(d);return[e]}}),null);
__d("extractJPEGOrientationData",["genArrayBufferFromFile","parseTIFFHeader"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=65496,h=65498,i=1165519206;function a(a){return b("genArrayBufferFromFile")(a).then(function(a){var c=new DataView(a);if(c.getUint16(0,!1)!==g)return null;var d=2;while(d<a.byteLength-2&&c.getUint16(d)!==h){var e=c.getUint16(d),f=e&65280;e=e&255;if(f===65280)if(e===225){if(c.getUint32(d+4)!==i||c.getUint16(d+8)!==0)return null;f=b("parseTIFFHeader")(a,d+10);if(f!=null){f=f[0];for(var f=f.entries,j=Array.isArray(f),k=0,f=j?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;if(l.tag===274){l=l.value;if(l.type==="data"){l=l.values[0];if(l==null)return null;return l===0||l===1||l===2||l===3||l===4||l===5||l===6||l===7||l===8?l:null}return null}}}return null}else if(e!==0&&(e<208||e>217)){l=c.getUint16(d+2,!1);d+=l+2}}return null})}}),null);
__d("genDimensionsFromImageFile",["Promise"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=new Image(),d=new(b("Promise"))(function(a,b){c.onload=function(){a({height:c.height,width:c.width})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}}),null);
__d("genDimensionsFromVideoFile",["Promise"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=document.createElement("video"),d=new(b("Promise"))(function(a,b){c.onloadedmetadata=function(){a({height:c.videoHeight,width:c.videoWidth})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}}),null);
__d("genIsHEICFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=[102,116,121,112],d=[104,101,105,99],e=[104,101,105,120];return b("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(4,8).reduce(function(a,b,d){return a&&b===c[d]},!0);if(!b)return!1;b=a.slice(8,12).reduce(function(a,b,c){return a&&b===d[c]},!0);if(b)return!0;b=a.slice(8,12).reduce(function(a,b,c){return a&&b===e[c]},!0);return b?!0:!1})}}),null);
__d("readVINT",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=0;b=Math.min(a.length,(b=b)!=null?b:Number.MAX_VALUE);var d=0;while(c<b){var e=a[c];if(e===0)d+=8,c++;else{d+=8-Math.floor(Math.log2(e));if(d>b||d<0)return null;e=g(a,d);return{vintData:e,nextReadOffset:d}}}return null}function g(a,b){var c=Math.floor(b/8),d=a[c],e=8-b%8;e<8&&(d^=1<<e);e=new Uint8Array(new ArrayBuffer(b-c));e[0]=d;e.set(a.slice(c+1,b),1);return e}}),null);
__d("readEBMLHeader",["$InternalEnum","readVINT"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a){return a.reduce(function(a,b){return a*256+b},0)}function h(a){return String.fromCharCode.apply(String,Array.from(a))}var i=b("$InternalEnum")({EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxSizeLength:17139,EBMLMaxIDLength:17138,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029});function j(a){var c=b("readVINT")(a,4);if(c==null)return null;var d=g(a.slice(0,c.nextReadOffset));d=i.cast(d);var e=b("readVINT")(a.slice(c.nextReadOffset));if(e==null)return null;var f=g(e.vintData);c=c.nextReadOffset+e.nextReadOffset;e=c+f;if(e>a.length)return null;f=a.slice(c,e);return{id:d,data:f,nextReadOffset:e}}function k(a){a=j(a);if(a==null||a.id!==i.EBML)return null;a=a.data;var b=new Map(),c=j(a);while(c!=null)c.id!=null&&b.set(c.id,c.data),a=a.slice(c.nextReadOffset),c=j(a);return b}function a(a){var b,c=k(new Uint8Array(a));if(c==null)return null;a=function(a,b){a=c.get(a);if(a==null)return null;else return b(a)};var d=a(i.DocType,h);return d==null?null:{ebmlVersion:(b=a(i.EBMLVersion,g))!=null?b:1,ebmlReadVersion:(b=a(i.EBMLReadVersion,g))!=null?b:1,ebmlMaxIDLength:(b=a(i.EBMLMaxIDLength,g))!=null?b:4,ebmlMaxSizeLength:(b=a(i.EBMLMaxSizeLength,g))!=null?b:8,docType:d,docTypeVersion:(b=a(i.DocTypeVersion,g))!=null?b:1,docTypeReadVersion:(d=a(i.DocTypeReadVersion,g))!=null?d:1}}}),null);
__d("isValidMKV",["Promise","readEBMLHeader"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a){a=b("readEBMLHeader")(a);if(a==null)return!1;else return a.ebmlMaxIDLength===4&&a.ebmlMaxSizeLength>=1&&a.ebmlMaxSizeLength<=8&&a.docType==="matroska"}function a(a){return new(b("Promise"))(function(b,c){var d=new FileReader();d.onerror=function(){return c(d.error)};d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(g(a)):c()};d.readAsArrayBuffer(a)})}}),null);
__d("usePagesCometComposerMultiMediaRestrictions",["fbt","cometPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a,c){var d=i.useCallback(function(a){a!=null&&a.map(function(a){return c({attachment:a,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})})},[c]);return i.useCallback(function(){if(a!=null){var c=a.filter(function(a){return a.fileType==="PHOTO"}),e=a.filter(function(a){return a.fileType==="VIDEO"});c.length>0&&e.length>0&&(e.length===1&&e[0].state==="NEW"&&!c.some(function(a){return a.state==="NEW"})?d(c):d(e),b("cometPushToast").cometPushSimpleToast(g._("Sorry, you can't add both photos and a video at the same time")));e.length>1&&(d(e.slice(1)),b("cometPushToast").cometPushSimpleToast(g._("Please select only one video file at a time.")))}},[a,d])}}),null);
__d("CometComposerHeadlessMediaUploaderImpl.react",["CometSphericalPhotoUtils","PagesCometComposerContext","Promise","cr:1506337","extractJPEGOrientationData","genDimensionsFromImageFile","genDimensionsFromVideoFile","genIsHEICFile","gkx","isValidMKV","promiseDone","react","recoverableViolation","useCometComposerLoggerDispatcher","usePagesCometComposerMultiMediaRestrictions"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.composerUploader,d=a.dispatch,e=a.mediaAttachments,f=a.mediaUploadStatuses,g=a.useOptimisticMediaPost,i=b("useCometComposerLoggerDispatcher")(),j=h.useContext(b("PagesCometComposerContext")),k=b("usePagesCometComposerMultiMediaRestrictions")(e,d),l=h.useCallback(function(a){d(babelHelpers["extends"]({type:"MEDIA_UPLOAD_STARTED"},a))},[d]),m=h.useCallback(function(a){d(babelHelpers["extends"]({type:"MEDIA_UPLOAD_PROGRESS"},a))},[d]),n=h.useCallback(function(a){var b=f&&f[a.uploadID];b!=null&&b.resolveFileUpload({attachmentID:a.entID,attachmentType:a.attachmentType})},[f]),o=h.useCallback(function(a){d({entID:a.entID,imageURL:a.attachmentType==="PHOTO"?a.imageURL:void 0,type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:a.uploadID})},[d]),p=h.useCallback(function(a){d(babelHelpers["extends"]({type:"MEDIA_UPLOAD_FAILED"},a))},[d]),q=h.useCallback(function(a){if(a.isSpherical){var c=b("CometSphericalPhotoUtils").createEncodingFromSphericalImage(a.sphericalImage);c&&d({sphericalEncoding:c,type:"SET_MEDIA_ATTACHMENT_ITEM_SPHERICAL_ENCODING",uploadID:a.uploadID})}},[d]);h.useEffect(function(){j!=null&&e!=null&&k();c.startedObserver.subscribe(l);c.progressObserver.subscribe(m);c.successObserver.subscribe(o);c.errorObserver.subscribe(p);c.sphericalImageDetectedObserver.subscribe(q);g&&c.successObserver.subscribe(n);return function(){c.startedObserver.unsubscribe(l),c.progressObserver.unsubscribe(m),c.successObserver.unsubscribe(o),c.errorObserver.unsubscribe(p),c.sphericalImageDetectedObserver.unsubscribe(q)}});var r=function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"&&a.fileType!=="UNKNOWN"?[a.file,a.fileType]:null},s=h.useCallback(function(a){var b=a.map(function(a){return a.file&&((a=a.file)==null?void 0:a.uploadID)}).filter(Boolean);d({type:"MARK_UPLOADS_CLIENT_PROCESSING",uploadIDs:b});a.forEach(function(a){var b;return i({fields:{media_id:(b=(b=a.file)==null?void 0:b.uploadID)!=null?b:"",media_type:a.fileType},type:"MEDIA_UPLOAD_PROCESS_START"})})},[d,i]),t=h.useCallback(function(a){var c=a.file;if(c)return b("genIsHEICFile")(c).then(function(e){e&&d({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[c==null?void 0:c.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[d]),u=h.useCallback(function(a){var c=a.file;if(c)return b("isValidMKV")(c).then(function(e){e&&d({type:"MARK_UPLOADS_AS_VIDEO",uploadIDs:[c==null?void 0:c.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[d]),v=h.useCallback(function(a){var c=a.file;return c?b("extractJPEGOrientationData")(c).then(function(c){c!=null&&c>0&&d({attachment:a,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"});return b("Promise").resolve(a)})["catch"](function(c){b("recoverableViolation")("An error occurred when parsing an uploaded image","comet_composer",{error:c});return b("Promise").resolve(a)}):b("Promise").resolve(a)},[d]),w=h.useCallback(function(a){var c=a.file?a.file:void 0,e=a.fileObjectURL,f;if(e!=null)switch(a.fileType){case"PHOTO":f=b("genDimensionsFromImageFile")(e);break;case"VIDEO":f=b("genDimensionsFromVideoFile")(e);break}else if(c!=null)switch(a.fileType){case"PHOTO":f=b("genDimensionsFromImageFile")(c);break;case"VIDEO":f=b("genDimensionsFromVideoFile")(c);break}else f=b("Promise").resolve({height:0,width:0});if(f!=null)return f.then(function(b){var c=b.height;b=b.width;d({attachment:a,height:c,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:b})},function(){d({attachment:a,height:0,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:0})})},[d]),x=h.useCallback(function(){var a=(e||[]).map(function(a){return a.state==="NEW"?a:null}).filter(Boolean);a.forEach(function(a){var c=a.file.uploadID;c!=null&&(i({fields:{media_id:c,media_type:a.fileType},type:"MEDIA_UPLOAD_FLOW_START"}),i({fields:{media_id:c,media_type:a.fileType},type:"MEDIA_UPLOAD_START"}));c=[];s([a]);a.fileType==="UNKNOWN"&&a.file?(c.push(t(a)),c.push(u(a))):a.fileType==="PHOTO"&&c.push(v(a));c.push(w(a));b("promiseDone")(b("Promise").all(c).then(function(){var b=[a.file.uploadID].filter(Boolean),c=a.fileType;d({type:"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED",uploadIDs:b});b.forEach(function(a){return i({fields:{media_id:a,media_type:c},type:"MEDIA_UPLOAD_PROCESS_SUCCESS"})})}))})},[w,t,u,v,d,i,s,e]),y=h.useCallback(function(){if(e!=null){var a=e.filter(function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"}).map(r).filter(Boolean);a.length>0&&(d({type:"QUEUE_UPLOADS",uploadIDs:a.map(function(a){var b=a[0];a[1];return b==null?void 0:b.uploadID}).filter(Boolean)}),c.upload(a));f&&e.forEach(function(a){if(a.state==="CLIENT_PROCESSING_COMPLETE"&&a.file.uploadID!=null){a=f[a.file.uploadID];a!=null&&b("promiseDone")(a.onUploadCancel,function(a){c.cancelUpload(a.attachmentID,a.attachmentType)})}})}},[c,d,e,f]),z=h.useCallback(function(){b("cr:1506337")!==null&&b("cr:1506337")(e,d)},[d,e]);h.useEffect(function(){x(),y(),b("gkx")("1488423")&&z()},[x,y,z]);return null}}),null);
__d("useComposerMediaFileUploaderWithClientSideImageResizer",["getComposerMediaFileUploaderWithClientSideImageResizer","gkx","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c,d,e){e===void 0&&(e=!1);var f=h.useMemo(function(){return b("getComposerMediaFileUploaderWithClientSideImageResizer")(a,c,d,e)},[a,d,e,c]),g=f[0],i=f[1];h.useEffect(function(){return b("gkx")("501")?i:void 0},[g,i]);return g}}),null);
__d("useComposerVideoUploaderConfig",["CometRelay","react","useComposerVideoUploaderConfigQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a,c,d){a=b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("useComposerVideoUploaderConfigQuery.graphql"),{actorID:(a=a)!=null?a:"",entryPoint:(a=c)!=null?a:"",targetID:(c=d)!=null?c:""});var e=(c=a==null?void 0:(d=a.viewer)==null?void 0:d.comet_composer_video_uploader_config)!=null?c:"";a=i.useMemo(function(){return e?JSON.parse(e):{}},[e]);return a}}),null);
__d("CometComposerHeadlessMediaUploader.react",["Actor","CometComposerHeadlessMediaUploaderImpl.react","GroupCometComposerContext","gkx","qex","react","useComposerMediaFileUploaderWithClientSideImageResizer","useComposerVideoUploaderConfig","useComposerViewStateDispatcher","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("qex")._("1221850")===!0;function a(a){var c=a.creationSessionID,d=a.isWorkDraftingFor,e=a.mediaAttachments,f=a.mediaUploadLoggingMetadata,g=f.composerEntrypoint,j=f.source;f=a.mediaUploadStatuses;a=a.workDraftFor;var k=b("useComposerViewStateDispatcher")(),l=b("Actor").useActor();l=l[0];var m,n=h.useContext(b("GroupCometComposerContext"));n=n.groupID;(a==null?void 0:a.originalActorID)!=null&&n!=null&&(m=n);var o=b("useComposerVideoUploaderConfig")(l,String(g),m),p=g==="feed"||b("gkx")("927");a=h.useMemo(function(){return babelHelpers["extends"]({},o,{composer_entry_point_ref:g,silent_file_validation:p,source:j})},[g,p,j,o]);n=b("useComposerMediaFileUploaderWithClientSideImageResizer")(l,a,c,d);return h.jsx(b("CometComposerHeadlessMediaUploaderImpl.react"),{composerUploader:n,dispatch:k,mediaAttachments:e,mediaUploadStatuses:f,useOptimisticMediaPost:i})}c=b("withComposerViewStatePart")(a,function(a){return{creationSessionID:a.creationSessionID,isWorkDraftingFor:a.workDraftFor!=null,mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses,workDraftFor:a.workDraftFor}});e.exports=c}),null);
__d("Comet360PhotoEditButton.react",["fbt","ix","CometComposerPushPageContext","CometErrorBoundary.react","FeedComposerCometGlimmer.react","JSResourceForInteraction","TetraButton.react","fbicon","lazyLoadComponent","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=b("lazyLoadComponent")(b("JSResourceForInteraction")("Comet360PhotoEditor.react").__setRef("Comet360PhotoEditButton.react"));function a(){var a=b("useCometComposerPushPage")(),c="Edit";return j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("477825"),16),label:c,onPress:function(){a&&a(g._("Select Starting View"),function(c){c=c.onReturn;return j.jsx(b("CometComposerPushPageContext").Provider,{value:a,children:j.jsx(b("CometErrorBoundary.react"),{fallback:function(){return j.jsx(b("FeedComposerCometGlimmer.react"),{})},children:j.jsx(k,{onBack:c})})})})},type:"overlay"})}}),null);
__d("CometPickerNullStateContainer.react",["CometColumn.react","CometColumnItem.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.children,d=a.notExpanding;d=d===void 0?!1:d;a=a.xstyle;return h.jsx(b("CometColumn.react"),{align:"center",expanding:!d,verticalAlign:"center",xstyle:a,children:h.jsx(b("CometColumnItem.react"),{children:c})})}}),null);
__d("CometPickerNullState.react",["CometPickerNullStateContainer.react","TetraNullState.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.headline;c=c===void 0?null:c;var d=a.notExpanding;d=d===void 0?!1:d;var e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["headline","notExpanding","xstyle"]);return h.jsx(b("CometPickerNullStateContainer.react"),{notExpanding:d,xstyle:e,children:h.jsx(b("TetraNullState.react"),babelHelpers["extends"]({},a,{bodyColor:"tertiary",headline:c}))})}c=h.memo(a);e.exports=c}),null);
__d("ComposerMediaDeepDiveAddMediaButton.react",["fbt","ix","TetraButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){a=a.onClick;return j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("481773"),16),label:g._("Add Photos\/Videos"),onPress:a,reduceEmphasis:!0,type:"secondary"})}}),null);
__d("CircularProgressBar.react",["cx","createReactClass_DEPRECATED","gkx","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=b("createReactClass_DEPRECATED")({displayName:"CircularProgressBar",propTypes:{animate:b("prop-types").bool,percentComplete:b("prop-types").number.isRequired,text:b("prop-types").string},render:function(){var a=this.props,c=a.animate,d=a.text;a=a.percentComplete;var e=360*a/100,f=Math.max(e,180)-180;e=Math.min(e,180);var g=a<100?"1":"0",h=b("gkx")("1968791")?"_1_br _9q5e":"_1_br";return i.jsxs("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,className:"_1_bj",role:"progressbar",style:{opacity:g},children:[!!d&&i.jsx("div",{className:"_22sa",children:d}),i.jsx("div",{className:"_1_bk",children:i.jsxs("div",{className:c?"_22sb":"",children:[i.jsx("div",{className:"_1_bl",style:{opacity:g}}),i.jsx("div",{className:"_1_bp _1_bq",children:i.jsx("div",{className:h,style:{transform:"translateX(-100%) rotate("+f+"deg)",opacity:g}})}),i.jsx("div",{className:"_1_bs _1_bq",children:i.jsx("div",{className:h,style:{transform:"translateX(-100%) rotate("+e+"deg)",opacity:g}})})]})})]})}});c=a;e.exports=c}),null);
__d("CollageItemFallback.react",["ix","CircularProgressBar.react","CometImage.react","TetraText.react","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react");function a(a){var c=a.filename,d=a.fileType;a=a.percentComplete;c=c!=null?c:void 0;var e=b("qex")._("1138950");return j.jsxs("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 taijpn5t datstx6m cbu4d94t j83agx80 rq0escxv qsy8amke bp9cbjyn n5ue3fu6",children:[j.jsx("div",{className:(i||(i=b("stylex"))).dedupe(e===!0?{"display-1":"j83agx80","margin-bottom-1":"qacpv2si","margin-top-1":"f0zqjlou"}:{"display-1":"j83agx80","margin-bottom-1":"n851cfcs"}),children:j.jsx(b("CometImage.react"),{alt:c,draggable:!1,src:d==="VIDEO"?g("567270"):g("557364")})}),a!=null&&j.jsx(b("CircularProgressBar.react"),{percentComplete:a*100}),j.jsx(b("TetraText.react"),{numberOfLines:1,type:"meta1",children:c})]})}}),null);
__d("LocalVideoFilePreview.react",["MediaEditorViewStateContext","VideoPlayerPlayButton.react","clearTimeout","generateVideoThumbnails","react","regeneratorRuntime","setTimeout","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=a.videoPlayer;f.next=3;return b("regeneratorRuntime").awrap(b("generateVideoThumbnails")(c,c.videoWidth?c.videoWidth:0,c.videoHeight?c.videoHeight:0,10,"contain",0,null));case 3:d=f.sent;e=d.thumbnails;return f.abrupt("return",e);case 6:case"end":return f.stop()}},null,this)};function a(a){var c=a.disableHoverPlay,d=a.disablePlayOverlayBtn,e=a.mediaAttachment,f=a.needLoadData,g=a.setVideoRef,j=a.showPlaybackControls,k=a.thumbnailURL,l=a.videoAttachmentMetadata,m=h.useRef(null),n=h.useRef(null);a=h.useState(!1);var o=a[0],p=a[1],q=b("useComposerViewStateDispatcher")(),r=(a=(a=h.useContext(b("MediaEditorViewStateContext")))==null?void 0:a.index)!=null?a:0;a=function(){n.current!==null&&b("clearTimeout")(n.current),m.current&&m.current.play(),p(!0),j||(n.current=b("setTimeout")(s,1e4))};var s=function(){var a=m.current;a!==null&&(a.pause(),j||(a.currentTime=0));p(!1)},t=function(a){q({currentIndex:r,type:"SET_VIDEO_ATTACHMENT_METADATA",videoAttachmentMetadata:babelHelpers["extends"]({},l,{generatedThumbnails:a})})},u=function(a){q({currentIndex:r,type:"SET_VIDEO_ATTACHMENT_METADATA",videoAttachmentMetadata:babelHelpers["extends"]({},l,{isGeneratingThumbnails:a})})},v=function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=m.current;if(!(a!==null)){d.next=11;break}g&&g(a);if(!f){d.next=11;break}u(!0);d.next=7;return b("regeneratorRuntime").awrap(i({videoPlayer:a}));case 7:c=d.sent,a.currentTime=0,t(c),u(!1);case 11:case"end":return d.stop()}},null,this)};return e.fileType!=="FILE"?h.jsxs(h.Fragment,{children:[h.jsx("video",{className:"k4urcfbm r0294ipz datstx6m",controls:j,crossOrigin:"anonymous",onClick:function(){p(!0)},onLoadedData:v,onMouseEnter:c?null:a,onMouseLeave:c?null:s,onPause:function(){p(!1)},onPlay:function(){return p(!0)},poster:k,ref:m,src:e.state!=="NEW"&&e.state!=="CLIENT_PROCESSING"&&e.state!=="CLIENT_PROCESSING_COMPLETE"&&e.fileObjectURL}),h.jsx(b("VideoPlayerPlayButton.react"),{isVisible:!o&&!d,onClick:a})]}):null}}),null);
__d("PlayableCollageItemOverlay.react",["CometImage.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){return h.jsx("div",{className:"hyc5pup2 rr1tmaxi pmk7jnqg",children:h.jsx(b("CometImage.react"),{height:72,src:"/images/video/play_72dp.png",width:72})})}}),null);
__d("RemoteVideoFilePreview.react",["CometPlaceholder.react","CometProgressRing.react","CometRelay","PlayableCollageItemOverlay.react","RecoverableViolationWithComponentStack.react","RemoteVideoFilePreviewQuery.graphql","VideoPlayerHooks","VideoPlayerRelay.react","VideoPlayerSurface.react","react","useDebouncedValue","useVideoPlayerClip"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){a=a.mediaAttachment;a=a.entID;return a==null?null:i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(k,{}),children:i.jsx(j,{videoID:a})})}function j(a){a=a.videoID;a=b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("RemoteVideoFilePreviewQuery.graphql"),{videoID:a});a=a.video;return a==null?i.jsx(b("RecoverableViolationWithComponentStack.react"),{errorMessage:"video should not be null in preview",projectName:"comet_composer"}):i.jsx(b("VideoPlayerRelay.react"),{canAutoplay:"do_not_autoplay",portalingEnabled:!1,subOrigin:"embedded_video_preview",video:a,children:i.jsx(b("VideoPlayerSurface.react"),{children:i.jsx(l,{})})})}function k(){return i.jsx("div",{className:"k4urcfbm pmk7jnqg datstx6m",children:i.jsx(b("CometProgressRing.react"),{color:"dark",duration:5,size:32,type:"estimated"})})}function l(){var a=b("VideoPlayerHooks").useController(),c=b("VideoPlayerHooks").usePaused(),d=b("VideoPlayerHooks").usePlaying();d=b("useDebouncedValue")(d,5);c=c&&!d;b("useVideoPlayerClip")({clipDuration:10,pauseOnLoop:!0});d=function(){a.getCurrentState().paused&&a.play("user_initiated")};var e=function(){a.getCurrentState().playing&&(a.pause("product_initiated"),a.seek(0))};return i.jsx("div",{className:"k4urcfbm pmk7jnqg datstx6m",onMouseEnter:d,onMouseLeave:e,children:c?i.jsx(b("PlayableCollageItemOverlay.react"),{}):null})}}),null);
__d("CometComposerVideoPreview.react",["CollageItemFallback.react","CometVideoEditorUtils.react","LocalVideoFilePreview.react","RemoteVideoFilePreview.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={imageArea:{height:"djkytl3r"}};function a(a){var c=a.isPlayablePreview;c=c===void 0?!1:c;var d=a.mediaAttachment,e=a.setVideoRef;a=a.videoStyle;if(d.fileType!=="VIDEO")return null;var f=b("CometVideoEditorUtils.react").getThumbnailURLFromVideoMetadata(d);if(d.fileObjectURL!=null)if(d.file&&d.useCDNPreview===!0)return i.jsx("div",{className:(h||(h=b("stylex")))(j.imageArea),children:i.jsx(b("CollageItemFallback.react"),{fileType:d.fileType,filename:d.file.name})});else if(d.file||d.state==="PREEXISTING"){var g=(d==null?void 0:d.videoAttachmentMetadata)||{},k=(g==null?void 0:g.generatedThumbnails)||[];k=k&&k.length>0;return i.jsx("div",{className:(h||(h=b("stylex")))(a),children:i.jsx(b("LocalVideoFilePreview.react"),{disableHoverPlay:c,disablePlayOverlayBtn:c&&(g==null?void 0:g.thumbnailType)==="scrubber_selected",mediaAttachment:d,needLoadData:c&&!k,setVideoRef:e,showPlaybackControls:c&&(g==null?void 0:g.thumbnailType)!=="scrubber_selected",thumbnailURL:f,videoAttachmentMetadata:g})})}return d.state==="PREEXISTING"?i.jsx("div",{className:(h||(h=b("stylex")))(a),children:i.jsx(b("RemoteVideoFilePreview.react"),{mediaAttachment:d})}):null}}),null);
__d("CometComposerRemoveMediaAttachmentItemButton.react",["fbt","ix","TetraCircleButton.react","cometIsMimeTypeForMedia","fbicon","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){var c=a.attachment,d=b("useComposerViewStateDispatcher")();a=j.useCallback(function(){d({attachment:c,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})},[c,d]);return j.jsx("div",{className:"a7x4jqbc gwewmpg2 pmk7jnqg jaqpu5ht",children:j.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(h("478238"),20),label:b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(c==null?void 0:c.fileType)?g._("Remove photo"):g._("Remove video"),onPress:a,size:36,type:"overlay"})})}}),null);
__d("ComposerMediaDeepDiveActionsOverlay.react",["CometComposerEditMediaAttachmentItemButton.react","CometComposerRemoveMediaAttachmentItemButton.react","cr:1918884","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j=(c=b("cr:1918884"))!=null?c:function(a){return null},k=b("gkx")("1217157"),l=b("gkx")("1923549");function a(a){var c=a.isError,d=a.isVideo,e=a.itemIndex,f=a.mediaAttachment;a=a.showButtons;var g=j([f]);c=c?null:g;g=l?i.jsx(b("CometComposerEditMediaAttachmentItemButton.react"),{index:e}):null;c=k?c:g;return i.jsxs("div",{className:(h||(h=b("stylex"))).dedupe(a?{"opacity-1":"pedkr2u6"}:{"opacity-1":"b5wmifdl"}),children:[i.jsx("div",{className:"fcg2cn6m rnx8an3s pmk7jnqg",children:d?c:i.jsx(b("CometComposerEditMediaAttachmentItemButton.react"),{index:e})}),i.jsx("div",{className:"fcg2cn6m pmk7jnqg swmj3c3o",children:i.jsx(b("CometComposerRemoveMediaAttachmentItemButton.react"),{attachment:f})})]})}}),null);
__d("ComposerMediaDeepDiveCaptionEditor.react",["fbt","CometFormTextArea.react","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=a.mediaAttachmentItem;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var d=b("useComposerViewStateDispatcher")();return i.jsx(b("CometFormTextArea.react"),{label:g._("Caption"),maxRows:2,minRows:2,onValueChange:function(a){d({attachment:c,caption:a,type:"SET_MEDIA_ATTACHMENT_CAPTION"})},value:c.fileType==="PHOTO"||c.fileType==="VIDEO"?((a=c.data)==null?void 0:(a=a.message)==null?void 0:a.text)||"":""})}}),null);
__d("ComposerMediaDeepDiveMetadataPill.react",["CometPressable.react","TetraIcon.react","TetraText.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=h.useState(!1),d=c[0],e=c[1];return h.jsx("div",{children:h.jsx(b("CometPressable.react"),{"aria-label":a.label,onHoverIn:function(){e(!0)},onHoverOut:function(){return e(!1)},onPress:a.onPress,overlayDisabled:!0,children:h.jsxs("div",{className:"pcp91wgn iuny7tx3 p8fzw8mz ipjc6fyt qjjbsfad j83agx80 qrtewk5h lsl2245n hqlzco19 o3c63hce lit7pgxp d6rk862h bp9cbjyn",children:[h.jsx(b("TetraIcon.react"),{color:"white",icon:a.icon}),d||Boolean(a.shouldAlwaysShowLabel)?h.jsx("div",{className:"pcp91wgn buofh1pr rj1gh0hx",children:h.jsx(b("TetraText.react"),{color:"white",type:"body4",children:a.label})}):null]})})})}}),null);
__d("ProductTagComposerPhotoHoverProductIconClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744201");c=b("FalcoLoggerInternal").create("product_tag_composer_photo_hover_product_icon_click",a);e.exports=c}),null);
__d("ComposerMediaDeepDiveTagProducts.react",["fbt","ix","Actor","CometMediaEditorPageResource","ComposerMediaDeepDiveMetadataPill.react","ProductTagComposerPhotoHoverProductIconClickFalcoEvent","fbicon","intlList","lazyLoadComponent","react","useCometComposerPushPage","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("lazyLoadComponent")(b("CometMediaEditorPageResource"));function a(a){var c=b("useCometComposerPushPage")(),d=a.mediaAttachment.fileType==="PHOTO"?(a.mediaAttachment.data.tags||[]).map(function(a){return a==null?void 0:(a=a.taggee)==null?void 0:a.name}).filter(Boolean):null,e=g._("Tag Products"),f=!1;d&&d.length>0&&(f=!0,e=b("intlList")(d));d=b("Actor").useActor();var i=d[0],l=function(){if(a.mediaAttachment.fileType!=="PHOTO")return;var c=a.mediaAttachment.data.id;b("ProductTagComposerPhotoHoverProductIconClickFalcoEvent").log(function(){return{creation_session_id:a.creationSessionID,creator_id:i,media_id:c,media_type:"photo",platform:"comet",referral_source:"composer"}})};return a.mediaAttachment.fileType==="PHOTO"?j.jsx(b("ComposerMediaDeepDiveMetadataPill.react"),{icon:b("fbicon")._(h("1650379"),12),label:e,onPress:function(){l(),c!=null&&c(g._("Photo Detail"),function(b){b=b.onReturn;return j.jsx(k,{index:a.index,initialTool:"PRODUCT_TAG",isDialog:!0,onBack:b})},{hasCustomHeader:!0})},shouldAlwaysShowLabel:f}):null}c=b("withComposerViewStatePart")(a,function(a){return{creationSessionID:a.creationSessionID}});e.exports=c}),null);
__d("ComposerMediaDeepDiveTaggedPeople.react",["fbt","ix","CometMediaEditorPageResource","ComposerMediaDeepDiveMetadataPill.react","fbicon","intlList","lazyLoadComponent","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=b("lazyLoadComponent")(b("CometMediaEditorPageResource"));function a(a){var c=b("useCometComposerPushPage")(),d=a.mediaAttachment.fileType==="PHOTO"?(a.mediaAttachment.data.tags||[]).map(function(a){return a==null?void 0:(a=a.taggee)==null?void 0:a.name}).filter(Boolean):null,e=g._("Tag Photo"),f=!1;d&&d.length>0&&(f=!0,e=b("intlList")(d));return j.jsx(b("ComposerMediaDeepDiveMetadataPill.react"),{icon:b("fbicon")._(h("502469"),12),label:e,onPress:function(){c!=null&&c(g._("Photo Detail"),function(b){b=b.onReturn;return j.jsx(k,{index:a.index,initialTool:"XY_TAG",isDialog:!0,onBack:b})},{hasCustomHeader:!0})},shouldAlwaysShowLabel:f})}}),null);
__d("ComposerMediaDeepDiveUploadFailedItem.react",["CometColumn.react","CometColumnItem.react","NullStateMedia","TetraNullState.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.errorMessage;a=a.fileName;return h.jsx("div",{className:"datstx6m j83agx80 gigke590 l36b2tei mvoc3dfa zonuqk10 ljqcmsvz bp9cbjyn",children:h.jsx(b("CometColumn.react"),{align:"center",expanding:!0,verticalAlign:"center",children:h.jsx(b("CometColumnItem.react"),{children:h.jsx(b("TetraNullState.react"),{body:(c=c)!=null?c:"",bodyColor:"negative",headline:a,icon:b("NullStateMedia")})})})})}}),null);
__d("DeepDiveImageFilePreview.react",["BaseImage.react","CometBlurredBackgroundImage.react","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j={image:{height:"datstx6m",objectFit:"r0294ipz",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"k4urcfbm"},root:{backgroundColor:"pgeiv1et",position:"l9j0dhe7"}};function a(a){var c=a.blurredBackground,d=a.fileName,e=a.uri;a=a.xstyle;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root,a),children:[c===!0&&i.jsx(b("CometBlurredBackgroundImage.react"),{draggable:!1,src:e}),i.jsx(b("BaseImage.react"),{alt:d,draggable:!1,src:e,xstyle:j.image})]})}}),null);
__d("EntPhotoDeepDiveItem.react",["CometRelay","DeepDiveImageFilePreview.react","EntPhotoDeepDiveItem_media.graphql","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=a.media;a=babelHelpers.objectWithoutPropertiesLoose(a,["media"]);c=b("CometRelay").useFragment(g!==void 0?g:g=b("EntPhotoDeepDiveItem_media.graphql"),c);c=c==null?void 0:(c=c.image)==null?void 0:c.uri;return c!=null?i.jsx(b("DeepDiveImageFilePreview.react"),babelHelpers["extends"]({uri:c},a)):null}}),null);
__d("EntPhotoDeepDiveItemContainer.react",["CometRelay","EntPhotoDeepDiveItem.react","EntPhotoDeepDiveItemContainerQuery.graphql","WebPixelRatio","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=a.fileName,d=a.id;a=a.xstyle;d={id:d,scale:b("WebPixelRatio").get()};d=b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("EntPhotoDeepDiveItemContainerQuery.graphql"),d);return i.jsx(b("EntPhotoDeepDiveItem.react"),{blurredBackground:!0,fileName:c,media:d==null?void 0:d.node,xstyle:a})}}),null);
__d("ComposerMediaDeepDiveItem.react",["Actor","CollageItemFallback.react","CometComposerVideoPreview.react","CometPlaceholder.react","CometRelay","ComposerMediaDeepDiveActionsOverlay.react","ComposerMediaDeepDiveCaptionEditor.react","ComposerMediaDeepDiveItemQuery.graphql","ComposerMediaDeepDiveTagProducts.react","ComposerMediaDeepDiveTaggedPeople.react","ComposerMediaDeepDiveUploadFailedItem.react","DeepDiveImageFilePreview.react","EntPhotoDeepDiveItemContainer.react","react","recoverableViolation","stylex","useComposerPluginIneligibility"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=h||b("react"),k={captionArea:{backgroundColor:"cwj9ozl2",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},failedMediaArea:{height:"jh4d4hv6"},mediaAndMetadata:{position:"l9j0dhe7"},mediaArea:{height:"djkytl3r"},metadataArea:{bottom:"d2iitwg3",marginEnd:"tvfksri0",position:"pmk7jnqg",start:"rnx8an3s"},root:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"ad9n1n66",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7"},videoStyle:{backgroundColor:"tqsryivl",height:"djkytl3r"}};function a(a){var c,d=a.canUserEditCaption,e=a.itemIndex,f=a.mediaAttachment;a=j.useState(!1);var h=a[0],l=a[1];a=b("Actor").useActor();var m=b("useComposerPluginIneligibility")().has("MEDIA_EDIT"),n=f.fileType==="VIDEO",o=!n&&!m;m=b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("ComposerMediaDeepDiveItemQuery.graphql"),{id:a[0],isTaggable:o});var p=(m==null?void 0:(a=m.page)==null?void 0:a.has_taggable_products)===!0;m=function(a){return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),onBlur:function(){return l(!1)},onFocus:function(){return l(!0)},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[j.jsxs("div",{className:i(k.mediaAndMetadata),children:[a,o&&j.jsx("div",{className:(i||(i=b("stylex")))(k.metadataArea),children:p===!0?j.jsx(b("ComposerMediaDeepDiveTagProducts.react"),{index:e,mediaAttachment:f}):j.jsx(b("ComposerMediaDeepDiveTaggedPeople.react"),{index:e,mediaAttachment:f})})]}),j.jsx(b("ComposerMediaDeepDiveActionsOverlay.react"),{isError:r,isVideo:n,itemIndex:e,mediaAttachment:f,showButtons:h}),d&&!r?j.jsx("div",{className:(i||(i=b("stylex")))(k.captionArea),children:j.jsx(b("ComposerMediaDeepDiveCaptionEditor.react"),{mediaAttachmentItem:f})}):null]})};var q,r;if(f.state==="CLIENT_PROCESSING"||f.state==="CLIENT_PROCESSING_COMPLETE")return j.jsx("div",{className:(i||(i=b("stylex")))(k.mediaArea),children:j.jsx(b("CollageItemFallback.react"),{fileType:f.fileType})});else if(f.state==="FAILED"){r=!0;q=j.jsx("div",{className:(i||(i=b("stylex")))(k.failedMediaArea),children:j.jsx(b("ComposerMediaDeepDiveUploadFailedItem.react"),{errorMessage:f.error,fileName:f.file.name})});return m(q)}else if(f.state==="PREEXISTING"){a=j.jsx("div",{className:(i||(i=b("stylex")))(k.mediaArea),children:j.jsx(b("CollageItemFallback.react"),{fileType:f.fileType})});switch(f.fileType){case"PHOTO":q=f.entID!=null?j.jsx(b("CometPlaceholder.react"),{fallback:a,children:j.jsx(b("EntPhotoDeepDiveItemContainer.react"),{id:f.entID,xstyle:k.mediaArea})}):null;break;case"VIDEO":q=j.jsx(b("CometComposerVideoPreview.react"),{mediaAttachment:f});break;case"UNKNOWN":b("recoverableViolation")("`UNKNOWN` media attachment in composer media deep dive","comet_composer");q=null;break}return m(q)}else if(f.file&&f.fileObjectURL!=null){switch(f.fileType){case"PHOTO":switch(f.useCDNPreview){case!0:a=j.jsx("div",{className:(i||(i=b("stylex")))(k.mediaArea),children:j.jsx(b("CollageItemFallback.react"),{fileType:f.fileType,filename:(a=f.file)==null?void 0:a.name,percentComplete:f.state==="UPLOADING"?f.percentComplete:void 0})});switch(f.state){case"UPLOADED":q=f.entID!=null?j.jsx(b("CometPlaceholder.react"),{fallback:a,children:j.jsx(b("EntPhotoDeepDiveItemContainer.react"),{fileName:(c=f.file)==null?void 0:c.name,id:f.entID,xstyle:k.mediaArea})}):null;break;default:q=a;break}break;default:q=j.jsx(b("DeepDiveImageFilePreview.react"),{blurredBackground:!0,fileName:(c=f.file)==null?void 0:c.name,uri:f.fileObjectURL,xstyle:k.mediaArea})}break;case"VIDEO":f.file.type==="image/gif"?q=j.jsx(b("DeepDiveImageFilePreview.react"),{fileName:f.file.name,uri:f.fileObjectURL,xstyle:k.mediaArea}):q=j.jsx("div",{className:(i||(i=b("stylex")))(k.mediaArea),children:j.jsx(b("CometComposerVideoPreview.react"),{mediaAttachment:f,videoStyle:k.videoStyle})});break;case"FILE":case"UNKNOWN":q=null}return m(q)}else return null}}),null);
__d("ComposerMediaDeepDive.react",["fbt","CometComposerUploadMediaButtonRenderer.react","CometDraggableGrid.react","CometPickerNullState.react","CometRow.react","CometRowItem.react","CometScrollableArea.react","ComposerMediaDeepDiveAddMediaButton.react","ComposerMediaDeepDiveItem.react","NullStateMedia","TetraButton.react","TetraText.react","composerMediaAttachmentReducer","composerMediaAttachmentUtils","qex","react","stylex","useComposerValidationErrors","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={error:{display:"j83agx80",justifyContent:"taijpn5t"},items:{backgroundColor:"g6srhlxm",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},root:{display:"j83agx80",flexDirection:"cbu4d94t",maxHeight:"f0kvp8a6",maxWidth:"fhuww2h9"},toolbar:{borderTop:"dwg5866k",paddingTop:"pybr56ya",paddingEnd:"ph5uu5jm",paddingBottom:"f10w8fjw",paddingStart:"b3onmgus"},x1GridWidth:{maxWidth:"fhuww2h9"},x2GridWidth:{maxWidth:"mt3fbsrg",width:"slwcbde0"},x3GridWidth:{maxWidth:"mt3fbsrg",width:"slwcbde0","@media (min-width: 1350px)":{maxWidth:"l0zeh9nj"}}},l=3,m=5,n=80;function a(a){var c=a.mediaAttachments,d=a.mediaAttachmentsLimit,e=a.popPage;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var f=b("useComposerViewStateDispatcher")();a=b("useComposerValidationErrors")();a=a.mediaLimit;d=(d=d)!=null?d:n;a=a!=null?j.jsxs(b("TetraText.react"),{color:"negative",type:"bodyLink4",children:[c==null?void 0:c.length,"/",d]}):null;d=j.useCallback(function(a,b,c){f({sourceIndex:b,targetIndex:c,type:"REORDER_MEDIA_ATTACHMENT_ITEM"})},[f]);var h=c||[];c=(c=b("qex")._("275"))!=null?c:!1;c===!0&&(h.length>=m?c=k.x3GridWidth:h.length>=l?c=k.x2GridWidth:c=k.x1GridWidth);return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root,c),children:[h.length===0?j.jsx(b("CometPickerNullState.react"),{body:g._("Start by adding a photo\/video"),icon:b("NullStateMedia")}):j.jsx(b("CometScrollableArea.react"),{horizontal:!1,xstyle:k.items,children:j.jsx(b("CometDraggableGrid.react"),{columnMaxWidth:680,columnMinWidth:350,expanded:!0,items:h.map(function(a,c){return a.file||a.useCDNPreview?j.jsx(b("ComposerMediaDeepDiveItem.react"),{canUserEditCaption:h.length>1,itemIndex:c,mediaAttachment:a},"media-"+(b("composerMediaAttachmentUtils").getIDFromMediaAttachment(a)||c)):null}).filter(Boolean),onReorder:d})}),j.jsx("div",{className:i(k.toolbar),children:j.jsxs(b("CometRow.react"),{align:"end",paddingTop:0,children:[a!=null&&j.jsx(b("CometRowItem.react"),{expanding:!0,xstyle:k.error,children:a}),j.jsx(b("CometRowItem.react"),{children:j.jsx(b("CometComposerUploadMediaButtonRenderer.react"),{Button:b("ComposerMediaDeepDiveAddMediaButton.react")})}),j.jsx(b("CometRowItem.react"),{children:j.jsx(b("TetraButton.react"),{label:g._("Done"),onPress:function(){e()},padding:"wide",type:"primary"})})]})})]})}c=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments,mediaAttachmentsLimit:a.mediaAttachmentsLimit}});e.exports=c}),null);
__d("ComposerCometOpenMediaDeepDiveButton.react",["fbt","ix","CometComposerPushPageContext","ComposerMediaDeepDive.react","TetraButton.react","fbicon","react","useCometComposerPushPage"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react");function a(a){a=a.buttonLabel;a=a===void 0?g._("Edit All"):a;var c=b("useCometComposerPushPage")();return j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("477825"),16),label:a,onPress:function(){c&&c(g._("Photos\/Videos"),function(a){a=a.onReturn;return j.jsx(b("CometComposerPushPageContext").Provider,{value:c,children:j.jsx(b("ComposerMediaDeepDive.react"),{popPage:a})})})},type:"overlay"})}}),null);
__d("ComposerCometEditMediaActionsOverlay.react",["fbt","ix","Comet360PhotoEditButton.react","CometComposerEditMediaAttachmentItemButton.react","CometComposerEditVideoButtonWithNux.react","CometFileSelector.react","CometRow.react","CometRowItem.react","ComposerCometOpenMediaDeepDiveButton.react","TetraButton.react","cr:1613921","cr:1918884","fbicon","gkx","react","stylex","useComposerPluginIneligibility","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=i||b("react"),l=b("gkx")("1923549"),m=(c=b("cr:1918884"))!=null?c:function(a){return null},n={buttonLayer:{backgroundColor:"rsx06lma",height:"datstx6m",opacity:"b5wmifdl",paddingTop:"pybr56ya",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",width:"k4urcfbm"},buttonLayerVisible:{opacity:"pedkr2u6"}};function a(a){var c=a.accept,d=a.inComposer,e=a.mediaAttachments,f=a.showButtons;a=a.videoLiteComposerEligible;var i=b("useComposerViewStateDispatcher")(),o=function(a){a.length>0&&i({files:Array.from(a),type:"ADD_MEDIA_ATTACHMENT_ITEMS"})},p=e.length===1&&e[0].fileType==="VIDEO",q=a&&p,r=e.length===1&&e[0].fileType==="PHOTO"&&e[0].sphericalEncoding!=null,s=b("useComposerPluginIneligibility")().has("MEDIA_EDIT"),t=k.useMemo(function(){if(e.length>1)return k.jsx(b("ComposerCometOpenMediaDeepDiveButton.react"),{});if(s)return null;if(p){if(q)return k.jsx(b("CometComposerEditVideoButtonWithNux.react"),{});return l?k.jsx(b("CometComposerEditMediaAttachmentItemButton.react"),{index:0}):null}return r?k.jsx(b("Comet360PhotoEditButton.react"),{}):k.jsx(b("CometComposerEditMediaAttachmentItemButton.react"),{index:0})},[e,s,p,r,q]),u=m(e);return k.jsx(b("CometFileSelector.react"),{accept:c,multiple:!0,onFilesSelected:o,children:function(a){return d&&k.jsx("div",{className:(j||(j=b("stylex")))([n.buttonLayer,(q||f)&&n.buttonLayerVisible]),children:k.jsxs(b("CometRow.react"),{align:"start",paddingTop:0,children:[t&&k.jsx(b("CometRowItem.react"),{children:t}),s||q?null:k.jsx(b("CometRowItem.react"),{children:k.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("481773"),16),label:g._("Add Photos\/Videos"),onPress:a,type:"overlay"})}),b("cr:1613921")?k.jsx(b("CometRowItem.react"),{children:k.jsx(b("cr:1613921"),{})}):null,u&&k.jsx(b("CometRowItem.react"),{children:u})]})})}})}}),null);
__d("ComposerCometMediaAttachmentCollageLayoutRenderer.react",["cr:1661928","cr:1674490","cr:665","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.selectedPhotoLayout,d=babelHelpers.objectWithoutPropertiesLoose(a,["selectedPhotoLayout"]);a=b("gkx")("1609581");var e=function(){return h.jsx(b("cr:665"),babelHelpers["extends"]({},d))};if(!c||!a)return e();switch(c){case"classic":return e();case"columns":if(b("cr:1661928"))return h.jsx(b("cr:1661928"),{mediaAttachments:d.mediaAttachments});else throw new(b("unrecoverableViolation"))("ComposerCometMediaAttachmentCollageLayoutRenderer was unable to render Column Photo Layout","comet_composer");case"banner":return i(c);case"frame":if(b("cr:1674490"))return h.jsx(b("cr:1674490"),{mediaAttachments:d.mediaAttachments});else throw new(b("unrecoverableViolation"))("ComposerCometMediaAttachmentCollageLayoutRenderer was unable to render Frame Photo Layout","comet_composer");default:c;throw b("unrecoverableViolation")("photo layout not supported in ComposerCometMediaAttachmentCollageLayoutRenderer","comet_composer")}}function i(a){return h.jsx("div",{className:"sgwjjusx",children:a})}}),null);
__d("ComposerCometMediaAttachmentCollage.react",["fbt","ComposerCometEditMediaActionsOverlay.react","ComposerCometMediaAttachmentCollageLayoutRenderer.react","composerMediaAttachmentReducer","fileInputAcceptValues","react","stylex","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=h||b("react");function a(a){var c=a.disableVideoUploads,d=a.inComposer,e=a.mediaAttachments,f=a.mediaUploadLoggingMetadata,h=a.removeBorderRadiusBottomStyle;h=h===void 0?!1:h;var k=a.selectedPhotoLayout,l=a.videoLiteComposerEligible;l=l===void 0?!1:l;var m=a.width;a=a.withoutUploader;var n=j.useState(!1),o=n[0],p=n[1];n=j.useState(!1);var q=n[0],r=n[1];b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));n=c!==!0?b("fileInputAcceptValues").PHOTO_AND_VIDEO:b("fileInputAcceptValues").PHOTO;return j.jsxs("div",{"aria-label":g._("Attached media"),className:(i||(i=b("stylex"))).dedupe({"border-top-start-radius-1":"ue3kfks5","border-top-end-radius-1":"pw54ja7n","border-bottom-end-radius-1":"uo3d90p7","border-bottom-start-radius-1":"l82x9zwi","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","position-1":"l9j0dhe7","width-1":"k4urcfbm"},d?null:{"border-top-0.3":"qu0x051f","border-end-0.3":"esr5mh6w","border-bottom-0.3":"e9989ue4","border-start-0.3":"r7d6kgcz","border-top-start-radius-1":"monazrh9","border-top-end-radius-1":"h905i5nu","border-bottom-end-radius-1":"jinzq4gt","border-bottom-start-radius-1":"mrjvor2e"},h?{"border-bottom-end-radius-1":"jinzq4gt","border-bottom-start-radius-1":"mrjvor2e"}:null),onBlur:function(){return p(!1)},onFocus:function(){return p(!0)},onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},role:"group",children:[j.jsx(b("ComposerCometMediaAttachmentCollageLayoutRenderer.react"),{inComposer:d,mediaAttachments:e,mediaUploadLoggingMetadata:f,selectedPhotoLayout:k,width:m,withoutUploader:a}),j.jsx(b("ComposerCometEditMediaActionsOverlay.react"),{accept:n,inComposer:d,mediaAttachments:e,showButtons:o||q,videoLiteComposerEligible:l})]})}}),null);
__d("ComposerCometSelectedPhotoLayoutContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c={layout:"classic"};d=a.createContext(c);e.exports=d}),null);
__d("makeMediaAttachmentReadyForPreview",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a.state){case"NEW":case"CLIENT_PROCESSING":switch(a.fileType){case"PHOTO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",sphericalEncoding:a.sphericalEncoding,state:"CLIENT_PROCESSING",useCDNPreview:a.useCDNPreview};case"VIDEO":return{data:a.data,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",state:"CLIENT_PROCESSING",useCDNPreview:a.useCDNPreview};default:return a}case"PREEXISTING":return a;case"UPLOADED":switch(a.fileType){case"PHOTO":return{data:a.data,entID:a.data.id,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,sphericalEncoding:a.sphericalEncoding,state:"UPLOADED",useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{data:a.data,entID:a.data.id,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,state:"UPLOADED",useCDNPreview:a.useCDNPreview,videoAttachmentMetadata:a.videoAttachmentMetadata,width:a.width};default:return a}case"FAILED":switch(a.fileType){case"PHOTO":return{data:a.data,error:a.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"PHOTO",height:a.height,sphericalEncoding:a.sphericalEncoding,state:"FAILED",useCDNPreview:!0,width:a.width};case"VIDEO":return{data:a.data,error:a.error,file:a.file,fileObjectURL:a.fileObjectURL,fileType:"VIDEO",height:a.height,state:"FAILED",useCDNPreview:!0,width:a.width};default:return a}default:var b;switch(a.state){case"QUEUED":b=0;break;case"UPLOADING":b=a.percentComplete;break;case"UPLOADED":b=1;break;default:b=void 0;break}switch(a.fileType){case"PHOTO":return{fileMimeType:a.file.type,fileName:a.file.name,fileObjectURL:a.fileObjectURL,fileType:a.fileType,height:a.height,percentComplete:b,sphericalEncoding:a.sphericalEncoding,state:"OPTIMISTIC_UPLOADED",uploadID:a.file.uploadID,useCDNPreview:a.useCDNPreview,width:a.width};case"VIDEO":return{fileMimeType:a.file.type,fileName:a.file.name,fileObjectURL:a.fileObjectURL,fileType:a.fileType,height:a.height,percentComplete:b,state:"OPTIMISTIC_UPLOADED",uploadID:a.file.uploadID,useCDNPreview:a.useCDNPreview,width:a.width};default:return{fileMimeType:a.file.type,fileName:a.file.name,fileObjectURL:a.fileObjectURL,fileType:a.fileType,percentComplete:b,state:"OPTIMISTIC_UPLOADED",uploadID:a.file.uploadID}}}}}),null);
__d("CometComposerMediaAttachmentArea.react",["CometComposerMediaAttachmentArea_profile.graphql","CometRelay","ComposerCometMediaAttachmentCollage.react","ComposerCometSelectedPhotoLayoutContext","MediaEditorViewStateContext","composerMediaAttachmentReducer","cr:1864053","gkx","killswitch","makeMediaAttachmentReadyForPreview","react","requireDeferred","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h,i=h||b("react");b("requireDeferred")("mediaAttachmentAreaTransform").__setRef("CometComposerMediaAttachmentArea.react").onReadyImmediately(function(){});function a(a){var c,d=a.disableVideo;d=d===void 0?!1:d;var e=a.isEditingPreExistingStory,f=e===void 0?!1:e;e=a.mediaAttachments;var h=a.mediaUploadLoggingMetadata,j=a.profile$key,k=a.selectedPhotoLayout,l=a.videoLiteComposerEligible;a=a.width;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var m=b("useComposerViewStateDispatcher")(),n=b("cr:1864053")();j=b("CometRelay").useFragment(g!==void 0?g:g=b("CometComposerMediaAttachmentArea_profile.graphql"),j);c=(c=j==null?void 0:j.has_professional_features_for_watch)!=null?c:!1;j=(j==null?void 0:j.page_id)!==void 0;c=b("gkx")("1584413")&&!f&&c||b("gkx")("1915661")&&f&&(c||j);var o=i.useContext(b("MediaEditorViewStateContext"));j=i.useMemo(function(){return babelHelpers["extends"]({},o,{isEditingPreExistingStory:f})},[o,f]);i.useEffect(function(){if(b("killswitch")("WWW_COMPOSER_MEDIA_ATTACHMENT_AREA_REMOVAL_ACTION_DISPATCH"))return function(){m({type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"})}},[m]);var p=i.useMemo(function(){return{layout:k}},[k]);return e!=null?i.jsx(b("MediaEditorViewStateContext").Provider,{value:j,children:i.jsx(b("ComposerCometSelectedPhotoLayoutContext").Provider,{value:p,children:i.jsx(b("ComposerCometMediaAttachmentCollage.react"),{disableVideoUploads:d,inComposer:!0,mediaAttachments:e.map(function(a){switch(a.state){case"PREEXISTING":return a;default:return a.file&&a.fileType!=="UNKNOWN"?a:null}}).filter(Boolean).map(b("makeMediaAttachmentReadyForPreview")),mediaUploadLoggingMetadata:h,selectedPhotoLayout:k,videoLiteComposerEligible:(j=l)!=null?j:c,width:(p=a)!=null?p:n==null?void 0:n.composerWidth})})}):null}c=b("withComposerViewStatePart")(a,function(a){return{isEditingPreExistingStory:a.isEditingPreExistingStory,mediaAttachments:a.mediaAttachments,selectedPhotoLayout:a.photoLayout}});e.exports=c}),null);
__d("CometComposerPhotoLayoutItem.react",["CometBackgroundImage.react","CometComposerFocusImage.react","CometPhotoLayoutMediaOverlay.react","ComposerCometPhotoLayoutMediaAttachmentContext","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.alt,d=a.height,e=a.numPhotosNotShown,f=a.onError,g=a.shouldShowOverlay,i=a.src,j=a.viewportAspectRatio;a=a.width;var k=h.useContext(b("ComposerCometPhotoLayoutMediaAttachmentContext")),l=k.focusX;k=k.focusY;if(d==null||a==null)return h.jsx(b("CometBackgroundImage.react"),{draggable:!1,src:i});else return h.jsxs(h.Fragment,{children:[h.jsx(b("CometComposerFocusImage.react").CometComposerFocusImage,{alt:c,focusX:l,focusY:k,imageHeight:d,imageWidth:a,onError:f,src:i,viewportAspectRatio:j}),g===!0&&e!=null?h.jsx(b("CometPhotoLayoutMediaOverlay.react"),{numItemsNotShown:e}):null]})}}),null);
__d("EntPhotoCollageItem.react",["CometBackgroundImage.react","CometComposerPhotoLayoutItem.react","CometRelay","ComposerCometPhotoLayoutMediaAttachmentContext","ComposerCometSelectedPhotoLayoutContext","EntPhotoCollageItem_media.graphql","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var d=b("useComposerViewStateDispatcher")(),e=b("CometRelay").useFragment(g!==void 0?g:g=b("EntPhotoCollageItem_media.graphql"),a.media);i.useEffect(function(){var b,c;b=e==null?void 0:(b=e.image)==null?void 0:b.height;c=e==null?void 0:(c=e.image)==null?void 0:c.width;b!=null&&c!=null&&d({entID:a.id,height:b,type:"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS",width:c})},[e,d,a.id]);c=e==null?void 0:(c=e.image)==null?void 0:c.uri;var f=i.useContext(b("ComposerCometSelectedPhotoLayoutContext")),h=i.useContext(b("ComposerCometPhotoLayoutMediaAttachmentContext")),j=h.numPhotosNotShown,k=h.setFocusX,l=h.setFocusY,m=h.shouldShowOverlay;h=h.viewportAspectRatio;var n=e==null?void 0:e.image,o=n==null?void 0:n.height;n=n==null?void 0:n.width;var p=e==null?void 0:e.focus,q=p==null?void 0:p.x,r=p==null?void 0:p.y;i.useEffect(function(){k&&l&&q!=null&&r!=null&&(k(q),l(r))},[k,l,q,r]);if(c==null)return null;else if(!!f.layout&&f.layout!=="classic")return i.jsx(b("CometComposerPhotoLayoutItem.react"),{height:o,numPhotosNotShown:j,shouldShowOverlay:m,src:c,viewportAspectRatio:h,width:n});else return i.jsx(b("CometBackgroundImage.react"),{draggable:!1,src:c})}}),null);
__d("EntPhotoCollageItemContainer.react",["CometRelay","EntPhotoCollageItem.react","EntPhotoCollageItemContainerQuery.graphql","WebPixelRatio","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("EntPhotoCollageItemContainerQuery.graphql"),{id:a.id,scale:b("WebPixelRatio").get()});return i.jsx(b("EntPhotoCollageItem.react"),{id:a.id,media:c==null?void 0:c.node})}}),null);
__d("CDNPreviewPhotoCollageItem.react",["CollageItemFallback.react","CometPlaceholder.react","EntPhotoCollageItemContainer.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.entID,d=a.filename,e=a.fileType;a=a.percentComplete;e=h.jsx(b("CollageItemFallback.react"),{fileType:e,filename:d,percentComplete:a});if(c!=null)return h.jsx(b("CometPlaceholder.react"),{fallback:e,children:h.jsx(b("EntPhotoCollageItemContainer.react"),{id:c})});else return e}}),null);
__d("OptimisticallyUploadedPhotoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CometBackgroundImage.react","JSResourceForInteraction","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("OptimisticallyUploadedPhotoCollageItem.react"));function a(a){var c=a.attachment;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var d=b("useComposerViewStateDispatcher")();a=c.sphericalEncoding?h.jsx(i,{}):null;return c.fileObjectURL!=null&&c.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx(b("CometBackgroundImage.react"),{draggable:!1,onError:function(){d({attachment:c,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:c.fileObjectURL}),c.fileType==="VIDEO"?h.jsx(b("PlayableCollageItemOverlay.react"),{}):null,a]}):h.jsxs(h.Fragment,{children:[h.jsx(b("CDNPreviewPhotoCollageItem.react"),{entID:c.entID,fileType:c.fileType,filename:c.fileName,percentComplete:c.percentComplete}),a]})}}),null);
__d("OptimisticallyUploadedVideoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CircularProgressBar.react","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.attachment;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var d=b("useComposerViewStateDispatcher")();a=c.fileObjectURL;var e=c.percentComplete;return c.fileObjectURL!=null&&c.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx("video",{className:"k4urcfbm bixrwtb6 datstx6m",onLoadedMetadata:function(a){a.target.videoWidth===0&&a.target.videoHeight===0&&d({attachment:c,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:a}),h.jsx(b("PlayableCollageItemOverlay.react"),{}),e!=null&&h.jsx(b("CircularProgressBar.react"),{percentComplete:e*100})]}):h.jsx(b("CDNPreviewPhotoCollageItem.react"),{fileType:c.fileType,filename:c.fileName,percentComplete:c.percentComplete})}}),null);
__d("OptimisticallyUploadedCollageItem.react",["OptimisticallyUploadedPhotoCollageItem.react","OptimisticallyUploadedVideoCollageItem.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.attachment;var c=a.fileType==="PHOTO"||a.fileType==="UNKNOWN"||a.fileType==="VIDEO"&&a.fileMimeType==="image/gif";return c?h.jsx(b("OptimisticallyUploadedPhotoCollageItem.react"),{attachment:a}):h.jsx(b("OptimisticallyUploadedVideoCollageItem.react"),{attachment:a})}}),null);
__d("PreexistingPhotoLayoutItem.react",["CDNPreviewPhotoCollageItem.react","CometPlaceholder.react","JSResourceForInteraction","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("PreexistingPhotoLayoutItem.react"));function a(a){a=a.attachment;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var c=a.sphericalEncoding?h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;return h.jsxs(h.Fragment,{children:[h.jsx(b("CDNPreviewPhotoCollageItem.react"),{entID:a.entID,fileType:a.fileType,filename:null}),c]})}}),null);
__d("PreexistingPhotoCollageItem.react",["CometBackgroundImage.react","PreexistingPhotoLayoutItem.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.attachment;return a.fileType!=="UNKNOWN"?h.jsx(b("PreexistingPhotoLayoutItem.react"),{attachment:a}):h.jsx(b("CometBackgroundImage.react"),{draggable:!1,src:a.url})}}),null);
__d("UploadingOrUploadedPhotoCollageItem.react",["CDNPreviewPhotoCollageItem.react","CometBackgroundImage.react","CometPlaceholder.react","JSResourceForInteraction","PlayableCollageItemOverlay.react","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("UploadingOrUploadedPhotoCollageItem.react"));function a(a){var c=a.attachment;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var d=b("useComposerViewStateDispatcher")();a=c.sphericalEncoding?h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;var e=c.file;return c.fileObjectURL!=null&&c.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx(b("CometBackgroundImage.react"),{alt:e.name,draggable:!1,onError:function(){d({attachment:c,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},src:c.fileObjectURL}),c.fileType==="VIDEO"?h.jsx(b("PlayableCollageItemOverlay.react"),{}):null,a]}):h.jsxs(h.Fragment,{children:[h.jsx(b("CDNPreviewPhotoCollageItem.react"),{entID:c.state==="UPLOADED"?c.entID:void 0,fileType:c.fileType,filename:e.name}),a]})}}),null);
__d("UploadingOrUploadedPhotoLayoutItem.react",["CDNPreviewPhotoCollageItem.react","CometComposerPhotoLayoutItem.react","CometPlaceholder.react","ComposerCometPhotoLayoutMediaAttachmentContext","JSResourceForInteraction","composerMediaAttachmentReducer","lazyLoadComponent","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("UploadingOrUploadedPhotoLayoutItem.react")),j=500,k=261;function a(a){var c=a.attachment;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var d=b("useComposerViewStateDispatcher")();a=c.sphericalEncoding?h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;var e=function(){d({attachment:c,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},f=c.width!=null?c.width:null,g=c.height!=null?c.height:null;(f==null||g==null)&&(f=j,g=k);var l=h.useContext(b("ComposerCometPhotoLayoutMediaAttachmentContext")),m=l.numPhotosNotShown,n=l.shouldShowOverlay;l=l.viewportAspectRatio;var o=c.file;if(c.useCDNPreview!==!0&&c.fileObjectURL!=null)return h.jsxs("div",{children:[h.jsx(b("CometComposerPhotoLayoutItem.react"),{alt:o.name,height:g,numPhotosNotShown:m,onError:e,shouldShowOverlay:n,src:c.fileObjectURL,viewportAspectRatio:l,width:f}),a]});else return h.jsxs(h.Fragment,{children:[h.jsx(b("CDNPreviewPhotoCollageItem.react"),{entID:c.state==="UPLOADED"?c.entID:void 0,fileType:c.fileType,filename:o.name}),a]})}}),null);
__d("CDNPreviewVideoCollageItem.react",["CollageItemFallback.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.filename;a=a.fileType;return h.jsx(b("CollageItemFallback.react"),{fileType:a,filename:c})}}),null);
__d("UploadingOrUploadedVideoCollageItem.react",["CDNPreviewVideoCollageItem.react","CometVideoEditorUtils.react","PlayableCollageItemOverlay.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.attachment;if(a.fileType==="VIDEO"){var c=a.file,d=b("CometVideoEditorUtils.react").getThumbnailURLFromVideoMetadata(a);return a.fileObjectURL!=null&&a.useCDNPreview!==!0?h.jsxs(h.Fragment,{children:[h.jsx("video",{className:"k4urcfbm bixrwtb6 datstx6m",poster:d,src:a.fileObjectURL}),h.jsx(b("PlayableCollageItemOverlay.react"),{})]}):h.jsx(b("CDNPreviewVideoCollageItem.react"),{entID:a.state==="UPLOADED"?a.entID:void 0,fileType:a.fileType,filename:c.name})}else return null}}),null);
__d("UploadingOrUploadedCollageItem.react",["ComposerCometSelectedPhotoLayoutContext","UploadingOrUploadedPhotoCollageItem.react","UploadingOrUploadedPhotoLayoutItem.react","UploadingOrUploadedVideoCollageItem.react","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){a=a.attachment;var c=a.fileType==="PHOTO"||a.fileType==="VIDEO"&&a.file.type==="image/gif",d=h.useContext(b("ComposerCometSelectedPhotoLayoutContext"));d=!!d.layout&&d.layout!=="classic";if(c)return d?h.jsx(b("UploadingOrUploadedPhotoLayoutItem.react"),{attachment:a}):h.jsx(b("UploadingOrUploadedPhotoCollageItem.react"),{attachment:a});else return h.jsx(b("UploadingOrUploadedVideoCollageItem.react"),{attachment:a})}}),null);
__d("CometComposerMediaAttachmentItem.react",["CollageItemFallback.react","CometBackgroundImage.react","CometComposerRemoveMediaAttachmentItemButton.react","CometPlaceholder.react","CometVideoEditorUtils.react","JSResourceForInteraction","OptimisticallyUploadedCollageItem.react","PlayableCollageItemOverlay.react","PreexistingPhotoCollageItem.react","TetraText.react","UploadingOrUploadedCollageItem.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerSphericalMediaGyroIndicator.react").__setRef("CometComposerMediaAttachmentItem.react"));function a(a){var c=a.attachment;a=a.withRemoveButton;var d=a===void 0?!0:a;a=c.sphericalEncoding?h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})}):null;var e=function(a){return d?h.jsx(b("CometComposerRemoveMediaAttachmentItemButton.react"),{attachment:a}):null};switch(c.state){case"PREEXISTING":var f;switch(c.fileType){case"VIDEO":var g=b("CometVideoEditorUtils.react").getThumbnailURLFromVideoMetadata(c);f=h.jsxs(h.Fragment,{children:[h.jsx(b("CometBackgroundImage.react"),{draggable:!1,src:g.length>0?g:c.imageURL}),h.jsx(b("PlayableCollageItemOverlay.react"),{}),a]});break;case"PHOTO":f=h.jsx(b("PreexistingPhotoCollageItem.react"),{attachment:c});break;default:f=h.jsxs(h.Fragment,{children:[h.jsx(b("CometBackgroundImage.react"),{draggable:!1,src:c.url}),a]});break}return h.jsxs(h.Fragment,{children:[f,e(c)]});case"NEW":case"CLIENT_PROCESSING":case"CLIENT_PROCESSING_COMPLETE":return h.jsxs(h.Fragment,{children:[h.jsx(b("CollageItemFallback.react"),{fileType:c.fileType,filename:c.file.name}),a]});case"QUEUED":case"UPLOADING":case"UPLOADED":return c.file==null?null:h.jsxs(h.Fragment,{children:[h.jsx(b("UploadingOrUploadedCollageItem.react"),{attachment:c}),c.state==="UPLOADED"?e(c):h.jsx("div",{className:"g7nl5sj3 kr520xx4 pmk7jnqg datstx6m n7fi1qx3 m96f97by",style:{width:(1-(c.percentComplete||0))*100+"%"},children:e(c)})]});case"FAILED":return h.jsxs(h.Fragment,{children:[c.file.name,c.error!=null?h.jsxs(h.Fragment,{children:[h.jsx("br",{}),h.jsx(b("TetraText.react"),{color:"negative",type:"body4",children:c.error})]}):null]});case"OPTIMISTIC_UPLOADED":return c.fileObjectURL==null?null:h.jsx(b("OptimisticallyUploadedCollageItem.react"),{attachment:c});default:return null}}}),null);
__d("CometComposerMediaAttachmentItemContainer.react",["CometComposerMediaAttachmentItem.react","qex","react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=g||b("react"),j=b("qex")._("1138950");function a(a){var c=i.jsx(b("CometComposerMediaAttachmentItem.react"),babelHelpers["extends"]({},a));return c?i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"overflow-wrap-1":"jm1wdb64","position-1":"l9j0dhe7"},a.attachment.state==="failed"?{"border-top-color-0.4":"jw3uvs1e","border-end-color-0.4":"hmw3o7ox","border-bottom-color-0.4":"ku5f423u","border-start-color-0.4":"a64ryyup"}:null,j===!0?{"height-1":"datstx6m","width-1":"k4urcfbm"}:{"border-top-0.3":"dwg5866k","border-end-0.3":"ccnbzhu1","border-bottom-0.3":"eip75gnj","border-start-0.3":"tr4kgdav","flex-grow-1":"kb5gq1qc","flex-shrink-1":"pfnyh3mw","height-1":"qzj7cv8z","margin-top-1":"rs0gx3tq","margin-end-1":"fv0vnmcu","margin-bottom-1":"dicw6rsg","margin-start-1":"ggphbty4","width-1":"gjzvkazv","border-top-color-0.4":null,"border-bottom-color-0.4":null}),children:c}):null}}),null);
__d("CollageLayoutConfig",[],(function(a,b,c,d,e,f){var g=4;a=function(){function a(a,b,c,d){c===void 0&&(c=g),this.$2=c,this.$3=b,this.$5=d,this.$6(a)}var b=a.prototype;b.getItemStyleInfos=function(){return this.$1};b.getIndexForPoint=function(a,b){var c=this.$1.findIndex(function(c){return c.left<=a&&c.top<=b&&c.left+c.width>=a&&c.top+c.height>=b});return c===-1?null:c};b.getCalculatedHeight=function(){return this.$4};b.getSpacing=function(){return this.$2};b.getWidth=function(){return this.$3};b.$6=function(a){var b=this,c=this.$7(a),d=this.$8(a),e=this.$2*(d-1),f=Math.ceil((this.$3-e)/d);this.$4=this.$5||(f+this.$2)*c-this.$2;e=this.$2*(c-1);var g=Math.ceil((this.$4-e)/c);this.$1=[];a.forEach(function(a){a={left:(f+b.$2)*a.x,top:(g+b.$2)*a.y,width:(f+b.$2)*a.width-b.$2,height:(g+b.$2)*a.height-b.$2};a.left+a.width>b.$3&&(a.width=b.$3-a.left);b.$1.push(a)})};b.$8=function(a){var b=0;a.forEach(function(a){b=Math.max(b,a.x+a.width)});return b};b.$7=function(a){var b=0;a.forEach(function(a){b=Math.max(b,a.y+a.height)});return b};return a}();e.exports=a}),null);
__d("useMediaCollage",["CollageLayoutConfig","CometFeedStoryMediaLayoutConstants","ReactComposerCollageLayoutSelection","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c,d){var e=h.useState(null),f=e[0],g=e[1];e=h.useRef(new Map());a=a.reduce(function(b,c,a){c.width!=null&&c.height!=null?b.set(a,[c.width,c.height]):b.set(a,[0,0]);return b},new Map());if(a.size!==e.current.size)e.current=a;else{var i=!1;for(var j=a,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];var o=m[0];m=m[1];n=e.current.get(n)||[void 0,void 0];var p=n[0];n=n[1];i=i||o!==p||m!==n}i&&(e.current=a)}var q=e.current,r=h.useCallback(function(){if(q.size===1){var a=q.get(0)||[400,400];a=Math.max(a[0]/a[1],b("CometFeedStoryMediaLayoutConstants").DEFAULT_MIN_ASPECT_RATIO);g(new(b("CollageLayoutConfig"))([{height:1,width:1,x:0,y:0}],c,d,c/a))}else if(q.size>1){a=b("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(q);var e=[];a.forEach(function(a,b){e.push({height:a.getHeight(),width:a.getWidth(),x:a.getLeft(),y:a.getTop()})});g(new(b("CollageLayoutConfig"))(e,c,d))}else g(null)},[c,q,d]);h.useEffect(function(){q.size>0&&r()},[r,q]);return f}}),null);
__d("ComposerCometMediaAttachmentClassicLayout.react",["fbt","CometComposerHeadlessMediaUploader.react","CometComposerMediaAttachmentItemContainer.react","CometPlaceholder.react","composerMediaAttachmentReducer","react","useComposerViewStateReducer","useMediaCollage"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=5;c=500;d=16;f=1;var k=c-d*2-f*2,l=466;function a(a){var c=a.mediaAttachments,d=a.mediaUploadLoggingMetadata,e=a.width;e=e===void 0?k:e;a=a.withoutUploader;e=b("useMediaCollage")(c,e,2);var f=e!=null?e.getItemStyleInfos():[],h=(c||[]).length-f.length;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));return i.jsxs("div",{style:{height:e!=null?e.getCalculatedHeight()+"px":l},children:[a!==!0&&i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(b("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:d})}),f.map(function(a,d){var e=(c||[])[d];if(e==null)return null;var f=d===j-1&&h>0;return i.jsxs("div",{className:"pmk7jnqg stjgntxs ni8dbmo4 taijpn5t j83agx80 bp9cbjyn","data-testid":void 0,style:a,children:[i.jsx(b("CometComposerMediaAttachmentItemContainer.react"),{attachment:e,withRemoveButton:!1},"media-"+d),f?i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg taijpn5t cbu4d94t n7fi1qx3 j83agx80 i09qtzwb sx5rzos5 bp9cbjyn",children:i.jsx("div",{className:"oqcyycmt lrazzd5p mhxlubs3 qrtewk5h",children:g._("+{num}",[g._param("num",h+1)])})}):null]},"media-"+d+"-container")})]})}}),null);
__d("getDeferredComposerMutationDataTransformer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(b,c,d,e){a.loadImmediately(function(a){a(b,c,d,e)})}}}),null);
__d("composerFooterAttachmentAreaFeedTransform",["composerFooterAttachmentAreaReducer","promiseDone"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){var e;e=(e=a.footerAttachmentArea)==null?void 0:e.activeFooterAttachmentType;e=e?b("composerFooterAttachmentAreaReducer").transformerResourceForFooterAttachmentType[e]:null;e?b("promiseDone")(e.load().then(function(b){return b(a,babelHelpers["extends"]({},c),d)})):d(c)}}),null);
__d("CometComposerStatusAreaRelay.react",["CometComposerStatusAreaRelay_profile.graphql","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","FeedComposerCometFormattedTextStatusArea.react","FeedComposerCometStatusArea.react","FeedComposerCometStatusAreaClickHandler.react","react","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h,i=h||b("react");function a(a){var c,d,e=i.useRef(null);c=(c=a.statusAreaRef)!=null?c:e;e=b("CometRelay").useFragment(g!==void 0?g:g=b("CometComposerStatusAreaRelay_profile.graphql"),a.profile$key);d={autoFocus:a.autoFocus,formatPastedText:a.formatPastedText,isViewerFeed:a.isViewerFeed,onClose:a.onClose,placeholderText:a.placeholderText,ref:c,stripPastedStyles:a.stripPastedStyles,testid:"FeedComposerCometStatusArea",userShortName:(d=e==null?void 0:e.short_name)!=null?d:e==null?void 0:e.name};e=i.jsx(b("FeedComposerCometStatusArea.react"),babelHelpers["extends"]({},d));return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:159,children:i.jsx(b("FeedComposerCometStatusAreaClickHandler.react"),{showSwatchPicker:a.activeAttachmentType==null||a.activeAttachmentType==="FORMATTED_TEXT",statusAreaRef:c,children:i.jsxs(b("CometPlaceholder.react"),{fallback:e,children:[i.jsx(b("FeedComposerCometFormattedTextStatusArea.react"),babelHelpers["extends"]({},d,{alwaysShrinkText:a.alwaysShrinkText,draftEditorRendering:a.draftEditorRendering,formattedTextPreset:a.formattedTextPreset})),a.plugins]})})})}c=b("withComposerViewStatePart")(a,function(a){var b;return{activeAttachmentType:(b=a.attachmentArea)==null?void 0:b.activeAttachmentType,formattedTextPreset:(b=a.formattedText)==null?void 0:b.currentFormattedTextPreset}});e.exports=c}),null);
__d("cometComposerEditingEligibilityChecker",["CometComposerTaggerPluginTypes"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return new Set([b("CometComposerTaggerPluginTypes").MEDIA_EDIT])}}),null);
__d("cometComposerCheckMediaAttachmentsForPhoto3d",["QPLUserFlow"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){if(!a)return;var d=a.reduce(function(a,b){b.state==="UPLOADED"&&b.fileType==="PHOTO"&&a.push(b);return a},[]);if(a.length!==2||d.length!==2)return;a=g(d);d=h(a);if(d==null)return;b("QPLUserFlow").start(37631558);b("QPLUserFlow").addPoint(37631558,"three_d_photo_creation_data_provided");c({colorImageIds:d.colorImageIds,depthImageIds:d.depthImageIds,placeholderImage:d.placeholderImage,type:"SET_PHOTO3D_CREATION_DATA"});c({attachmentType:"PHOTO3D",type:"ACTIVATE_ATTACHMENT_TYPE"})}function g(a){var b={},c=["jpg","jpeg","png"];a.forEach(function(a){var d=a.file.name;if(!d)return;var e=d.lastIndexOf(".");if(e<0)return;var f=d.split(".").pop().toLowerCase();if(!c.includes(f))return;f=d.substring(0,e).toLowerCase();d=f.split("_");if(d.length>1&&d.pop().toLowerCase()==="depth"){e=d.join("_");e in b||(b[e]={colorImage:null,depthImage:null});b[e].depthImage=a}else f in b||(b[f]={colorImage:null,depthImage:null}),b[f].colorImage=a});return b}function h(a){var b=Object.keys(a).sort();if(b.length===0)return null;var c=[],d=[],e=null;b.forEach(function(b){b=a[b];var f=b.colorImage;b=b.depthImage;if(!f||!b)return null;var g=f.entID;b=b.entID;if(g==null||b==null)return null;e==null&&(e=f);c.push(g);d.push(b)});return c.length===0||c.length!==d.length||e===null?null:{colorImageIds:c,depthImageIds:d,placeholderImage:e}}}),null);
__d("CometVideoPlayerWatchIcon.react",["fbt","ix","CometPressable.react","TetraIcon.react","TetraText.react","VideoPlayerHooks","clearTimeout","fbicon","react","setTimeout","useCometRouteTracePolicy","useVideoPlayerDefaultControlsVisibility","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=i||b("react"),k=1e4;function a(a){var c=a.subOrigin;a=a.videoUrl;var d=b("useVideoPlayerDefaultControlsVisibility")();d=d.isControlsVisible;var e=b("useVideoPlayerPortalingPassthroughProps")();e=e.portableVideoID;var f=b("VideoPlayerHooks").usePlaying(),i=b("VideoPlayerHooks").useVideoPlaybackEnded(),l=b("useCometRouteTracePolicy")(),m=j.useState(!1),n=m[0],o=m[1];j.useEffect(function(){if(f){var a=b("setTimeout")(function(){o(!0)},k);return function(){return b("clearTimeout")(a)}}},[f]);m=j.jsx("div",{className:"iuny7tx3 ipjc6fyt scb9dxdr dflh9lhu",children:j.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(h("607168"),16)})});var p=j.jsxs("div",{className:"iuny7tx3 ipjc6fyt scb9dxdr dflh9lhu taijpn5t j83agx80 bp9cbjyn",children:[j.jsx("div",{className:"p8fzw8mz",children:j.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(h("607168"),16)})}),j.jsx(b("TetraText.react"),{color:"white",type:"headlineEmphasized4",children:g._("Watch")})]});return j.jsx("div",{className:"tkr6xdv7 fcg2cn6m pmk7jnqg swmj3c3o h26o7u2r k3fixq9q d1c5xqcg hhcg8jjv rt97infa"+(i?" kr9hpln1 b5wmifdl":""),children:j.jsx(b("CometPressable.react"),{display:"inline",label:g._("Watch"),linkProps:{passthroughProps:{portableVideoID:e,portalingRouteTracePolicy:l,portalingSubOrigin:c},url:a},overlayDisabled:!0,children:n&&!d?m:p})})}}),null);
__d("DraftJs2FbBlockType",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new Map([["unstyled",0],["paragraph",1],["header-one",5],["header-two",6],["header-three",10],["header-four",11],["header-five",12],["header-six",13],["unordered-list-item",2],["ordered-list-item",3],["blockquote",4],["code-block",7],["atomic",18],["section",16],["article",9]]);function a(a){return g.get(a)||0}}),null);
__d("DraftJs2FbEntities",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new Map([["MENTION",0],["LINK",1],["IMPLICIT_LINK",7]]);function a(a){var b={};Object.keys(a).forEach(function(c){var d,e=a[c],f=g.get(e.type);if(f==null)return;b[c]={id:(d=(d=e.data)==null?void 0:d.id)!=null?d:null,type:f};if(((d=e.data)==null?void 0:d.url)!=null){b[c].data={url:(f=e.data)==null?void 0:f.url}}});return b}}),null);
__d("DraftJs2FbInlineStyle",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new Map([["BOLD",[1]],["BOLD_ITALIC",[1,2]],["BOLD_ITALIC_UNDERLINE",[1,2,4]],["BOLD_UNDERLINE",[1,4]],["CODE",[8]],["ITALIC",[2]],["ITALIC_UNDERLINE",[2,4]],["NONE",[0]],["STRIKETHROUGH",[16]],["UNDERLINE",[4]]]);function h(a){var b=[],c=g.get(a.style)||[0];c.forEach(function(c){b.push({length:a.length,offset:a.offset,style:c})});return b}function a(a){var b=[];if(a==null)return b;a.forEach(function(a){return b=b.concat(h(a))});return b}}),null);
__d("DraftStringKey",[],(function(a,b,c,d,e,f){"use strict";a={stringify:function(a){return"_"+String(a)},unstringify:function(a){return a.slice(1)}};e.exports=a}),null);
__d("encodeEntityRanges",["DraftStringKey","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||b("UnicodeUtils")).strlen;function a(a,c){var d=[];a.findEntityRanges(function(a){return!!a.getEntity()},function(e,f){var g=a.getText(),i=a.getEntityAt(e);d.push({offset:h(g.slice(0,e)),length:h(g.slice(e,f)),key:Number(c[b("DraftStringKey").stringify(i)])})});return d}e.exports=a}),null);
__d("encodeInlineStyleRanges",["UnicodeUtils","findRangesImmutable"],(function(a,b,c,d,e,f){"use strict";var g,h=function(a,b){return a===b},i=function(a){return!!a},j=[];function k(a,c,d){var e=[];c=c.map(function(a){return a.has(d)}).toList();b("findRangesImmutable")(c,h,i,function(c,f){var h=a.getText();e.push({offset:(g||(g=b("UnicodeUtils"))).strlen(h.slice(0,c)),length:g.strlen(h.slice(c,f)),style:d})});return e}function a(a){var b=a.getCharacterList().map(function(a){return a.getStyle()}).toList(),c=b.flatten().toSet().map(function(c){return k(a,b,c)});return Array.prototype.concat.apply(j,c.toJS())}e.exports=a}),null);
__d("convertFromDraftStateToRaw",["invariant","ContentBlock","ContentBlockNode","DraftStringKey","encodeEntityRanges","encodeInlineStyleRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,c){return{key:a.getKey(),text:a.getText(),type:a.getType(),depth:a.getDepth(),inlineStyleRanges:b("encodeInlineStyleRanges")(a),entityRanges:b("encodeEntityRanges")(a,c),data:a.getData().toObject()}},i=function(a,c,d,e){if(a instanceof b("ContentBlock")){d.push(h(a,c));return}a instanceof b("ContentBlockNode")||g(0,5797);var f=a.getParentKey();a=e[a.getKey()]=babelHelpers["extends"]({},h(a,c),{children:[]});if(f){e[f].children.push(a);return}d.push(a)},j=function(a,c){var d=c.entityMap,e=[],f={},g={},h=0;a.getBlockMap().forEach(function(a){a.findEntityRanges(function(a){return a.getEntity()!==null},function(c){c=a.getEntityAt(c);var e=b("DraftStringKey").stringify(c);if(g[e])return;g[e]=c;d[e]=""+h;h++}),i(a,d,e,f)});return{blocks:e,entityMap:d}},k=function(a,c){var d=c.blocks;c=c.entityMap;var e={};Object.keys(c).forEach(function(c,d){c=a.getEntity(b("DraftStringKey").unstringify(c));e[d]={type:c.getType(),mutability:c.getMutability(),data:c.getData()}});return{blocks:d,entityMap:e}};a=function(a){var b={entityMap:{},blocks:[]};b=j(a,b);b=k(a,b);return b};e.exports=a}),null);
__d("encodeImplicitURLRanges",["URI","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h;function a(a,c,d){return d.map(function(d){var e=d.end,f=d.hovercard_endpoint,i=d.match;d=d.start;var j=(g||(g=b("UnicodeUtils"))).strlen(a.slice(0,d)),k=g.strlen(a.slice(d,e));d=c.some(function(a){return a.offset<j+k&&a.offset+a.length>j});if(d)return null;e={length:k,offset:j};d=i;i=new(h||(h=b("URI")))(d);d=i.getProtocol();d||i.setProtocol("http");d={data:babelHelpers["extends"]({url:i.toString()},f!=null?{hovercard_endpoint:f}:null),id:null,type:7};return{entity:d,range:e}}).filter(Boolean)}}),null);
__d("getImplicitURLRangesForContentState",["getImplicitURLMatches"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a.getBlockMap().map(function(c){var d=[];b("getImplicitURLMatches")(c,function(a,b,c){d.push({start:a,end:b,match:c})},a);return d}).toArray()}}),null);
__d("CometComposerRichTextTransform",["DraftJs2FbBlockType","DraftJs2FbEntities","DraftJs2FbInlineStyle","convertFromDraftStateToRaw","cr:1436644","encodeImplicitURLRanges","getImplicitURLRangesForContentState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a){if(b("cr:1436644")==null)return!1;a=b("cr:1436644")(a);return!a.some(function(a){return a.length!==0})?!1:!0}function a(a,c,d){if(a.editorState==null||a.editorState.__type!=="editor-state-based"){d(c);return}var e=a.editorState.draftEditorState.getCurrentContent();if(a.formattingType!=="RICHTEXT"){a=a.formattingType==null&&g(e);if(!a){d(c);return}}var f=b("convertFromDraftStateToRaw")(e),h=b("DraftJs2FbEntities")(f.entityMap),i=b("getImplicitURLRangesForContentState")(e),j=b("cr:1436644")!=null?b("cr:1436644")(e):null;a=Object.keys(h).map(function(a){return Number(a)});var k=Math.max.apply(Math,[-1].concat(a))+1,l=[],m=[],n=[],o=[],p=[],q=[];e=function(a){var c=f.blocks[a],d=c.entityRanges||[],e=b("encodeImplicitURLRanges")(c.text,d,i[a]);e.forEach(function(a){var b=a.entity;a=a.range;var c=k++;d.push(babelHelpers["extends"]({},a,{key:c}));h[""+c]=b});if(j!=null){e=b("encodeImplicitURLRanges")(c.text,d,j[a]);e.forEach(function(a){var b=a.entity;a=a.range;var c=k++;d.push(babelHelpers["extends"]({},a,{key:c}));h[""+c]=b})}l.push(JSON.stringify(c.data||{}));m.push(c.depth||0);n.push(b("DraftJs2FbBlockType")(c.type));o.push(c.text);p.push(JSON.stringify(d)||"");q.push(JSON.stringify(b("DraftJs2FbInlineStyle")(c.inlineStyleRanges)))};for(var a=0;a<f.blocks.length;++a)e(a);d(babelHelpers["extends"]({},c,{composed_text:{block_data:l,block_depths:m,block_types:n,blocks:o,entities:p,entity_map:JSON.stringify(h),inline_styles:q}}))}}),null);
__d("composerMultilingualPostTransform",["CometComposerRichTextTransform","getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,c,d,e){if(e.editorState==null)return;var f=b("getPlainTextFromDeferredDraftEditorState")(e.editorState);b("CometComposerRichTextTransform")(e,{source:d},function(b){b=b.composed_text;if(b==null)c({dialect:a,message:f});else{var d=b.block_data,e=b.block_depths,g=b.block_types,h=b.blocks,i=b.entities,j=b.entity_map;b=b.inline_styles;if(j==null||h==null||d==null){c({dialect:a,message:f});return}d={block_data:d,block_depths:e,block_types:g,blocks:h,entities:i,entity_map:j,inline_styles:b};c({composed_text:d,dialect:a,message:f})}})}function a(a,b,c){a=a.multilingualData;if(a==null)return c(b);var d=b.source,e=a.mainDialect,f=a.otherDialects,h=[];a=Object.keys(f);a.forEach(function(a){g(a,function(a){h.push(a)},d,f[a].viewState)});return c(babelHelpers["extends"]({},b,{multilingual_translations:h,specified_dialect:e}))}}),null);
__d("FeedComposerCometStatusAreaRelay.react",["CometComposerStatusAreaRelay.react","CometRelay","FeedComposerCometStatusAreaRelay_profile.graphql","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=h||b("react");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("FeedComposerCometStatusAreaRelay_profile.graphql"),a.profile$key);a.profile$key;a=babelHelpers.objectWithoutPropertiesLoose(a,["profile$key"]);return i.jsx(b("CometComposerStatusAreaRelay.react"),babelHelpers["extends"]({profile$key:c},a))}}),null);
__d("FeedComposerCometBody.react",["CometComposerAMAAttachmentAreaResource","CometComposerAttachmentArea.react","CometComposerCommunityHelpDriveAttachmentAreaResource","CometComposerFooterAttachmentArea.react","CometComposerMajorLifeEventAttachmentAreaRendererResource","CometComposerViewOnlyFeedAttachmentAreaResource","CometComposerWoodhengeSupportAttachmentAreaResource","CometRelay","ComposerLinkAttachmentAreaResource","ComposerLocationAttachmentAreaResource","ComposerPhoto3dAttachmentAreaResource","FeedComposerCometAnimatedImageAttachmentAreaResource","FeedComposerCometBody_profile.graphql","FeedComposerCometBody_viewer.graphql","FeedComposerCometFormattedTextArea.react","FeedComposerCometStatusAreaRelay.react","FundraiserForStoryAttachmentAreaResource","JSResourceForInteraction","QuiltsCometComposerAttachmentAreaResource","cr:1536687","cr:1575125","cr:1575798","cr:1964555","cr:1992079","cr:551","createComposerDeferredPlugin","gkx","lazyLoadComponent","react","requireDeferred","useCometComposerMarkdown","useCometSATPDraftEditorRenderingProps"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i,j=i||b("react"),k=b("lazyLoadComponent")(b("FeedComposerCometAnimatedImageAttachmentAreaResource")),l=b("lazyLoadComponent")(b("FundraiserForStoryAttachmentAreaResource")),m=b("lazyLoadComponent")(b("ComposerPhoto3dAttachmentAreaResource")),n=b("lazyLoadComponent")(b("CometComposerAMAAttachmentAreaResource")),o=b("lazyLoadComponent")(b("QuiltsCometComposerAttachmentAreaResource")),p=b("lazyLoadComponent")(b("CometComposerViewOnlyFeedAttachmentAreaResource")),q=b("lazyLoadComponent")(b("CometComposerWoodhengeSupportAttachmentAreaResource")),r=b("lazyLoadComponent")(b("ComposerLocationAttachmentAreaResource")),s=b("lazyLoadComponent")(b("ComposerLinkAttachmentAreaResource")),t=b("lazyLoadComponent")(b("CometComposerMajorLifeEventAttachmentAreaRendererResource")),u=b("lazyLoadComponent")(b("JSResourceForInteraction")("KnowledgeNoteComposerAttachmentResourceLazyLoaded").__setRef("FeedComposerCometBody.react")),v=b("lazyLoadComponent")(b("JSResourceForInteraction")("ThrowbackComposerLinkAttachmentArea.react").__setRef("FeedComposerCometBody.react")),w=b("createComposerDeferredPlugin")(b("requireDeferred")("FeedComposerCometMentionsPlugin.react").__setRef("FeedComposerCometBody.react")),x=b("createComposerDeferredPlugin")(b("requireDeferred")("CometComposerDelightsPlugin.react").__setRef("FeedComposerCometBody.react")),y=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerRoomsAttachmentArea.react").__setRef("FeedComposerCometBody.react")),z=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerGetMessagesAttachmentArea.react").__setRef("FeedComposerCometBody.react")),A=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometComposerGetWhatsAppMessagesAttachmentArea.react").__setRef("FeedComposerCometBody.react")),B=b("createComposerDeferredPlugin")(b("requireDeferred")("CometComposerLinksPlugin.react").__setRef("FeedComposerCometBody.react")),C=b("createComposerDeferredPlugin")(b("requireDeferred")("CometComposerMisinformationLinkDetectorPlugin.react").__setRef("FeedComposerCometBody.react")),D=b("lazyLoadComponent")(b("CometComposerCommunityHelpDriveAttachmentAreaResource")),E=g!==void 0?g:g=b("FeedComposerCometBody_profile.graphql"),F=h!==void 0?h:h=b("FeedComposerCometBody_viewer.graphql");function a(a){var c=a.composerType,d=a.isViewerFeed,e=a.onClose,f=a.placeholderText,g=a.profile$key;a=a.viewer$key;var h=b("CometRelay").useFragment(E,g);g=b("CometRelay").useFragment(F,a);var i=h==null?void 0:h.id;a=b("useCometComposerMarkdown")({previewPanePosition:"BELOW_EDITOR"});var G=b("useCometSATPDraftEditorRenderingProps")();return j.jsxs(j.Fragment,{children:[j.jsx(b("FeedComposerCometFormattedTextArea.react"),{children:j.jsx(b("FeedComposerCometStatusAreaRelay.react"),{alwaysShrinkText:b("gkx")("1217157"),autoFocus:!0,draftEditorRendering:(G=(G=(G=G)!=null?G:a==null?void 0:a.draftEditorProps)!=null?G:b("cr:1575125"))!=null?G:void 0,isViewerFeed:d,onClose:e,placeholderText:f,plugins:[b("cr:1992079")!=null?j.jsx(b("cr:1992079"),{composerType:"feed"},"textPasteLogger"):null,j.jsx(w,{},"mentionsPlugin"),x!=null&&j.jsx(x,{},"delightsPlugin"),j.jsx(b("cr:1536687"),{},"hashtagPlugin"),j.jsx(B,{},"linksPlugin"),j.jsx(C,{composerType:(G=c)!=null?G:"feed"},"misinformationLinkDetectorPlugin"),b("cr:1575798")!=null?j.jsx(b("cr:1575798"),{},"richTextPlugin"):null,b("cr:1964555")!=null?j.jsx(b("cr:1964555"),{ftEntIdentifier:h.id,viewer$key:g},"typeaheadPlugin"):null],profile$key:h,stripPastedStyles:a!==null?a.isActive:void 0})}),j.jsx("div",{className:"scb9dxdr qt6c0cv9 dflh9lhu jb3vyjys",children:j.jsx(b("CometComposerAttachmentArea.react"),{children:function(a){switch(a){case"AMA":return j.jsx(n,{});case"ANIMATED_IMAGE":return j.jsx(k,{});case"GET_MESSAGES":return j.jsx(z,{mediaUploadLoggingMetadata:{composerEntrypoint:"feed",source:"newsfeed_composer"},pageCategoryName:h==null?void 0:h.profile_plus_category_display_name,pageName:h==null?void 0:h.name});case"GET_WHATSAPP_MESSAGES":return j.jsx(A,{mediaUploadLoggingMetadata:{composerEntrypoint:"feed",source:"newsfeed_composer"},pageCategoryName:h==null?void 0:h.profile_plus_category_display_name,pageName:h==null?void 0:h.name});case"KNOWLEDGE_NOTE":return u!=null&&j.jsx(u,{});case"LOCATION":return j.jsx(r,{});case"LINK":return j.jsx(s,{});case"SHARE":return c==="memories"?j.jsx(v,{}):j.jsx(s,{isShare:!0});case"LIFE_EVENT":return j.jsx(t,{});case"MEDIA":return j.jsx(b("cr:551"),{mediaUploadLoggingMetadata:{composerEntrypoint:"feed",source:"newsfeed_composer"},profile$key:h});case"NONPROFIT":return j.jsx(l,{});case"PHOTO3D":return j.jsx(m,{});case"QUILT":return j.jsx(o,{mediaUploadLoggingMetadata:{composerEntrypoint:"feed",source:"newsfeed_composer"}});case"VIEW_ONLY_FEED_ATTACHMENT":return j.jsx(p,{feedLocation:"FEED_COMPOSER"});case"WOODHENGE_SUPPORT":return j.jsx(q,{profileID:i});case"COMMUNITY_HELP_DRIVE":return j.jsx(D,{})}return null}})}),j.jsx(b("CometComposerFooterAttachmentArea.react"),{children:function(a){switch(a){case"ROOM":return j.jsx(y,{})}return null}}),a==null?void 0:a.previewPane]})}}),null);
__d("CometComposerSubmitButtonLayout.react",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var b=a.children;a=a.hasTopMargin;a=a===void 0?!1:a;return h.jsx("div",{className:"k4urcfbm dati1w0a hv4rvrfc i1fnvgqd j83agx80 rq0escxv bp9cbjyn"+(a?" discj3wi":""),children:b})}}),null);
__d("FeedComposerComet.react",["fbt","ix","BaseMultiStepContainer.react","BaseToasterStateManager","CometComposer.react","CometComposerIPSPlugin.react","CometComposerMediaDropTarget.react","CometComposerMinutiaeBarLoading.react","CometComposerPreAttachmentArea.react","CometComposerPrivacyScope.react","CometComposerPushPageContext","CometComposerSavingIndicatorMask.react","CometComposerServerErrorMessage.react","CometComposerSubmitButton.react","CometComposerSubmitButtonLayout.react","CometDefaultPrivacyNux.react","CometHero.react","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","ComposerDefaultPrivacyUtils","FeedComposerCometBody.react","FeedComposerComet_composer.graphql","FeedComposerComet_defaultprivacy.graphql","FeedComposerComet_profile.graphql","FeedComposerComet_scope.graphql","FeedComposerComet_viewer.graphql","JSResourceForInteraction","LWICometComposerUtils","ServerHTML.react","SilenceableErrorMessageUtils","TCometComposerTarget","TetraIcon.react","cometComposerAttachmentsEligibilityChecker","cometComposerEditingEligibilityChecker","cometComposerFooterAttachmentsEligibilityChecker","cometComposerFormattedTextEligibilityChecker","cometComposerMajorLifeEventsEligibilityChecker","cometComposerTaggerEligibilityChecker","cometComposerValidateMediaLimit","cometComposerValidateMediaUploadSuccess","cometComposerValidatePhoto3dAttachment","cometComposerValidateStatusTextLength","cometPushToast","composerValidateGetMessagesMustContainMedia","composerValidateGetWhatsAppMessagesMustContainMedia","composerValidateLifeEventPost","cr:1252280","cr:126","cr:1384013","cr:1575126","cr:1575921","cr:1606271","cr:1786994","cr:1953987","cr:2025893","cr:213","cr:214","cr:553","cr:690","cr:845","decorateMultiStepContainerPushPage","deferredLoadComponent","fbicon","feedStoryLiveInsertUpdater","filterNulls","getDeferredComposerLogger","getDeferredComposerMutationDataTransformer","getDeferredComposerTransformer","gkx","lazyLoadComponent","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","stylex","useAfterPostForProductTagging","useCometRouterDispatcher","useDefaultPrivacyCallout","useFeedComposerCometDialog","useHandleErrorBySettingState","useResumableComposerViewState","uuid"],(function(a,b,c,d,e,f,g,aa){"use strict";var h,i,j,k,l,m,n,o=m||b("react"),ba=b("deferredLoadComponent")(b("requireDeferredForDisplay")("CometComposerClientErrorMessage.react").__setRef("FeedComposerComet.react"));c=b("requireDeferred")("GeminiComposerMarkdownTransform").__setRef("FeedComposerComet.react");var ca=b("requireDeferred")("cometComposerAMACreationLogger").__setRef("FeedComposerComet.react"),da=b("requireDeferred")("cometComposerInlineSproutsLogger").__setRef("FeedComposerComet.react"),ea=b("requireDeferred")("cometComposerLogger").__setRef("FeedComposerComet.react"),fa=b("requireDeferred")("cometComposerMediaUploadLogger").__setRef("FeedComposerComet.react"),ga=b("requireDeferred")("cometComposerQuiltsCreationLogger").__setRef("FeedComposerComet.react");d=b("requireDeferred")("composerActivityMinutiaeTransform").__setRef("FeedComposerComet.react");f=b("requireDeferred")("composerAttachmentAreaFeedTransform").__setRef("FeedComposerComet.react");var p=b("requireDeferred")("composerAudienceFeedTransform").__setRef("FeedComposerComet.react"),q=b("requireDeferred")("composerBrandedContentTransform").__setRef("FeedComposerComet.react"),r=b("requireDeferred")("composerFooterAttachmentAreaFeedTransform").__setRef("FeedComposerComet.react"),s=b("requireDeferred")("composerFormattedTextTransform").__setRef("FeedComposerComet.react"),t=b("requireDeferred")("composerGetMessagesTransform").__setRef("FeedComposerComet.react"),u=b("requireDeferred")("composerGetWhatsAppMessagesTransform").__setRef("FeedComposerComet.react"),v=b("requireDeferred")("composerGratitudeTransform").__setRef("FeedComposerComet.react"),w=b("requireDeferred")("composerLocalAlertTransform").__setRef("FeedComposerComet.react"),x=b("requireDeferred")("composerLocationMinutiaeCreationDataTransform").__setRef("FeedComposerComet.react"),y=b("requireDeferred")("composerLocationMinutiaeMutationDataTransform").__setRef("FeedComposerComet.react"),z=b("requireDeferred")("composerMessageFeedTransform").__setRef("FeedComposerComet.react"),A=b("requireDeferred")("composerPreAttachmentAreaFeedTransform").__setRef("FeedComposerComet.react"),B=b("requireDeferred")("composerTrackingTransform").__setRef("FeedComposerComet.react"),C=b("requireDeferred")("composerWithTagTransform").__setRef("FeedComposerComet.react"),D=b("requireDeferred")("composerWoodhengeSupportTransform").__setRef("FeedComposerComet.react"),E=b("requireDeferred")("fundraiserForStoryTransform").__setRef("FeedComposerComet.react"),F=b("requireDeferred")("communityHelpDriveTransform").__setRef("FeedComposerComet.react"),ha=b("lazyLoadComponent")(b("JSResourceForInteraction")("ProfileCometComposerFunFactsAttachmentArea.react").__setRef("FeedComposerComet.react")),ia=4e3,G={boostPost:{marginBottom:"bi6gxh9e",marginTop:"aov4n071"},error:{marginBottom:"fi9g468h",marginEnd:"wkznzc2l",marginStart:"dhix69tm"},headerWithProgressBar:{position:"l9j0dhe7"}},H=b("filterNulls")([b("getDeferredComposerTransformer")(B),b("getDeferredComposerTransformer")(p),b("getDeferredComposerTransformer")(z),b("getDeferredComposerTransformer")(C),b("getDeferredComposerTransformer")(d),{creationDataTransformer:b("getDeferredComposerTransformer")(x),mutationDataTransformer:b("getDeferredComposerMutationDataTransformer")(y)},b("getDeferredComposerTransformer")(s),b("getDeferredComposerTransformer")(A),b("getDeferredComposerTransformer")(D),b("getDeferredComposerTransformer")(r),b("getDeferredComposerTransformer")(E),b("cr:1575921"),b("getDeferredComposerTransformer")(v),b("getDeferredComposerTransformer")(w),b("getDeferredComposerTransformer")(F)]),ja=[b("getDeferredComposerTransformer")(f),b("getDeferredComposerTransformer")(q),b("getDeferredComposerTransformer")(t),b("getDeferredComposerTransformer")(u)].concat(b("gkx")("1941598")?[b("getDeferredComposerTransformer")(b("requireDeferred")("composerMultilingualPostTransform").__setRef("FeedComposerComet.react"))]:[],b("gkx")("1224637")?[b("getDeferredComposerTransformer")(c)]:[],H),ka={isGetMessagesPost:b("composerValidateGetMessagesMustContainMedia"),isGetWhatsAppMessagesPost:b("composerValidateGetWhatsAppMessagesMustContainMedia"),mediaAttachment:(B=b("cr:553"))!=null?B:b("cr:1252280"),mediaLimit:b("cometComposerValidateMediaLimit"),mediaUpload:b("cometComposerValidateMediaUploadSuccess"),mle:b("composerValidateLifeEventPost"),photo3dAttachment:b("cometComposerValidatePhoto3dAttachment"),textLimit:b("cometComposerValidateStatusTextLength")};function a(a,c){var d,e,f=a.askMeAnythingVisibleOnLoad,m=f===void 0?!1:f,p=a.beginningViewState;f=a.composer$key;var q=a.composerType,r=a.defaultprivacy$key,s=a.feelingTaggerVisibleOnLoad,t=s===void 0?!1:s,u=a.headerComponent,v=a.isViewerFeed;s=a.locationTaggerVisibleOnLoad;var w=s===void 0?!1:s;s=a.onBeforeViewStateChange;var x=a.onClose,y=a.onSave,z=a.onSaveError,A=a.onSubmit,B=a.privacySelectorRenderLocation,C=a.productTaggerVisibleOnLoad,D=C===void 0?!1:C;C=a.profile$key;var E=a.quiltsComposerVisibleOnLoad,F=E===void 0?!1:E;E=a.renderLocation;E=E===void 0?"homepage_stream":E;var I=a.scope$key,J=a.unalteredBeginningViewState,K=a.viewer$key;a=a.withTaggerVisibleOnLoad;var L=a===void 0?!1:a,M=b("CometRelay").useFragment(h!==void 0?h:h=b("FeedComposerComet_profile.graphql"),C),N=b("CometRelay").useFragment(i!==void 0?i:i=b("FeedComposerComet_composer.graphql"),f);a=M.id;var O=b("CometRelay").useFragment(j!==void 0?j:j=b("FeedComposerComet_scope.graphql"),I);C=b("CometRelay").useRefetchableFragment(k!==void 0?k:k=b("FeedComposerComet_defaultprivacy.graphql"),r);var P=C[0],la=C[1],Q=b("CometRelay").useFragment(l!==void 0?l:l=b("FeedComposerComet_viewer.graphql"),K),ma=o.useMemo(function(){var a;return b("ComposerDefaultPrivacyUtils").isDefaultPrivacyEnabled&&(P==null?void 0:(a=P.default_privacy_user)==null?void 0:a.has_opt_in)===!1},[P==null?void 0:(f=P.default_privacy_user)==null?void 0:f.has_opt_in]);r=o.useMemo(function(){var a;return(P==null?void 0:(a=P.default_privacy_user)==null?void 0:a.has_opt_in)===!0||(p==null?void 0:p.gratitudeMetadata)!=null},[P==null?void 0:(I=P.default_privacy_user)==null?void 0:I.has_opt_in,p==null?void 0:p.gratitudeMetadata]);C=o.useState(!1);var R=C[0],S=C[1];K=b("useHandleErrorBySettingState")();var na=K[0],oa=K[1],pa=o.useRef(null),qa=function(a){o.startTransition(function(){la({},{fetchPolicy:"network-only"})})};f=o.useState(!1);var T=f[0],ra=f[1],U=b("useCometRouterDispatcher")();I=b("useResumableComposerViewState")();var V=I.clearResumableViewState,W=I.getResumableViewState,X=I.saveResumableViewState;C=o.useCallback(function(a){X(a)},[X]);K=b("useFeedComposerCometDialog")({composerType:"feed",onBeforeClose:C,onSave:y,tracePolicy:"comet.composer.editFeedPost"});var Y=K[0],Z=b("useAfterPostForProductTagging")(M.has_taggable_products===!0,M.is_product_tagging_apux_snoozed,q),sa=o.useCallback(function(a,b){var c;c=(c=W())!=null?c:void 0;V();Y({beginningViewState:c});a!=null&&(b!=null&&b!==""&&a.expire(b))},[V,W,Y]);f=o.useCallback(function(){S(!1)},[]);I=o.useCallback(function(){S(!1)},[]);C=o.useCallback(function(a,c){var d;((c==null?void 0:c.disableOptimisticMediaPost)===!0||!b("gkx")("1000924"))&&(x&&x());(a.story_create&&a.story_create.story==null&&a.story_create.story_id!=null||a!=null&&a.story_edit!=null&&((d=a.story_edit)==null?void 0:d.story)==null)&&ua();y&&y(a.story_create?(d=a.story_create)==null?void 0:(d=d.story)==null?void 0:d.url:null);d=a.story_create&&((d=a.story_create)==null?void 0:(d=d.story)==null?void 0:d.id);Z(d,c);d=M.delegate_page_id;if(T&&a.story_create&&d!=null){c=(c=a.story_create)==null?void 0:(c=c.story)==null?void 0:c.legacy_story_hideable_id;var e=!1;if(c==null){c=(a=a.story_create)==null?void 0:a.post_id;c!=null&&(e=!0)}c==null?b("recoverableViolation")("No postID/story when boosting from composer!","pages_lwi"):b("LWICometComposerUtils").boostFromComposer(U,d,c,e,"www_profile_plus_feed_composer")}},[x,y,Z,U,M.delegate_page_id]);function ta(a,c){a=a==null?g._("Something went wrong. Please try posting again later."):o.jsx(b("ServerHTML.react"),{blob:a});X(c);var d=b("BaseToasterStateManager").getInstance();c=o.jsx(b("TetraIcon.react"),{"aria-label":g._("Edit"),color:"white",icon:b("fbicon")._(aa("477826"),20),onPress:function(){return sa(d,e)}});var e=b("cometPushToast").cometPushToast({icon:c,message:a,onPress:function(){return sa(d,e)},testid:"CometStoriesReshareToast",truncateText:!1},Infinity,d)}function ua(){var a=g._("Your post is being processed. We\u2019ll let you know when it\u2019s ready to view."),c=b("BaseToasterStateManager").getInstance();pa.current=b("cometPushToast").cometPushToast({message:a,testid:"FeedCometVideoOptimisticPostingToast"},ia,c)}K=function(a,c){oa(a);z&&z();if((c==null?void 0:c.disableOptimisticMediaPost)===!0||!b("gkx")("1000924"))S(!1);else{a=b("SilenceableErrorMessageUtils").getMetadataFromError(a);a&&!b("SilenceableErrorMessageUtils").shouldHideErrorMessage(a)&&ta(a.message,c)}};var $=(d=p==null?void 0:p.creationSessionID)!=null?d:b("uuid")(),va=b("cr:1953987")({actorID:a,composerEntryPoint:"inline_composer",composerSourceSurface:"newsfeed",composerType:q,creationSessionID:$,onCompleted:C,onError:K,optimisticTransformers:H,optimisticUpdater:function(a,c){return b("feedStoryLiveInsertUpdater")(a,c)},requestType:"FEED",transformers:ja,unalteredBeginningViewState:J,updater:b("feedStoryLiveInsertUpdater"),variables:{UFI2CommentsProvider_commentsKey:"CometModernHomeFeedQuery",creationSessionID:$,feedLocation:"NEWSFEED",feedbackSource:1,renderLocation:E,useCometPhotoViewerPlaceholderFrag:b("gkx")("686")}});d=o.useCallback(function(a){S(!0),A&&A(),b("gkx")("1000924")&&a.disableOptimisticMediaPost!==!0&&(x&&x()),va(a)},[x,va,A]);C=function(){return S(!0)};K={attachments:b("cometComposerAttachmentsEligibilityChecker"),footerAttachments:b("cometComposerFooterAttachmentsEligibilityChecker").cometComposerFooterAttachmentsEligibilityChecker,formattedText:b("cometComposerFormattedTextEligibilityChecker"),mle:b("cometComposerMajorLifeEventsEligibilityChecker"),tagger:b("cometComposerTaggerEligibilityChecker")};!b("gkx")("1749453")&&q==="edit"&&(K=babelHelpers["extends"]({},K,{edit:b("cometComposerEditingEligibilityChecker")}));E=[b("getDeferredComposerLogger")(ea),b("getDeferredComposerLogger")(fa),b("getDeferredComposerLogger")(ca),b("getDeferredComposerLogger")(da),b("getDeferredComposerLogger")(ga)];var wa=(e=b("cr:1575126"))!=null?e:o.Fragment;e=b("useDefaultPrivacyCallout")();var xa=e.calloutRef,ya=e.handleIPSResult,za=e.handleNuxAutoOptIn;e=[o.jsx(b("CometComposerIPSPlugin.react"),{cometComposerIPSPlugin_viewer$key:Q,onIPSClosedWithSelection:ya,scopeRef:O},"ipsPlugin")];var Aa=((p==null?void 0:p.mediaAttachments)||[]).length>0,Ba=o.jsx("div",{ref:xa,children:o.jsx(b("CometComposerPrivacyScope.react"),{plugins:e,privacySelectorRenderLocation:B,scope:O,shouldRestorePrivacyFromDraftState:r,title:b("ComposerDefaultPrivacyUtils").isDefaultPrivacyEnabled?g._("Post Audience"):null})});return o.jsx(b("CometComposer.react"),{beginningViewState:babelHelpers["extends"]({},p,{creationSessionID:$}),eligibilityCheckers:K,loggers:E,onBeforeViewStateChange:s,onSubmitCommit:d,onSubmitHalt:f,onSubmitStart:C,onValidationErrors:I,ref:c,target:{id:a,type:b("TCometComposerTarget").ComposerTargetType.Feed},testid:void 0,unalteredBeginningViewState:J,validators:ka,children:function(a){var c=o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:(n||(n=b("stylex")))(G.headerWithProgressBar),children:[b("cr:213")!=null&&o.jsx(b("cr:213"),{}),u]}),o.jsxs(b("CometPlaceholder.react"),{fallback:o.jsx(b("CometComposerMinutiaeBarLoading.react"),{}),children:[o.jsx(b("CometHero.react"),{description:"MinutiaeBar"}),b("cr:690")!=null?o.jsx(b("cr:690"),{privacySelector:Ba,profile$key:M}):o.jsx(b("CometRelay").MatchContainer,{match:N.can_viewer_see_workplace_toolbar_sprouts,props:{privacySelector:Ba}})]}),ma?o.jsx(b("CometDefaultPrivacyNux.react"),{defaultPrivacyRef:P,onAutoOptIn:za,onClose:x,onPrivacyChange:qa,scopeRef:O}):null,o.jsx(b("CometComposerPreAttachmentArea.react"),{children:function(a){switch(a){case"FUN_FACT":return o.jsx(ha,{})}return null}})]}),d=o.jsx(b("FeedComposerCometBody.react"),{composerType:q,isViewerFeed:v,onClose:x,placeholderText:p==null?void 0:p.placeholderTextOverride,profile$key:M,viewer$key:Q}),e=o.jsxs(o.Fragment,{children:[b("cr:1786994")!=null&&o.jsx(b("cr:1786994"),{}),b("cr:2025893")&&o.jsx(b("cr:2025893"),{askMeAnythingVisibleOnLoad:m,composer:N,composerType:q,creationSessionID:$,feelingTaggerVisibleOnLoad:t,hasMediaAttachment:Aa,locationTaggerVisibleOnLoad:w,onClose:x,productTaggerVisibleOnLoad:D,quiltsComposerVisibleOnLoad:F,withTaggerVisibleOnLoad:L}),(M==null?void 0:M.delegate_page_id)!=null&&(M==null?void 0:M.delegate_page_id)!==""&&b("cr:126")!=null?o.jsx("div",{className:(n||(n=b("stylex")))(G.boostPost),children:o.jsx(b("cr:126"),{boostAfterPosting:T,setBoostAfterPosting:ra})}):null,M.publishing_tool_banner_profile!=null?o.jsx(b("CometPlaceholder.react"),{fallback:null,children:o.jsx(b("CometRelay").MatchContainer,{match:M.publishing_tool_banner_profile,props:{mediaAttachments:{},page:M.publishing_tool_banner_profile,videoLiteComposerEligible:!1}})}):null,o.jsx(b("CometComposerSubmitButtonLayout.react"),{hasTopMargin:!0,children:o.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:156,children:o.jsx(b("CometComposerSubmitButton.react"),{disabled:R,label:(p==null?void 0:p.storyID)!=null?g._("Save"):g._("Post"),onPress:a,testid:void 0})})}),b("cr:1384013")!=null&&o.jsx(b("cr:1384013"),{sessionID:$}),o.jsx(b("CometComposerServerErrorMessage.react"),{errorMetadata:na,xstyle:G.error}),o.jsx(ba,{xstyle:G.error})]});return o.jsx(b("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return o.jsx(b("CometComposerPushPageContext").Provider,{value:b("decorateMultiStepContainerPushPage")(a),children:o.jsx(b("CometComposerMediaDropTarget.react"),{children:o.jsxs(wa,{children:[o.jsx(b("CometHero.react"),{description:"Composer"}),b("cr:845")!=null?o.jsx(b("cr:845"),{body:d,composer:N==null?void 0:N.can_viewer_see_workplace_toolbar_sprouts,footer:e,header:c}):o.jsx(b("cr:1606271"),{header:c,body:d,footer:e,leftWing:b("cr:214")?o.jsx(b("cr:214"),{askMeAnythingVisibleOnLoad:m,composer:N,composerType:q,creationSessionID:$,feelingTaggerVisibleOnLoad:t,hasMediaAttachment:Aa,locationTaggerVisibleOnLoad:w,onClose:x,productTaggerVisibleOnLoad:D,quiltsComposerVisibleOnLoad:F,withTaggerVisibleOnLoad:L}):void 0}),R?o.jsx(b("CometComposerSavingIndicatorMask.react"),{body:(p==null?void 0:p.storyID)?g._("Saving"):g._("Posting")}):null]})})})}})}},$)}p=o.forwardRef(a);e.exports=p}),null);
__d("FeedComposerCometRoot.react",["CometRelay","FeedComposerComet.react","FeedComposerCometRootQuery.graphql","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h,i=h||b("react"),j=g!==void 0?g:g=b("FeedComposerCometRootQuery.graphql");function a(a,c){var d,e,f,g=b("CometRelay").usePreloadedQuery(j,a.queries.composerQueryReference);d=(d=g==null?void 0:(d=g.story)==null?void 0:d.privacy_scope)!=null?d:g==null?void 0:g.privacy_selector;if(d==null)throw b("unrecoverableViolation")("Trying to render composer with no privacy scope","comet_composer");e=(e=g.viewer)==null?void 0:e.actor;if(e==null||g.viewer==null)return null;var h=g.viewer.feed_comet_composer;if(h==null)throw b("unrecoverableViolation")("Trying to render composer with no feed_comet_composer data","comet_composer");f=(f=g.feature_limit_messaging)==null?void 0:f.surface;if(f)return i.jsx(b("CometRelay").MatchContainer,{match:f,props:{is_proactive_block:!0,onClose:a.onClose}});f=g.viewer;return i.jsx(b("FeedComposerComet.react"),{askMeAnythingVisibleOnLoad:a.askMeAnythingVisibleOnLoad,beginningViewState:a.beginningViewState,composer$key:h,composerType:a.composerType,defaultprivacy$key:f,feelingTaggerVisibleOnLoad:a.feelingTaggerVisibleOnLoad,headerComponent:a.headerComponent,isViewerFeed:!0,locationTaggerVisibleOnLoad:a.locationTaggerVisibleOnLoad,onBeforeViewStateChange:a.onBeforeViewStateChange,onClose:a.onClose,onSave:a.onSave,onSaveError:a.onSaveError,onSubmit:a.onSubmit,privacySelectorRenderLocation:(h=a.privacySelectorRenderLocation)!=null?h:"COMET_COMPOSER",profile$key:e,quiltsComposerVisibleOnLoad:a.quiltsComposerVisibleOnLoad,ref:c,renderLocation:a.renderLocation,scope$key:d,viewer$key:g.viewer,withTaggerVisibleOnLoad:a.withTaggerVisibleOnLoad})}c=i.forwardRef(a);e.exports=c}),null);
__d("FeedComposerCometDialog.react",["CometCardedDialog.react","CometComposerHeader.react","FeedComposerCometRoot.react","QPLUserFlow","composerCometCardedDialogProps","react","useCometUniqueID","useQPLInstanceKey"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a){var c=a.props;a=a.queries;var d=c.askMeAnythingVisibleOnLoad,e=c.beginningViewState,f=c.composerType,g=c.disableClosingWithMask,i=c.feelingTaggerVisibleOnLoad,j=c.locationTaggerVisibleOnLoad,k=c.onBeforeClose,l=c.onClose,m=c.onSave,n=c.onSaveError,o=c.onSubmit,p=c.quiltsComposerVisibleOnLoad,q=c.renderLocation,r=c.title,s=c.withCloseButton;c=c.withTaggerVisibleOnLoad;var t=h.useRef({isSaving:!1}),u=b("useQPLInstanceKey")();h.useEffect(function(){b("QPLUserFlow").start(917556,{annotations:{string:{composerType:"feed"}},instanceKey:u})},[u]);var v=h.useRef(null),w=h.useCallback(function(){t.current.isSaving||b("QPLUserFlow").endCancel(917556,{instanceKey:u}),k&&k(v.current!=null?v.current.getViewState():void 0),l()},[k,l,u]),x=h.useCallback(function(){t.current.isSaving=!1,b("QPLUserFlow").endFailure(917556,"onSubmitError",{instanceKey:u}),n&&n()},[u,n]),y=h.useCallback(function(a){t.current.isSaving=!1,b("QPLUserFlow").endSuccess(917556,{instanceKey:u}),m&&m(a)},[u,m]),z=h.useCallback(function(){t.current.isSaving=!0,b("QPLUserFlow").addPoint(917556,"onSubmitCommit",{instanceKey:u}),o&&o()},[u,o]),A=b("useCometUniqueID")();r=h.jsx(b("CometComposerHeader.react"),{closeButtonTestID:"comet-feed-composer-dialog-close-button",id:A,onClose:w,title:r,withCloseButton:s});return h.jsx(b("CometCardedDialog.react"),babelHelpers["extends"]({},b("composerCometCardedDialogProps"),{disableClosingWithMask:g,labelledBy:A,onClose:w,children:h.jsx(b("FeedComposerCometRoot.react"),{askMeAnythingVisibleOnLoad:d,beginningViewState:e,composerType:f,feelingTaggerVisibleOnLoad:i,headerComponent:r,locationTaggerVisibleOnLoad:j,onClose:w,onSave:y,onSaveError:x,onSubmit:z,queries:a,quiltsComposerVisibleOnLoad:p,ref:v,renderLocation:q,withTaggerVisibleOnLoad:c})}))}}),null);
__d("composerLocationTagChecker",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c;if((a==null?void 0:a.locationMinutiae)!=null&&b.locationMinutiae==null)return"DELETED";else if((a==null?void 0:(c=a.locationMinutiae)==null?void 0:c.placeID)!==((c=b.locationMinutiae)==null?void 0:c.placeID))return"UPDATED";else{a=(a==null?void 0:(c=a.attachmentArea)==null?void 0:c.activeAttachmentType)==="LOCATION";b=((c=b.attachmentArea)==null?void 0:c.activeAttachmentType)==="LOCATION";if(a!==b)return"UPDATED"}return"UNCHANGED"}}),null);
__d("composerLocationMinutiaeMutationDataTransform",["composerLocationMinutiaeTransformData","composerLocationTagChecker"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){a=b("composerLocationTagChecker")(a,c);switch(a){case"UPDATED":e(babelHelpers["extends"]({},d,b("composerLocationMinutiaeTransformData")(c.locationMinutiae,d.place_attachment_setting)));break;case"DELETED":e(babelHelpers["extends"]({},d,{explicit_place_id:null}));break;case"UNCHANGED":default:e(d);break}}}),null);
__d("composerGratitudeTransform",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c){a=a.gratitudeMetadata;return a!=null?c(babelHelpers["extends"]({},b,{gratitude_metadata:{gratitude_prompt:a.gratitude_prompt,opened_only_me_composer:a.opened_only_me_composer}})):c(b)}}),null);
__d("InlineSproutsInitialStateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("194");c=b("FalcoLoggerInternal").create("inline_sprouts_initial_state",a);e.exports=c}),null);
__d("InlineSproutsStateChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("252");c=b("FalcoLoggerInternal").create("inline_sprouts_state_changed",a);e.exports=c}),null);
__d("cometComposerInlineSproutsLogger",["InlineSproutsInitialStateFalcoEvent","InlineSproutsStateChangedFalcoEvent"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){switch(a.type){case"INLINE_SPROUTS_INITIAL_STATE":g(a.fields,b);break;case"INLINE_SPROUTS_STATE_CHANGED":h(a.fields,b);break;default:break}}function g(a,c){b("InlineSproutsInitialStateFalcoEvent").log(function(){return i(a,c)})}function h(a,c){b("InlineSproutsStateChangedFalcoEvent").log(function(){return i(a,c)})}function i(a,b){return babelHelpers["extends"]({},a,{creation_session_id:b})}}),null);
__d("SpectrumImageResizer",["invariant","BlobFactory","FBLogger","Promise","cr:1917805","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=2048,i=2048,j=85,k=0,l=null,m=null,n=function(){function a(){this.$1=h,this.$2=i,this.$3=j,m=b("cr:1917805")()}var c=a.prototype;c.setEncodeQuality=function(a){this.$3=a;return this};c.setMaxWidth=function(a){this.$2=a;return this};c.setMaxHeight=function(a){this.$1=a;return this};c.resizeBlob=function(a,b,c){this.$4(a,this.$2,this.$1,this.$3,b)};c.resize360Blob=function(a,b,c,d){var e;d===void 0||d===null?(c=this.$2*4,e=this.$1*4):(c=d,e=d);this.$4(a,c,e,this.$3,b)};c.$4=function(a,c,d,e,f){var h=new FileReader();h.onload=function(h){var i=new Uint8Array(this.result);i.length>0||g(0,18539);function j(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b({width:d.width,height:d.height})};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}return j(a).then(function(a){m!=null||g(0,18573);return m.then(function(g){var h=g.cwrap("resizeJpeg","number",["number","number","number","number","number","number"]);function k(a){var b=g.getMemory(a.length);g.HEAP8.set(a,b);return b}var l=0,m=0;try{var n=function(a,b){var c=new Int8Array(b);c.set(g.HEAP8.subarray(a,a+b));return c};l=g.getMemory(i.length);m=k(i);k=h(m,i.length,l,c,d,e);h=n(l,k);var o=b("BlobFactory").getBlob([h],{type:"image/jpeg",done:!0});b("promiseDone")(j(o).then(function(b){f(null,o,!1,a.width,a.height,b.width,b.height)}))}finally{try{m!==0&&g._free(m),l!==0&&g._free(l)}catch(a){b("FBLogger")("spectrum").catching(a).info("Error while freeing resources after resizing")}}})})["catch"](function(a){f(a,null,!0,null,null,null,null)})};h.readAsArrayBuffer(a)};return a}();a={get:function(){k++;l||(l=new n());var a=!1;return[l,function(){if(a)return;a=!0;k--;k===0&&(l=null,m=null)}]},isSupported:function(){try{if(typeof WebAssembly==="object"&&typeof WebAssembly.instantiate==="function"){var a=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(a instanceof WebAssembly.Module)return new WebAssembly.Instance(a)instanceof WebAssembly.Instance}}catch(a){b("FBLogger")("spectrum").catching(a).mustfix("Instantiating empty WebAssembly module threw an error")}return!1}};e.exports=a}),null);
__d("SpectrumWasm2021",["Promise","bx"],(function(a,b,c,d,e,f){var g=b("bx").getURL(b("bx")("1911529")),h=function(){var c=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(d){d=d||{};var f=typeof d!=="undefined"?d:{},i={},j;for(j in f)Object.prototype.hasOwnProperty.call(f,j)&&(i[j]=f[j]);f.arguments=[];f.thisProgram="./this.program";f.quit=function(a,b){throw b};f.preRun=[];f.postRun=[];var k=!0,l=!1,m="";(k||l)&&(l?m=self.location.href:document.currentScript&&(m=document.currentScript.src),c&&(m=c),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",f.read=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.send(null);return b.responseText},l&&(f.readBinary=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),f.readAsync=function(a,b,c){var d=new XMLHttpRequest();d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){if(d.status==200||d.status==0&&d.response){b(d.response);return}c()};d.onerror=c;d.send(null)},f.setWindowTitle=function(a){document.title=a});var n=f.print||(typeof console!=="undefined"?emptyFunction.bind(console):typeof print!=="undefined"?print:null),o=f.printErr||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&emptyFunction.bind(console)||n);for(j in i)Object.prototype.hasOwnProperty.call(i,j)&&(f[j]=i[j]);i=void 0;function aa(a){var b=B[C>>2];a=b+a+15&-16;a>wb()&&$();B[C>>2]=a;return b}function p(a){switch(a){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if(a[a.length-1]==="*")return 4;else if(a[0]==="i"){var b=parseInt(a.substr(1));t(b%8===0,"getNativeTypeSize invalid bits "+b+", type "+a);return b/8}else return 0}}var ba={"f64-rem":function(a,b){return a%b},"debugger":function(){debugger}};new Array(0);var ca=0,q=function(a){ca=a};m=function(){return ca};typeof WebAssembly!=="object"&&o("no native wasm support detected");function p(a,b,c,d){c=c||"i8";c.charAt(c.length-1)==="*"&&(c="i32");switch(c){case"i1":z[a>>0]=b;break;case"i8":z[a>>0]=b;break;case"i16":qa[a>>1]=b;break;case"i32":B[a>>2]=b;break;case"i64":tempI64=[b>>>0,(tempDouble=b,+Ia(tempDouble)>=1?tempDouble>0?(La(+Ka(tempDouble/4294967296),4294967295)|0)>>>0:~~+Ja((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],B[a>>2]=tempI64[0],B[a+4>>2]=tempI64[1];break;case"float":ra[a>>2]=b;break;case"double":sa[a>>3]=b;break;default:$("invalid type for setValue: "+c)}}var r,s=!1;function t(a,b){a||$("Assertion failed: "+b)}function da(a){var b=f["_"+a];t(b,"Cannot call unknown function "+a+", make sure it is exported");return b}function ea(a,b,c,d,e){var f={string:function(a){var b=0;if(a!==null&&a!==void 0&&a!==0){var c=(a.length<<2)+1;b=wc(c);ha(a,b,c)}return b},array:function(a){var b=wc(a.length);ja(a,b);return b}};function e(a){if(b==="string")return v(a);return b==="boolean"?Boolean(a):a}a=da(a);var g=[],h=0;if(d)for(var i=0;i<d.length;i++){var j=f[c[i]];j?(h===0&&(h=Z()),g[i]=j(d[i])):g[i]=d[i]}j=a.apply(null,g);j=e(j);h!==0&&Y(h);return j}function p(a,b,c,d){c=c||[];var e=c.every(function(a){return a==="number"}),f=b!=="string";return f&&e&&!d?da(a):function(){return ea(a,b,c,arguments,d)}}j=3;function fa(a){return!Aa?aa(a):W(a)}var ga=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):void 0;function u(a,b,c){c=b+c;var d=b;while(a[d]&&!(d>=c))++d;if(d-b>16&&a.subarray&&ga)return ga.decode(a.subarray(b,d));else{c="";while(b<d){var e=a[b++];if(!(e&128)){c+=String.fromCharCode(e);continue}var f=a[b++]&63;if((e&224)==192){c+=String.fromCharCode((e&31)<<6|f);continue}var g=a[b++]&63;(e&240)==224?e=(e&15)<<12|f<<6|g:e=(e&7)<<18|f<<12|g<<6|a[b++]&63;if(e<65536)c+=String.fromCharCode(e);else{f=e-65536;c+=String.fromCharCode(55296|f>>10,56320|f&1023)}}}return c}function v(a,b){return a?u(A,a,b):""}function w(a,b,c,d){if(!(d>0))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(g>=55296&&g<=57343){var h=a.charCodeAt(++f);g=65536+((g&1023)<<10)|h&1023}if(g<=127){if(c>=d)break;b[c++]=g}else if(g<=2047){if(c+1>=d)break;b[c++]=192|g>>6;b[c++]=128|g&63}else if(g<=65535){if(c+2>=d)break;b[c++]=224|g>>12;b[c++]=128|g>>6&63;b[c++]=128|g&63}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63;b[c++]=128|g>>6&63;b[c++]=128|g&63}}b[c]=0;return c-e}function ha(a,b,c){return w(a,A,b,c)}function x(a){var b=0;for(var c=0;c<a.length;++c){var d=a.charCodeAt(c);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);d<=127?++b:d<=2047?b+=2:d<=65535?b+=3:b+=4}return b}typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):void 0;function ia(a){var b=x(a)+1,c=W(b);c&&w(a,z,c,b);return c}function ja(b,a){z.set(b,a)}function ka(b,a,c){for(var d=0;d<b.length;++d)z[a++>>0]=b.charCodeAt(d);c||(z[a>>0]=0)}function la(a){return a}function ma(a){var b=/__Z[\w\d_]+/g;return a.replace(b,function(a){var b=la(a);return a===b?a:b+" ["+a+"]"})}function na(){var a=new Error();if(!a.stack){try{throw new Error(0)}catch(b){a=b}if(!a.stack)return"(no stack trace available)"}return a.stack.toString()}function oa(){var a=na();f.extraStackTrace&&(a+="\n"+f.extraStackTrace());return ma(a)}i=65536;function pa(a,b){a%b>0&&(a+=b-a%b);return a}var y,z,A,qa,B,ra,sa;function ta(){f.HEAP8=z=new Int8Array(y),f.HEAP16=qa=new Int16Array(y),f.HEAP32=B=new Int32Array(y),f.HEAPU8=A=new Uint8Array(y),f.HEAPU16=new Uint16Array(y),f.HEAPU32=new Uint32Array(y),f.HEAPF32=ra=new Float32Array(y),f.HEAPF64=sa=new Float64Array(y)}j=5387120;var C=144208,ua=5242880,D=f.TOTAL_MEMORY||16777216;D<ua&&o("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+D+"! (TOTAL_STACK="+ua+")");f.buffer?y=f.buffer:typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"?(r=new WebAssembly.Memory({initial:D/i}),y=r.buffer):y=new ArrayBuffer(D);ta();B[C>>2]=j;function va(a){while(a.length>0){var b=a.shift();if(typeof b=="function"){b();continue}var c=b.func;typeof c==="number"?b.arg===void 0?f.dynCall_v(c):f.dynCall_vi(c,b.arg):c(b.arg===void 0?null:b.arg)}}var wa=[],xa=[],ya=[],za=[],Aa=!1;function Ba(){if(f.preRun){typeof f.preRun=="function"&&(f.preRun=[f.preRun]);while(f.preRun.length)Ga(f.preRun.shift())}va(wa)}function Ca(){Aa=!0,!f.noFSInit&&!S.init.initialized&&S.init(),O.init(),va(xa)}function Da(){S.ignorePermissions=!1,va(ya)}function Ea(){}function Fa(){if(f.postRun){typeof f.postRun=="function"&&(f.postRun=[f.postRun]);while(f.postRun.length)Ha(f.postRun.shift())}va(za)}function Ga(a){wa.unshift(a)}function Ha(a){za.unshift(a)}var Ia=Math.abs,Ja=Math.ceil,Ka=Math.floor,La=Math.min,E=0,Ma=null,F=null;function Na(a){return a}function Oa(a){E++,f.monitorRunDependencies&&f.monitorRunDependencies(E)}function Pa(a){E--;f.monitorRunDependencies&&f.monitorRunDependencies(E);if(E==0){Ma!==null&&(clearInterval(Ma),Ma=null);if(F){a=F;F=null;a()}}}f.preloadedImages={};f.preloadedAudios={};var Qa="data:application/octet-stream;base64,";function Ra(a){return String.prototype.startsWith?a.startsWith(Qa):a.indexOf(Qa)===0}var G=g;function Sa(){try{if(f.wasmBinary)return new Uint8Array(f.wasmBinary);if(f.readBinary)return f.readBinary(G);else throw"both async and sync fetching of the wasm failed"}catch(a){$(a)}}function Ta(){return!f.wasmBinary&&(k||l)&&typeof fetch==="function"?fetch(G,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+G+"'";return a.arrayBuffer()})["catch"](function(){return Sa()}):new(b("Promise"))(function(a,b){a(Sa())})}function Ua(a){var b={env:a,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:ba};function c(b,a){a=b.exports;f.asm=a;Pa("wasm-instantiate")}Oa("wasm-instantiate");function d(a){c(a.instance)}function g(a){return Ta().then(function(a){return WebAssembly.instantiate(a,b)}).then(a,function(a){o("failed to asynchronously prepare wasm: "+a),$(a)})}function h(){if(!f.wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!Ra(G)&&typeof fetch==="function")fetch(G,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,b).then(d,function(a){o("wasm streaming compile failed: "+a),o("falling back to ArrayBuffer instantiation"),g(d)})});else return g(d)}if(f.instantiateWasm)try{return f.instantiateWasm(b,c)}catch(a){o("Module.instantiateWasm callback failed with error: "+a);return!1}h();return{}}f.asm=function(b,c,d){c.memory=r;c.table=new WebAssembly.Table({initial:2194,maximum:2194,element:"anyfunc"});c.__memory_base=1024;c.__table_base=0;b=Ua(c);return b};xa.push({func:function(){uc()}});function Va(a,b,c,d){$("Assertion failed: "+v(a)+", at: "+[b?v(b):"unknown filename",c,d?v(d):"unknown function"])}var H={};function Wa(b){var c=64,d=1024,e;!Wa.called?(Wa.called=!0,H.USER=H.LOGNAME="web_user",H.PATH="/",H.PWD="/",H.HOME="/home/web_user",H.LANG="C.UTF-8",H.LANG=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",H._=f.thisProgram,e=fa(d),c=fa(c*4),B[c>>2]=e,B[b>>2]=c):(c=B[b>>2],e=B[c>>2]);b=[];var g=0;for(var a in H)if(typeof H[a]==="string"){var h=a+"="+H[a];b.push(h);g+=h.length}if(g>d)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");g=4;for(var d=0;d<b.length;d++){var h=b[d];ka(h,e);B[c+d*g>>2]=e;e+=h.length+1}B[c+b.length*g>>2]=0}function Xa(a){return W(a)}var I={},Ya=[];function Za(a){if(!a)return;a=I[a];a.refcount++}function $a(b){if(!b||I[b])return b;for(var a in I){var c=+a,d=I[c].adjusted,e=d.length;for(var f=0;f<e;f++)if(d[f]===b)return c}return b}function ab(a){var b=I[a];b&&!b.caught&&(b.caught=!0,V.uncaught_exception--);b&&(b.rethrown=!1);Ya.push(a);Za($a(a));return a}var J=0;function bb(a){try{return vc(a)}catch(a){}}function cb(a){if(!a)return;var b=I[a];b.refcount--;b.refcount===0&&!b.rethrown&&(b.destructor&&f.dynCall_vi(b.destructor,a),delete I[a],bb(a))}function db(){X(0);var a=Ya.pop();a&&(cb($a(a)),J=0)}function eb(a){J||(J=a);throw a}function K(){var a=J;if(!a)return(q(0),0)|0;var b=I[a],c=b.type;if(!c)return(q(0),a)|0;var d=Array.prototype.slice.call(arguments);tc(c);K.buffer||(K.buffer=W(4));B[K.buffer>>2]=a;a=K.buffer;for(var e=0;e<d.length;e++)if(d[e]&&sc(d[e],c,a)){a=B[a>>2];b.adjusted.push(a);return(q(d[e]),a)|0}a=B[a>>2];return(q(c),a)|0}f.___cxa_find_matching_catch=K;function fb(a,b){return K(a,b)}function gb(a,b,c){return K(a,b,c)}function hb(){s=!0;throw"Pure virtual function called!"}function ib(){var a=Ya.pop();a=$a(a);I[a].rethrown||(Ya.push(a),I[a].rethrown=!0);J=a;throw a}function jb(a,b,c){I[a]={ptr:a,adjusted:[a],type:b,destructor:c,refcount:0,caught:!1,rethrown:!1};J=a;!("uncaught_exception"in V)?V.uncaught_exception=1:V.uncaught_exception++;throw a}function kb(){return!!V.uncaught_exception}function lb(){}function L(a){f.___errno_location&&(B[f.___errno_location()>>2]=a);return a}function mb(a,b){L(1);return-1}var M={splitPath:function(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(a).slice(1)},normalizeArray:function(a,b){var c=0;for(var d=a.length-1;d>=0;d--){var e=a[d];e==="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},normalize:function(a){var b=a.charAt(0)==="/",c=a.substr(-1)==="/";a=M.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");!a&&!b&&(a=".");a&&c&&(a+="/");return(b?"/":"")+a},dirname:function(a){a=M.splitPath(a);var b=a[0];a=a[1];if(!b&&!a)return".";a&&(a=a.substr(0,a.length-1));return b+a},basename:function(a){if(a==="/")return"/";var b=a.lastIndexOf("/");return b===-1?a:a.substr(b+1)},extname:function(a){return M.splitPath(a)[3]},join:function(){var a=Array.prototype.slice.call(arguments,0);return M.normalize(a.join("/"))},join2:function(a,b){return M.normalize(a+"/"+b)}},N={resolve:function(){var a="",b=!1;for(var c=arguments.length-1;c>=-1&&!b;c--){var d=c>=0?arguments[c]:S.cwd();if(typeof d!=="string")throw new TypeError("Arguments to path.resolve must be strings");else if(!d)return"";a=d+"/"+a;b=d.charAt(0)==="/"}a=M.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},relative:function(a,b){a=N.resolve(a).substr(1);b=N.resolve(b).substr(1);function c(a){var b=0;for(;b<a.length;b++)if(a[b]!=="")break;var c=a.length-1;for(;c>=0;c--)if(a[c]!=="")break;return b>c?[]:a.slice(b,c-b+1)}a=c(a.split("/"));c=c(b.split("/"));b=Math.min(a.length,c.length);var d=b;for(var e=0;e<b;e++)if(a[e]!==c[e]){d=e;break}b=[];for(var e=d;e<a.length;e++)b.push("..");b=b.concat(c.slice(d));return b.join("/")}},O={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){O.ttys[a]={input:[],output:[],ops:b},S.registerDevice(a,O.stream_ops)},stream_ops:{open:function(a){var b=O.ttys[a.node.rdev];if(!b)throw new S.ErrnoError(19);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},flush:function(a){a.tty.ops.flush(a.tty)},read:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.get_char)throw new S.ErrnoError(6);e=0;for(var f=0;f<d;f++){var g;try{g=b.tty.ops.get_char(b.tty)}catch(a){throw new S.ErrnoError(5)}if(g===void 0&&e===0)throw new S.ErrnoError(11);if(g===null||g===void 0)break;e++;a[c+f]=g}e&&(b.node.timestamp=Date.now());return e},write:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.put_char)throw new S.ErrnoError(6);try{for(var e=0;e<d;e++)b.tty.ops.put_char(b.tty,a[c+e])}catch(a){throw new S.ErrnoError(5)}d&&(b.node.timestamp=Date.now());return e}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;typeof window!="undefined"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+="\n")):typeof readline=="function"&&(b=readline(),b!==null&&(b+="\n"));if(!b)return null;a.input=Qb(b,!0)}return a.input.shift()},put_char:function(a,b){b===null||b===10?(n(u(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(n(u(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){b===null||b===10?(o(u(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(o(u(a.output,0)),a.output=[])}}},P={ops_table:null,mount:function(a){return P.createNode(null,"/",16384|511,0)},createNode:function(a,b,c,d){if(S.isBlkdev(c)||S.isFIFO(c))throw new S.ErrnoError(1);P.ops_table||(P.ops_table={dir:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,lookup:P.node_ops.lookup,mknod:P.node_ops.mknod,rename:P.node_ops.rename,unlink:P.node_ops.unlink,rmdir:P.node_ops.rmdir,readdir:P.node_ops.readdir,symlink:P.node_ops.symlink},stream:{llseek:P.stream_ops.llseek}},file:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:{llseek:P.stream_ops.llseek,read:P.stream_ops.read,write:P.stream_ops.write,allocate:P.stream_ops.allocate,mmap:P.stream_ops.mmap,msync:P.stream_ops.msync}},link:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,readlink:P.node_ops.readlink},stream:{}},chrdev:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:S.chrdev_stream_ops}});c=S.createNode(a,b,c,d);S.isDir(c.mode)?(c.node_ops=P.ops_table.dir.node,c.stream_ops=P.ops_table.dir.stream,c.contents={}):S.isFile(c.mode)?(c.node_ops=P.ops_table.file.node,c.stream_ops=P.ops_table.file.stream,c.usedBytes=0,c.contents=null):S.isLink(c.mode)?(c.node_ops=P.ops_table.link.node,c.stream_ops=P.ops_table.link.stream):S.isChrdev(c.mode)&&(c.node_ops=P.ops_table.chrdev.node,c.stream_ops=P.ops_table.chrdev.stream);c.timestamp=Date.now();a&&(a.contents[b]=c);return c},getFileDataAsRegularArray:function(a){if(a.contents&&a.contents.subarray){var b=[];for(var c=0;c<a.usedBytes;++c)b.push(a.contents[c]);return b}return a.contents},getFileDataAsTypedArray:function(a){if(!a.contents)return new Uint8Array();return a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents)},expandFileStorage:function(a,b){var c=a.contents?a.contents.length:0;if(c>=b)return;var d=1024*1024;b=Math.max(b,c*(c<d?2:1.125)|0);c!=0&&(b=Math.max(b,256));d=a.contents;a.contents=new Uint8Array(b);a.usedBytes>0&&a.contents.set(d.subarray(0,a.usedBytes),0);return},resizeFileStorage:function(a,b){if(a.usedBytes==b)return;if(b==0){a.contents=null;a.usedBytes=0;return}if(!a.contents||a.contents.subarray){var c=a.contents;a.contents=new Uint8Array(new ArrayBuffer(b));c&&a.contents.set(c.subarray(0,Math.min(b,a.usedBytes)));a.usedBytes=b;return}a.contents||(a.contents=[]);if(a.contents.length>b)a.contents.length=b;else while(a.contents.length<b)a.contents.push(0);a.usedBytes=b},node_ops:{getattr:function(a){var b={};b.dev=S.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;S.isDir(a.mode)?b.size=4096:S.isFile(a.mode)?b.size=a.usedBytes:S.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){b.mode!==void 0&&(a.mode=b.mode),b.timestamp!==void 0&&(a.timestamp=b.timestamp),b.size!==void 0&&P.resizeFileStorage(a,b.size)},lookup:function(a,b){throw S.genericErrors[2]},mknod:function(a,b,c,d){return P.createNode(a,b,c,d)},rename:function(a,b,c){if(S.isDir(a.mode)){var d;try{d=S.lookupNode(b,c)}catch(a){}if(d)for(var e in d.contents)throw new S.ErrnoError(39)}delete a.parent.contents[a.name];a.name=c;b.contents[c]=a;a.parent=b},unlink:function(a,b){delete a.contents[b]},rmdir:function(a,b){var c=S.lookupNode(a,b);for(var d in c.contents)throw new S.ErrnoError(39);delete a.contents[b]},readdir:function(b){var c=[".",".."];for(var a in b.contents){if(!Object.prototype.hasOwnProperty.call(b.contents,a))continue;c.push(a)}return c},symlink:function(a,b,c){a=P.createNode(a,b,511|40960,0);a.link=c;return a},readlink:function(a){if(!S.isLink(a.mode))throw new S.ErrnoError(22);return a.link}},stream_ops:{read:function(b,a,c,d,e){var f=b.node.contents;if(e>=b.node.usedBytes)return 0;b=Math.min(b.node.usedBytes-e,d);if(b>8&&f.subarray)a.set(f.subarray(e,e+b),c);else for(var d=0;d<b;d++)a[c+d]=f[e+d];return b},write:function(b,a,c,d,e,f){f=!1;if(!d)return 0;b=b.node;b.timestamp=Date.now();if(a.subarray&&(!b.contents||b.contents.subarray))if(f){b.contents=a.subarray(c,c+d);b.usedBytes=d;return d}else if(b.usedBytes===0&&e===0){b.contents=new Uint8Array(a.subarray(c,c+d));b.usedBytes=d;return d}else if(e+d<=b.usedBytes){b.contents.set(a.subarray(c,c+d),e);return d}P.expandFileStorage(b,e+d);if(b.contents.subarray&&a.subarray)b.contents.set(a.subarray(c,c+d),e);else for(var f=0;f<d;f++)b.contents[e+f]=a[c+f];b.usedBytes=Math.max(b.usedBytes,e+d);return d},llseek:function(a,b,c){b=b;c===1?b+=a.position:c===2&&(S.isFile(a.node.mode)&&(b+=a.node.usedBytes));if(b<0)throw new S.ErrnoError(22);return b},allocate:function(a,b,c){P.expandFileStorage(a.node,b+c),a.node.usedBytes=Math.max(a.node.usedBytes,b+c)},mmap:function(b,a,c,d,e,f,g){if(!S.isFile(b.node.mode))throw new S.ErrnoError(19);c=b.node.contents;if(!(g&2)&&(c.buffer===a||c.buffer===a.buffer))f=!1,g=c.byteOffset;else{(e>0||e+d<b.node.usedBytes)&&(c.subarray?c=c.subarray(e,e+d):c=Array.prototype.slice.call(c,e,e+d));f=!0;g=W(d);if(!g)throw new S.ErrnoError(12);a.set(c,g)}return{ptr:g,allocated:f}},msync:function(b,a,c,d,e){if(!S.isFile(b.node.mode))throw new S.ErrnoError(19);if(e&2)return 0;P.stream_ops.write(b,a,0,d,c,!1);return 0}}},Q={dbs:{},indexedDB:function(a){function b(){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(){if(typeof indexedDB!=="undefined")return indexedDB;var a=null;typeof window==="object"&&(a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);t(a,"IDBFS used, but indexedDB not supported");return a}),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(a){return P.mount.apply(null,arguments)},syncfs:function(a,b,c){Q.getLocalSet(a,function(d,e){if(d)return c(d);Q.getRemoteSet(a,function(a,d){if(a)return c(a);a=b?d:e;d=b?e:d;Q.reconcile(a,d,c)})})},getDB:function(a,b){var c=Q.dbs[a];if(c)return b(null,c);var d;try{d=Q.indexedDB().open(a,Q.DB_VERSION)}catch(a){return b(a)}if(!d)return b("Unable to connect to IndexedDB");d.onupgradeneeded=function(b){var a=b.target.result;b=b.target.transaction;a.objectStoreNames.contains(Q.DB_STORE_NAME)?b=b.objectStore(Q.DB_STORE_NAME):b=a.createObjectStore(Q.DB_STORE_NAME);b.indexNames.contains("timestamp")||b.createIndex("timestamp","timestamp",{unique:!1})};d.onsuccess=function(){c=d.result,Q.dbs[a]=c,b(null,c)};d.onerror=function(a){b(this.error),a.preventDefault()}},getLocalSet:function(a,b){var c={};function d(a){return a!=="."&&a!==".."}function e(a){return function(b){return M.join2(a,b)}}a=S.readdir(a.mountpoint).filter(d).map(e(a.mountpoint));while(a.length){var f=a.pop(),g;try{g=S.stat(f)}catch(a){return b(a)}S.isDir(g.mode)&&a.push.apply(a,S.readdir(f).filter(d).map(e(f)));c[f]={timestamp:g.mtime}}return b(null,{type:"local",entries:c})},getRemoteSet:function(a,b){var c={};Q.getDB(a.mountpoint,function(a,d){if(a)return b(a);try{a=d.transaction([Q.DB_STORE_NAME],"readonly");a.onerror=function(a){b(this.error),a.preventDefault()};a=a.objectStore(Q.DB_STORE_NAME);a=a.index("timestamp");a.openKeyCursor().onsuccess=function(a){a=a.target.result;if(!a)return b(null,{type:"remote",db:d,entries:c});c[a.primaryKey]={timestamp:a.key};a["continue"]()}}catch(a){return b(a)}})},loadLocalEntry:function(a,b){try{var c=S.lookupPath(a);c=c.node;a=S.stat(a)}catch(a){return b(a)}if(S.isDir(a.mode))return b(null,{timestamp:a.mtime,mode:a.mode});else if(S.isFile(a.mode)){c.contents=P.getFileDataAsTypedArray(c);return b(null,{timestamp:a.mtime,mode:a.mode,contents:c.contents})}else return b(new Error("node type not supported"))},storeLocalEntry:function(a,b,c){try{if(S.isDir(b.mode))S.mkdir(a,b.mode);else if(S.isFile(b.mode))S.writeFile(a,b.contents,{canOwn:!0});else return c(new Error("node type not supported"));S.chmod(a,b.mode);S.utime(a,b.timestamp,b.timestamp)}catch(a){return c(a)}c(null)},removeLocalEntry:function(a,b){try{S.lookupPath(a);var c=S.stat(a);S.isDir(c.mode)?S.rmdir(a):S.isFile(c.mode)&&S.unlink(a)}catch(a){return b(a)}b(null)},loadRemoteEntry:function(a,b,c){a=a.get(b);a.onsuccess=function(a){c(null,a.target.result)};a.onerror=function(a){c(this.error),a.preventDefault()}},storeRemoteEntry:function(a,b,c,d){a=a.put(c,b);a.onsuccess=function(){d(null)};a.onerror=function(a){d(this.error),a.preventDefault()}},removeRemoteEntry:function(a,b,c){a=a["delete"](b);a.onsuccess=function(){c(null)};a.onerror=function(a){c(this.error),a.preventDefault()}},reconcile:function(a,b,c){var d=0,e=[];Object.keys(a.entries).forEach(function(c){var f=a.entries[c],g=b.entries[c];(!g||f.timestamp>g.timestamp)&&(e.push(c),d++)});var f=[];Object.keys(b.entries).forEach(function(c){b.entries[c];var e=a.entries[c];e||(f.push(c),d++)});if(!d)return c(null);var g=0,h=a.type==="remote"?a.db:b.db;h=h.transaction([Q.DB_STORE_NAME],"readwrite");var i=h.objectStore(Q.DB_STORE_NAME);function k(a){if(a){if(!k.errored){k.errored=!0;return c(a)}return}if(++g>=d)return c(null)}h.onerror=function(a){k(this.error),a.preventDefault()};e.sort().forEach(function(a){b.type==="local"?Q.loadRemoteEntry(i,a,function(b,c){if(b)return k(b);Q.storeLocalEntry(a,c,k)}):Q.loadLocalEntry(a,function(b,c){if(b)return k(b);Q.storeRemoteEntry(i,a,c,k)})});f.sort().reverse().forEach(function(a){b.type==="local"?Q.removeLocalEntry(a,k):Q.removeRemoteEntry(i,a,k)})}},R={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(a){t(l);R.reader||(R.reader=new FileReaderSync());var b=R.createNode(null,"/",R.DIR_MODE,0),c={};function d(a){a=a.split("/");var d=b;for(var e=0;e<a.length-1;e++){var f=a.slice(0,e+1).join("/");c[f]||(c[f]=R.createNode(d,a[e],R.DIR_MODE,0));d=c[f]}return d}function e(a){a=a.split("/");return a[a.length-1]}Array.prototype.forEach.call(a.opts.files||[],function(a){R.createNode(d(a.name),e(a.name),R.FILE_MODE,0,a,a.lastModifiedDate)});(a.opts.blobs||[]).forEach(function(a){R.createNode(d(a.name),e(a.name),R.FILE_MODE,0,a.data)});(a.opts.packages||[]).forEach(function(a){a.metadata.files.forEach(function(b){var c=b.filename.substr(1);R.createNode(d(c),e(c),R.FILE_MODE,0,a.blob.slice(b.start,b.end))})});return b},createNode:function(a,b,c,d,e,f){d=S.createNode(a,b,c);d.mode=c;d.node_ops=R.node_ops;d.stream_ops=R.stream_ops;d.timestamp=(f||new Date()).getTime();t(R.FILE_MODE!==R.DIR_MODE);c===R.FILE_MODE?(d.size=e.size,d.contents=e):(d.size=4096,d.contents={});a&&(a.contents[b]=d);return d},node_ops:{getattr:function(a){return{dev:1,ino:void 0,mode:a.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:a.size,atime:new Date(a.timestamp),mtime:new Date(a.timestamp),ctime:new Date(a.timestamp),blksize:4096,blocks:Math.ceil(a.size/4096)}},setattr:function(a,b){b.mode!==void 0&&(a.mode=b.mode),b.timestamp!==void 0&&(a.timestamp=b.timestamp)},lookup:function(a,b){throw new S.ErrnoError(2)},mknod:function(a,b,c,d){throw new S.ErrnoError(1)},rename:function(a,b,c){throw new S.ErrnoError(1)},unlink:function(a,b){throw new S.ErrnoError(1)},rmdir:function(a,b){throw new S.ErrnoError(1)},readdir:function(b){var c=[".",".."];for(var a in b.contents){if(!Object.prototype.hasOwnProperty.call(b.contents,a))continue;c.push(a)}return c},symlink:function(a,b,c){throw new S.ErrnoError(1)},readlink:function(a){throw new S.ErrnoError(1)}},stream_ops:{read:function(b,a,c,d,e){if(e>=b.node.size)return 0;b=b.node.contents.slice(e,e+d);e=R.reader.readAsArrayBuffer(b);a.set(new Uint8Array(e),c);return b.size},write:function(b,a,c,d,e){throw new S.ErrnoError(5)},llseek:function(a,b,c){b=b;c===1?b+=a.position:c===2&&(S.isFile(a.node.mode)&&(b+=a.node.size));if(b<0)throw new S.ErrnoError(22);return b}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(a){if(!(a instanceof S.ErrnoError))throw a+" : "+oa();return L(a.errno)},lookupPath:function(b,c){b=N.resolve(S.cwd(),b);c=c||{};if(!b)return{path:"",node:null};var d={follow_mount:!0,recurse_count:0};for(var a in d)c[a]===void 0&&(c[a]=d[a]);if(c.recurse_count>8)throw new S.ErrnoError(40);d=M.normalizeArray(b.split("/").filter(function(a){return!!a}),!1);b=S.root;var e="/";for(var f=0;f<d.length;f++){var g=f===d.length-1;if(g&&c.parent)break;b=S.lookupNode(b,d[f]);e=M.join2(e,d[f]);S.isMountpoint(b)&&((!g||g&&c.follow_mount)&&(b=b.mounted.root));if(!g||c.follow){g=0;while(S.isLink(b.mode)){var h=S.readlink(e);e=N.resolve(M.dirname(e),h);h=S.lookupPath(e,{recurse_count:c.recurse_count});b=h.node;if(g++>40)throw new S.ErrnoError(40)}}}return{path:e,node:b}},getPath:function(a){var b;while(!0){if(S.isRoot(a)){var c=a.mount.mountpoint;return!b?c:c[c.length-1]!=="/"?c+"/"+b:c+b}b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:function(a,b){var c=0;for(var d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%S.nameTable.length},hashAddNode:function(a){var b=S.hashName(a.parent.id,a.name);a.name_next=S.nameTable[b];S.nameTable[b]=a},hashRemoveNode:function(a){var b=S.hashName(a.parent.id,a.name);if(S.nameTable[b]===a)S.nameTable[b]=a.name_next;else{b=S.nameTable[b];while(b){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}}},lookupNode:function(b,c){var a=S.mayLookup(b);if(a)throw new S.ErrnoError(a,b);a=S.hashName(b.id,c);for(var a=S.nameTable[a];a;a=a.name_next){var d=a.name;if(a.parent.id===b.id&&d===c)return a}return S.lookup(b,c)},createNode:function(a,b,c,d){if(!S.FSNode){S.FSNode=function(a,b,c,d){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=S.nextInode++,this.name=b,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=d};S.FSNode.prototype={};var e=292|73,f=146;Object.defineProperties(S.FSNode.prototype,{read:{get:function(){return(this.mode&e)===e},set:function(a){a?this.mode|=e:this.mode&=~e}},write:{get:function(){return(this.mode&f)===f},set:function(a){a?this.mode|=f:this.mode&=~f}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}})}a=new S.FSNode(a,b,c,d);S.hashAddNode(a);return a},destroyNode:function(a){S.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return(a&61440)===32768},isDir:function(a){return(a&61440)===16384},isLink:function(a){return(a&61440)===40960},isChrdev:function(a){return(a&61440)===8192},isBlkdev:function(a){return(a&61440)===24576},isFIFO:function(a){return(a&61440)===4096},isSocket:function(a){return(a&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(a){var b=S.flagModes[a];if(typeof b==="undefined")throw new Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},nodePermissions:function(a,b){if(S.ignorePermissions)return 0;if(b.indexOf("r")!==-1&&!(a.mode&292))return 13;else if(b.indexOf("w")!==-1&&!(a.mode&146))return 13;else if(b.indexOf("x")!==-1&&!(a.mode&73))return 13;return 0},mayLookup:function(b){var a=S.nodePermissions(b,"x");if(a)return a;return!b.node_ops.lookup?13:0},mayCreate:function(a,b){try{S.lookupNode(a,b);return 17}catch(a){}return S.nodePermissions(a,"wx")},mayDelete:function(a,b,c){try{b=S.lookupNode(a,b)}catch(a){return a.errno}a=S.nodePermissions(a,"wx");if(a)return a;if(c){if(!S.isDir(b.mode))return 20;if(S.isRoot(b)||S.getPath(b)===S.cwd())return 16}else if(S.isDir(b.mode))return 21;return 0},mayOpen:function(a,b){if(!a)return 2;if(S.isLink(a.mode))return 40;else if(S.isDir(a.mode)&&(S.flagsToPermissionString(b)!=="r"||b&512))return 21;return S.nodePermissions(a,S.flagsToPermissionString(b))},MAX_OPEN_FDS:4096,nextfd:function(a,b){a=a||0;b=b||S.MAX_OPEN_FDS;for(var a=a;a<=b;a++)if(!S.streams[a])return a;throw new S.ErrnoError(24)},getStream:function(a){return S.streams[a]},createStream:function(a,b,c){S.FSStream||(S.FSStream=function(){},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}));var d=new S.FSStream();for(var e in a)d[e]=a[e];a=d;d=S.nextfd(b,c);a.fd=d;S.streams[d]=a;return a},closeStream:function(a){S.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=S.getDevice(a.node.rdev);a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new S.ErrnoError(29)}},major:function(a){return a>>8},minor:function(a){return a&255},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){S.devices[a]={stream_ops:b}},getDevice:function(a){return S.devices[a]},getMounts:function(a){var b=[];a=[a];while(a.length){var c=a.pop();b.push(c);a.push.apply(a,c.mounts)}return b},syncfs:function(a,b){typeof a==="function"&&(b=a,a=!1);S.syncFSRequests++;S.syncFSRequests>1;var c=S.getMounts(S.root.mount),d=0;function e(a){S.syncFSRequests--;return b(a)}function f(a){if(a){if(!f.errored){f.errored=!0;return e(a)}return}++d>=c.length&&e(null)}c.forEach(function(b){if(!b.type.syncfs)return f(null);b.type.syncfs(b,a,f)})},mount:function(a,b,c){var d=c==="/",e=!c,f;if(d&&S.root)throw new S.ErrnoError(16);else if(!d&&!e){e=S.lookupPath(c,{follow_mount:!1});c=e.path;f=e.node;if(S.isMountpoint(f))throw new S.ErrnoError(16);if(!S.isDir(f.mode))throw new S.ErrnoError(20)}e={type:a,opts:b,mountpoint:c,mounts:[]};b=a.mount(e);b.mount=e;e.root=b;d?S.root=b:f&&(f.mounted=e,f.mount&&f.mount.mounts.push(e));return b},unmount:function(a){a=S.lookupPath(a,{follow_mount:!1});if(!S.isMountpoint(a.node))throw new S.ErrnoError(22);a=a.node;var b=a.mounted,c=S.getMounts(b);Object.keys(S.nameTable).forEach(function(a){a=S.nameTable[a];while(a){var b=a.name_next;c.indexOf(a.mount)!==-1&&S.destroyNode(a);a=b}});a.mounted=null;b=a.mount.mounts.indexOf(b);a.mount.mounts.splice(b,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(b,c,d){var e=S.lookupPath(b,{parent:!0});e=e.node;b=M.basename(b);if(!b||b==="."||b==="..")throw new S.ErrnoError(22);var a=S.mayCreate(e,b);if(a)throw new S.ErrnoError(a);if(!e.node_ops.mknod)throw new S.ErrnoError(1);return e.node_ops.mknod(e,b,c,d)},create:function(a,b){b=b!==void 0?b:438;b&=4095;b|=32768;return S.mknod(a,b,0)},mkdir:function(a,b){b=b!==void 0?b:511;b&=511|512;b|=16384;return S.mknod(a,b,0)},mkdirTree:function(a,b){a=a.split("/");var c="";for(var d=0;d<a.length;++d){if(!a[d])continue;c+="/"+a[d];try{S.mkdir(c,b)}catch(a){if(a.errno!=17)throw a}}},mkdev:function(a,b,c){typeof c==="undefined"&&(c=b,b=438);b|=8192;return S.mknod(a,b,c)},symlink:function(b,c){if(!N.resolve(b))throw new S.ErrnoError(2);var d=S.lookupPath(c,{parent:!0});d=d.node;if(!d)throw new S.ErrnoError(2);c=M.basename(c);var a=S.mayCreate(d,c);if(a)throw new S.ErrnoError(a);if(!d.node_ops.symlink)throw new S.ErrnoError(1);return d.node_ops.symlink(d,c,b)},rename:function(a,b){var c=M.dirname(a),d=M.dirname(b),e=M.basename(a),f=M.basename(b),g,h;try{g=S.lookupPath(a,{parent:!0}),h=g.node,g=S.lookupPath(b,{parent:!0}),g=g.node}catch(a){throw new S.ErrnoError(16)}if(!h||!g)throw new S.ErrnoError(2);if(h.mount!==g.mount)throw new S.ErrnoError(18);var i=S.lookupNode(h,e);d=N.relative(a,d);if(d.charAt(0)!==".")throw new S.ErrnoError(22);d=N.relative(b,c);if(d.charAt(0)!==".")throw new S.ErrnoError(39);try{c=S.lookupNode(g,f)}catch(a){}if(i===c)return;d=S.isDir(i.mode);e=S.mayDelete(h,e,d);if(e)throw new S.ErrnoError(e);e=c?S.mayDelete(g,f,d):S.mayCreate(g,f);if(e)throw new S.ErrnoError(e);if(!h.node_ops.rename)throw new S.ErrnoError(1);if(S.isMountpoint(i)||c&&S.isMountpoint(c))throw new S.ErrnoError(16);if(g!==h){e=S.nodePermissions(h,"w");if(e)throw new S.ErrnoError(e)}try{S.trackingDelegate.willMovePath&&S.trackingDelegate.willMovePath(a,b)}catch(a){}S.hashRemoveNode(i);try{h.node_ops.rename(i,g,f)}catch(a){throw a}finally{S.hashAddNode(i)}try{S.trackingDelegate.onMovePath&&S.trackingDelegate.onMovePath(a,b)}catch(a){}},rmdir:function(b){var c=S.lookupPath(b,{parent:!0});c=c.node;var d=M.basename(b),e=S.lookupNode(c,d),a=S.mayDelete(c,d,!0);if(a)throw new S.ErrnoError(a);if(!c.node_ops.rmdir)throw new S.ErrnoError(1);if(S.isMountpoint(e))throw new S.ErrnoError(16);try{S.trackingDelegate.willDeletePath&&S.trackingDelegate.willDeletePath(b)}catch(a){}c.node_ops.rmdir(c,d);S.destroyNode(e);try{S.trackingDelegate.onDeletePath&&S.trackingDelegate.onDeletePath(b)}catch(a){}},readdir:function(a){a=S.lookupPath(a,{follow:!0});a=a.node;if(!a.node_ops.readdir)throw new S.ErrnoError(20);return a.node_ops.readdir(a)},unlink:function(b){var c=S.lookupPath(b,{parent:!0});c=c.node;var d=M.basename(b),e=S.lookupNode(c,d),a=S.mayDelete(c,d,!1);if(a)throw new S.ErrnoError(a);if(!c.node_ops.unlink)throw new S.ErrnoError(1);if(S.isMountpoint(e))throw new S.ErrnoError(16);try{S.trackingDelegate.willDeletePath&&S.trackingDelegate.willDeletePath(b)}catch(a){}c.node_ops.unlink(c,d);S.destroyNode(e);try{S.trackingDelegate.onDeletePath&&S.trackingDelegate.onDeletePath(b)}catch(a){}},readlink:function(a){a=S.lookupPath(a);a=a.node;if(!a)throw new S.ErrnoError(2);if(!a.node_ops.readlink)throw new S.ErrnoError(22);return N.resolve(S.getPath(a.parent),a.node_ops.readlink(a))},stat:function(a,b){a=S.lookupPath(a,{follow:!b});b=a.node;if(!b)throw new S.ErrnoError(2);if(!b.node_ops.getattr)throw new S.ErrnoError(1);return b.node_ops.getattr(b)},lstat:function(a){return S.stat(a,!0)},chmod:function(a,b,c){if(typeof a==="string"){c=S.lookupPath(a,{follow:!c});c=c.node}else c=a;if(!c.node_ops.setattr)throw new S.ErrnoError(1);c.node_ops.setattr(c,{mode:b&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){S.chmod(a,b,!0)},fchmod:function(a,b){a=S.getStream(a);if(!a)throw new S.ErrnoError(9);S.chmod(a.node,b)},chown:function(a,b,c,d){if(typeof a==="string"){b=S.lookupPath(a,{follow:!d});c=b.node}else c=a;if(!c.node_ops.setattr)throw new S.ErrnoError(1);c.node_ops.setattr(c,{timestamp:Date.now()})},lchown:function(a,b,c){S.chown(a,b,c,!0)},fchown:function(a,b,c){a=S.getStream(a);if(!a)throw new S.ErrnoError(9);S.chown(a.node,b,c)},truncate:function(a,b){if(b<0)throw new S.ErrnoError(22);if(typeof a==="string"){var c=S.lookupPath(a,{follow:!0});c=c.node}else c=a;if(!c.node_ops.setattr)throw new S.ErrnoError(1);if(S.isDir(c.mode))throw new S.ErrnoError(21);if(!S.isFile(c.mode))throw new S.ErrnoError(22);a=S.nodePermissions(c,"w");if(a)throw new S.ErrnoError(a);c.node_ops.setattr(c,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){a=S.getStream(a);if(!a)throw new S.ErrnoError(9);if((a.flags&2097155)===0)throw new S.ErrnoError(22);S.truncate(a.node,b)},utime:function(a,b,c){a=S.lookupPath(a,{follow:!0});a=a.node;a.node_ops.setattr(a,{timestamp:Math.max(b,c)})},open:function(a,b,c,d,e){if(a==="")throw new S.ErrnoError(2);b=typeof b==="string"?S.modeStringToFlags(b):b;c=typeof c==="undefined"?438:c;b&64?c=c&4095|32768:c=0;var g;if(typeof a==="object")g=a;else{a=M.normalize(a);try{var h=S.lookupPath(a,{follow:!(b&131072)});g=h.node}catch(a){}}h=!1;if(b&64)if(g){if(b&128)throw new S.ErrnoError(17)}else g=S.mknod(a,c,0),h=!0;if(!g)throw new S.ErrnoError(2);S.isChrdev(g.mode)&&(b&=-513);if(b&65536&&!S.isDir(g.mode))throw new S.ErrnoError(20);if(!h){c=S.mayOpen(g,b);if(c)throw new S.ErrnoError(c)}b&512&&S.truncate(g,0);b&=~(128|512);h=S.createStream({node:g,path:S.getPath(g),flags:b,seekable:!0,position:0,stream_ops:g.stream_ops,ungotten:[],error:!1},d,e);h.stream_ops.open&&h.stream_ops.open(h);f.logReadFiles&&!(b&1)&&(S.readFiles||(S.readFiles={}),a in S.readFiles||(S.readFiles[a]=1));try{if(S.trackingDelegate.onOpenFile){c=0;(b&2097155)!==1&&(c|=S.tracking.openFlags.READ);(b&2097155)!==0&&(c|=S.tracking.openFlags.WRITE);S.trackingDelegate.onOpenFile(a,c)}}catch(a){}return h},close:function(a){if(S.isClosed(a))throw new S.ErrnoError(9);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(a){throw a}finally{S.closeStream(a.fd)}a.fd=null},isClosed:function(a){return a.fd===null},llseek:function(a,b,c){if(S.isClosed(a))throw new S.ErrnoError(9);if(!a.seekable||!a.stream_ops.llseek)throw new S.ErrnoError(29);if(c!=0&&c!=1&&c!=2)throw new S.ErrnoError(22);a.position=a.stream_ops.llseek(a,b,c);a.ungotten=[];return a.position},read:function(b,a,c,d,e){if(d<0||e<0)throw new S.ErrnoError(22);if(S.isClosed(b))throw new S.ErrnoError(9);if((b.flags&2097155)===1)throw new S.ErrnoError(9);if(S.isDir(b.node.mode))throw new S.ErrnoError(21);if(!b.stream_ops.read)throw new S.ErrnoError(22);var f=typeof e!=="undefined";if(!f)e=b.position;else if(!b.seekable)throw new S.ErrnoError(29);a=b.stream_ops.read(b,a,c,d,e);f||(b.position+=a);return a},write:function(b,a,c,d,e,f){if(d<0||e<0)throw new S.ErrnoError(22);if(S.isClosed(b))throw new S.ErrnoError(9);if((b.flags&2097155)===0)throw new S.ErrnoError(9);if(S.isDir(b.node.mode))throw new S.ErrnoError(21);if(!b.stream_ops.write)throw new S.ErrnoError(22);b.flags&1024&&S.llseek(b,0,2);var g=typeof e!=="undefined";if(!g)e=b.position;else if(!b.seekable)throw new S.ErrnoError(29);a=b.stream_ops.write(b,a,c,d,e,f);g||(b.position+=a);try{b.path&&S.trackingDelegate.onWriteToFile&&S.trackingDelegate.onWriteToFile(b.path)}catch(a){}return a},allocate:function(a,b,c){if(S.isClosed(a))throw new S.ErrnoError(9);if(b<0||c<=0)throw new S.ErrnoError(22);if((a.flags&2097155)===0)throw new S.ErrnoError(9);if(!S.isFile(a.node.mode)&&!S.isDir(a.node.mode))throw new S.ErrnoError(19);if(!a.stream_ops.allocate)throw new S.ErrnoError(95);a.stream_ops.allocate(a,b,c)},mmap:function(b,a,c,d,e,f,g){if((f&2)!==0&&(g&2)===0&&(b.flags&2097155)!==2)throw new S.ErrnoError(13);if((b.flags&2097155)===1)throw new S.ErrnoError(13);if(!b.stream_ops.mmap)throw new S.ErrnoError(19);return b.stream_ops.mmap(b,a,c,d,e,f,g)},msync:function(b,a,c,d,e){return!b||!b.stream_ops.msync?0:b.stream_ops.msync(b,a,c,d,e)},munmap:function(a){return 0},ioctl:function(a,b,c){if(!a.stream_ops.ioctl)throw new S.ErrnoError(25);return a.stream_ops.ioctl(a,b,c)},readFile:function(a,b){b=b||{};b.flags=b.flags||"r";b.encoding=b.encoding||"binary";if(b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var c,d=S.open(a,b.flags);a=S.stat(a);a=a.size;var e=new Uint8Array(a);S.read(d,e,0,a,0);b.encoding==="utf8"?c=u(e,0):b.encoding==="binary"&&(c=e);S.close(d);return c},writeFile:function(a,b,c){c=c||{};c.flags=c.flags||"w";a=S.open(a,c.flags,c.mode);if(typeof b==="string"){var d=new Uint8Array(x(b)+1),e=w(b,d,0,d.length);S.write(a,d,0,e,void 0,c.canOwn)}else if(ArrayBuffer.isView(b))S.write(a,b,0,b.byteLength,void 0,c.canOwn);else throw new Error("Unsupported data type");S.close(a)},cwd:function(){return S.currentPath},chdir:function(b){b=S.lookupPath(b,{follow:!0});if(b.node===null)throw new S.ErrnoError(2);if(!S.isDir(b.node.mode))throw new S.ErrnoError(20);var a=S.nodePermissions(b.node,"x");if(a)throw new S.ErrnoError(a);S.currentPath=b.path},createDefaultDirectories:function(){S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:function(){S.mkdir("/dev");S.registerDevice(S.makedev(1,3),{read:function(){return 0},write:function(b,a,c,d,e){return d}});S.mkdev("/dev/null",S.makedev(1,3));O.register(S.makedev(5,0),O.default_tty_ops);O.register(S.makedev(6,0),O.default_tty1_ops);S.mkdev("/dev/tty",S.makedev(5,0));S.mkdev("/dev/tty1",S.makedev(6,0));var a;if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function"){var b=new Uint8Array(1);a=function(){crypto.getRandomValues(b);return b[0]}}a||(a=function(){$("random_device")});S.createDevice("/dev","random",a);S.createDevice("/dev","urandom",a);S.mkdir("/dev/shm");S.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){S.mkdir("/proc"),S.mkdir("/proc/self"),S.mkdir("/proc/self/fd"),S.mount({mount:function(){var a=S.createNode("/proc/self","fd",16384|511,73);a.node_ops={lookup:function(a,b){a=+b;var c=S.getStream(a);if(!c)throw new S.ErrnoError(9);b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return c.path}}};b.parent=b;return b}};return a}},{},"/proc/self/fd")},createStandardStreams:function(){f.stdin?S.createDevice("/dev","stdin",f.stdin):S.symlink("/dev/tty","/dev/stdin"),f.stdout?S.createDevice("/dev","stdout",null,f.stdout):S.symlink("/dev/tty","/dev/stdout"),f.stderr?S.createDevice("/dev","stderr",null,f.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin","r"),S.open("/dev/stdout","w"),S.open("/dev/stderr","w")},ensureErrnoError:function(){if(S.ErrnoError)return;S.ErrnoError=function(a,b){this.node=b,this.setErrno=function(a){this.errno=a},this.setErrno(a),this.message="FS error",this.stack&&Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0})};S.ErrnoError.prototype=new Error();S.ErrnoError.prototype.constructor=S.ErrnoError;[2].forEach(function(a){S.genericErrors[a]=new S.ErrnoError(a),S.genericErrors[a].stack="<generic error, no stack>"})},staticInit:function(){S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(P,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:P,IDBFS:Q,WORKERFS:R}},init:function(a,b,c){S.init.initialized=!0,S.ensureErrnoError(),f.stdin=a||f.stdin,f.stdout=b||f.stdout,f.stderr=c||f.stderr,S.createStandardStreams()},quit:function(){S.init.initialized=!1;var a=f._fflush;a&&a(0);for(var a=0;a<S.streams.length;a++){var b=S.streams[a];if(!b)continue;S.close(b)}},getMode:function(a,b){var c=0;a&&(c|=292|73);b&&(c|=146);return c},joinPath:function(a,b){a=M.join.apply(null,a);b&&a[0]=="/"&&(a=a.substr(1));return a},absolutePath:function(a,b){return N.resolve(b,a)},standardizePath:function(a){return M.normalize(a)},findObject:function(a,b){a=S.analyzePath(a,b);if(a.exists)return a.object;else{L(a.error);return null}},analyzePath:function(a,b){try{var c=S.lookupPath(a,{follow:!b});a=c.path}catch(a){}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=S.lookupPath(a,{parent:!0});d.parentExists=!0;d.parentPath=c.path;d.parentObject=c.node;d.name=M.basename(a);c=S.lookupPath(a,{follow:!b});d.exists=!0;d.path=c.path;d.object=c.node;d.name=c.node.name;d.isRoot=c.path==="/"}catch(a){d.error=a.errno}return d},createFolder:function(a,b,c,d){a=M.join2(typeof a==="string"?a:S.getPath(a),b);b=S.getMode(c,d);return S.mkdir(a,b)},createPath:function(a,b,c,d){a=typeof a==="string"?a:S.getPath(a);c=b.split("/").reverse();while(c.length){d=c.pop();if(!d)continue;var e=M.join2(a,d);try{S.mkdir(e)}catch(a){}a=e}return e},createFile:function(a,b,c,d,e){c=M.join2(typeof a==="string"?a:S.getPath(a),b);a=S.getMode(d,e);return S.create(c,a)},createDataFile:function(a,b,c,d,e,f){b=b?M.join2(typeof a==="string"?a:S.getPath(a),b):a;a=S.getMode(d,e);d=S.create(b,a);if(c){if(typeof c==="string"){e=new Array(c.length);for(var b=0,g=c.length;b<g;++b)e[b]=c.charCodeAt(b);c=e}S.chmod(d,a|146);b=S.open(d,"w");S.write(b,c,0,c.length,0,f);S.close(b);S.chmod(d,a)}return d},createDevice:function(a,b,c,d){a=M.join2(typeof a==="string"?a:S.getPath(a),b);b=S.getMode(!!c,!!d);S.createDevice.major||(S.createDevice.major=64);var e=S.makedev(S.createDevice.major++,0);S.registerDevice(e,{open:function(a){a.seekable=!1},close:function(a){d&&d.buffer&&d.buffer.length&&d(10)},read:function(b,a,d,e,f){f=0;for(var g=0;g<e;g++){var h;try{h=c()}catch(a){throw new S.ErrnoError(5)}if(h===void 0&&f===0)throw new S.ErrnoError(11);if(h===null||h===void 0)break;f++;a[d+g]=h}f&&(b.node.timestamp=Date.now());return f},write:function(b,a,c,e,f){for(var f=0;f<e;f++)try{d(a[c+f])}catch(a){throw new S.ErrnoError(5)}e&&(b.node.timestamp=Date.now());return f}});return S.mkdev(a,b,e)},createLink:function(a,b,c,d,e){d=M.join2(typeof a==="string"?a:S.getPath(a),b);return S.symlink(c,d)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;var b=!0;if(typeof XMLHttpRequest!=="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(f.read)try{a.contents=Qb(f.read(a.url),!0),a.usedBytes=a.contents.length}catch(a){b=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");b||L(5);return b},createLazyFile:function(a,b,c,d,e){function f(){this.lengthKnown=!1,this.chunks=[]}f.prototype.get=function(a){if(a>this.length-1||a<0)return void 0;var b=a%this.chunkSize;a=a/this.chunkSize|0;return this.getter(a)[b]};f.prototype.setDataGetter=function(a){this.getter=a};f.prototype.cacheLength=function(){var a=new XMLHttpRequest();a.open("HEAD",c,!1);a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);var b=Number(a.getResponseHeader("Content-length")),d,e=(d=a.getResponseHeader("Accept-Ranges"))&&d==="bytes";a=(d=a.getResponseHeader("Content-Encoding"))&&d==="gzip";var f=1024*1024;e||(f=b);var g=function(d,e){if(d>e)throw new Error("invalid range ("+d+", "+e+") or no bytes requested!");if(e>b-1)throw new Error("only "+b+" bytes available! programmer error!");var a=new XMLHttpRequest();a.open("GET",c,!1);b!==f&&a.setRequestHeader("Range","bytes="+d+"-"+e);typeof Uint8Array!="undefined"&&(a.responseType="arraybuffer");a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined");a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);if(a.response!==void 0)return new Uint8Array(a.response||[]);else return Qb(a.responseText||"",!0)},h=this;h.setDataGetter(function(a){var c=a*f,d=(a+1)*f-1;d=Math.min(d,b-1);typeof h.chunks[a]==="undefined"&&(h.chunks[a]=g(c,d));if(typeof h.chunks[a]==="undefined")throw new Error("doXHR failed!");return h.chunks[a]});(a||!b)&&(f=b=1,b=this.getter(0).length,f=b);this._length=b;this._chunkSize=f;this.lengthKnown=!0};if(typeof XMLHttpRequest!=="undefined"){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";f=new f();Object.defineProperties(f,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});f={isDevice:!1,contents:f}}else var f={isDevice:!1,url:c};var g=S.createFile(a,b,f,d,e);f.contents?g.contents=f.contents:f.url&&(g.contents=null,g.url=f.url);Object.defineProperties(g,{usedBytes:{get:function(){return this.contents.length}}});var h={};a=Object.keys(g.stream_ops);a.forEach(function(a){var b=g.stream_ops[a];h[a]=function(){if(!S.forceLoadFile(g))throw new S.ErrnoError(5);return b.apply(null,arguments)}});h.read=function(b,a,c,d,e){if(!S.forceLoadFile(g))throw new S.ErrnoError(5);b=b.node.contents;if(e>=b.length)return 0;d=Math.min(b.length-e,d);if(b.slice)for(var f=0;f<d;f++)a[c+f]=b[e+f];else for(var f=0;f<d;f++)a[c+f]=b.get(e+f);return d};g.stream_ops=h;return g},createPreloadedFile:function(a,b,c,d,e,g,h,i,j,k){Browser.init();var l=b?N.resolve(M.join2(a,b)):a,m=Na("cp "+l);function n(c){function n(c){k&&k(),i||S.createDataFile(a,b,c,d,e,j),g&&g(),Pa(m)}var o=!1;f.preloadPlugins.forEach(function(a){if(o)return;a.canHandle(l)&&(a.handle(c,l,n,function(){h&&h(),Pa(m)}),o=!0)});o||n(c)}Oa(m);typeof c=="string"?Browser.asyncLoad(c,function(a){n(a)},h):n(c)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=S.indexedDB();try{var e=d.open(S.DB_NAME(),S.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=function(){var a=e.result;a.createObjectStore(S.DB_STORE_NAME)};e.onsuccess=function(){var d=e.result;d=d.transaction([S.DB_STORE_NAME],"readwrite");var f=d.objectStore(S.DB_STORE_NAME),g=0,h=0,i=a.length;function j(){h==0?b():c()}a.forEach(function(a){a=f.put(S.analyzePath(a).object.contents,a);a.onsuccess=function(){g++,g+h==i&&j()};a.onerror=function(){h++,g+h==i&&j()}});d.onerror=c};e.onerror=c},loadFilesFromDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=S.indexedDB();try{var e=d.open(S.DB_NAME(),S.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=c;e.onsuccess=function(){var d=e.result;try{d=d.transaction([S.DB_STORE_NAME],"readonly")}catch(a){c(a);return}var f=d.objectStore(S.DB_STORE_NAME),g=0,h=0,i=a.length;function j(){h==0?b():c()}a.forEach(function(a){var b=f.get(a);b.onsuccess=function(){S.analyzePath(a).exists&&S.unlink(a),S.createDataFile(M.dirname(a),M.basename(a),b.result,!0,!0,!0),g++,g+h==i&&j()};b.onerror=function(){h++,g+h==i&&j()}});d.onerror=c};e.onerror=c}},T={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(a,b){if(b[0]!=="/"){var c;if(a===-100)c=S.cwd();else{a=S.getStream(a);if(!a)throw new S.ErrnoError(9);c=a.path}b=M.join2(c,b)}return b},doStat:function(a,b,c){try{a=a(b)}catch(a){if(a&&a.node&&M.normalize(b)!==M.normalize(S.getPath(a.node)))return-20;throw a}B[c>>2]=a.dev;B[c+4>>2]=0;B[c+8>>2]=a.ino;B[c+12>>2]=a.mode;B[c+16>>2]=a.nlink;B[c+20>>2]=a.uid;B[c+24>>2]=a.gid;B[c+28>>2]=a.rdev;B[c+32>>2]=0;tempI64=[a.size>>>0,(tempDouble=a.size,+Ia(tempDouble)>=1?tempDouble>0?(La(+Ka(tempDouble/4294967296),4294967295)|0)>>>0:~~+Ja((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],B[c+40>>2]=tempI64[0],B[c+44>>2]=tempI64[1];B[c+48>>2]=4096;B[c+52>>2]=a.blocks;B[c+56>>2]=a.atime.getTime()/1e3|0;B[c+60>>2]=0;B[c+64>>2]=a.mtime.getTime()/1e3|0;B[c+68>>2]=0;B[c+72>>2]=a.ctime.getTime()/1e3|0;B[c+76>>2]=0;tempI64=[a.ino>>>0,(tempDouble=a.ino,+Ia(tempDouble)>=1?tempDouble>0?(La(+Ka(tempDouble/4294967296),4294967295)|0)>>>0:~~+Ja((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],B[c+80>>2]=tempI64[0],B[c+84>>2]=tempI64[1];return 0},doMsync:function(a,b,c,d){a=new Uint8Array(A.subarray(a,a+c));S.msync(b,a,0,c,d)},doMkdir:function(a,b){a=M.normalize(a);a[a.length-1]==="/"&&(a=a.substr(0,a.length-1));S.mkdir(a,b,0);return 0},doMknod:function(a,b,c){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-22}S.mknod(a,b,c);return 0},doReadlink:function(a,b,c){if(c<=0)return-22;a=S.readlink(a);var d=Math.min(c,x(a)),e=z[b+d];ha(a,b,c+1);z[b+d]=e;return d},doAccess:function(a,b){if(b&-8)return-22;a=S.lookupPath(a,{follow:!0});a=a.node;var c="";b&4&&(c+="r");b&2&&(c+="w");b&1&&(c+="x");return c&&S.nodePermissions(a,c)?-13:0},doDup:function(a,b,c){var d=S.getStream(c);d&&S.close(d);return S.open(a,b,0,c,c).fd},doReadv:function(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=B[b+f*8>>2],h=B[b+(f*8+4)>>2];g=S.read(a,z,g,h,d);if(g<0)return-1;e+=g;if(g<h)break}return e},doWritev:function(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=B[b+f*8>>2],h=B[b+(f*8+4)>>2];g=S.write(a,z,g,h,d);if(g<0)return-1;e+=g}return e},varargs:0,get:function(a){T.varargs+=4;a=B[T.varargs-4>>2];return a},getStr:function(){var a=v(T.get());return a},getStreamFromFD:function(){var a=S.getStream(T.get());if(!a)throw new S.ErrnoError(9);return a},get64:function(){var a=T.get();T.get();return a},getZero:function(){T.get()}};function nb(a,b){T.varargs=b;try{a=T.getStreamFromFD();b=T.get();var c=T.get(),d=T.get(),e=T.get(),f=4294967296;b=b*f+(c>>>0);f=9007199254740992;if(b<=-f||b>=f)return-75;S.llseek(a,b,e);tempI64=[a.position>>>0,(tempDouble=a.position,+Ia(tempDouble)>=1?tempDouble>0?(La(+Ka(tempDouble/4294967296),4294967295)|0)>>>0:~~+Ja((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],B[d>>2]=tempI64[0],B[d+4>>2]=tempI64[1];a.getdents&&b===0&&e===0&&(a.getdents=null);return 0}catch(a){(typeof S==="undefined"||!(a instanceof S.ErrnoError))&&$(a);return-a.errno}}function ob(a,b){T.varargs=b;try{a=T.getStreamFromFD();b=T.get();var c=T.get();return T.doWritev(a,b,c)}catch(a){(typeof S==="undefined"||!(a instanceof S.ErrnoError))&&$(a);return-a.errno}}function pb(a,b){T.varargs=b;try{a=T.getStreamFromFD();S.close(a);return 0}catch(a){(typeof S==="undefined"||!(a instanceof S.ErrnoError))&&$(a);return-a.errno}}function qb(a,b){T.varargs=b;try{a=T.get();b=T.get();if(a==-1||b==0)return-22;var c=T.mappings[a];if(!c)return 0;if(b===c.len){var d=S.getStream(c.fd);T.doMsync(a,d,b,c.flags);S.munmap(d);T.mappings[a]=null;c.allocated&&vc(c.malloc)}return 0}catch(a){(typeof S==="undefined"||!(a instanceof S.ErrnoError))&&$(a);return-a.errno}}function rb(){}function sb(){f.abort()}function tb(){$()}function ub(){return typeof performance==="object"&&performance&&typeof performance.now==="function"}function vb(a,b){var c;if(a===0)c=Date.now();else if(a===1&&ub())c=tb();else{L(22);return-1}B[b>>2]=c/1e3|0;B[b+4>>2]=c%1e3*1e3*1e3|0;return 0}function wb(){return z.length}function xb(a){ad(a)}function U(a){if(a===0)return 0;a=v(a);if(!Object.prototype.hasOwnProperty.call(H,a))return 0;U.ret&&vc(U.ret);U.ret=ia(H[a]);return U.ret}function yb(a){return a}function zb(a){return Math.pow(2,a)}function Ab(a){return zb(a)}function Bb(a){var b=Cb,c=b.LLVM_SAVEDSTACKS[a];b.LLVM_SAVEDSTACKS.splice(a,1);Y(c)}function Cb(){var a=Cb;a.LLVM_SAVEDSTACKS||(a.LLVM_SAVEDSTACKS=[]);a.LLVM_SAVEDSTACKS.push(Z());return a.LLVM_SAVEDSTACKS.length-1}function Db(){$("trap!")}function Eb(a,b,c){A.set(A.subarray(b,b+c),a)}function Fb(){return 0}function Gb(a){$("OOM")}function Hb(a){var b=65536;a=pa(a,b);b=y.byteLength;try{a=r.grow((a-b)/65536);if(a!==(-1|0)){y=r.buffer;return!0}else return!1}catch(a){return!1}}function Ib(a){var b=wb(),c=65536,d=2147483648-c;if(a>d)return!1;var e=16777216;b=Math.max(b,e);while(b<a)b<=536870912?b=pa(2*b,c):b=Math.min(pa((3*b+2147483648)/4,c),d);if(!Hb(b))return!1;ta();return!0}function Jb(a){return a%4===0&&(a%100!==0||a%400===0)}function Kb(a,b){var c=0;for(var d=0;d<=b;c+=a[d++]);return c}var Lb=[31,29,31,30,31,30,31,31,30,31,30,31],Mb=[31,28,31,30,31,30,31,31,30,31,30,31];function Nb(a,b){a=new Date(a.getTime());while(b>0){var c=Jb(a.getFullYear()),d=a.getMonth();c=(c?Lb:Mb)[d];if(b>c-a.getDate())b-=c-a.getDate()+1,a.setDate(1),d<11?a.setMonth(d+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);return a}}return a}function Ob(a,b,c,d){var e=B[d+40>>2];d={tm_sec:B[d>>2],tm_min:B[d+4>>2],tm_hour:B[d+8>>2],tm_mday:B[d+12>>2],tm_mon:B[d+16>>2],tm_year:B[d+20>>2],tm_wday:B[d+24>>2],tm_yday:B[d+28>>2],tm_isdst:B[d+32>>2],tm_gmtoff:B[d+36>>2],tm_zone:e?v(e):""};e=v(c);c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in c)e=e.replace(new RegExp(f,"g"),c[f]);var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];function i(a,b,c){a=typeof a==="number"?a.toString():a||"";while(a.length<b)a=c[0]+a;return a}function j(a,b){return i(a,b,"0")}function k(a,b){function c(a){return a<0?-1:a>0?1:0}var d;(d=c(a.getFullYear()-b.getFullYear()))===0&&((d=c(a.getMonth()-b.getMonth()))===0&&(d=c(a.getDate()-b.getDate())));return d}function l(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-1,11,30)}}function m(a){a=Nb(new Date(a.tm_year+1900,0,1),a.tm_yday);var b=new Date(a.getFullYear(),0,4),c=new Date(a.getFullYear()+1,0,4);b=l(b);c=l(c);if(k(b,a)<=0)if(k(c,a)<=0)return a.getFullYear()+1;else return a.getFullYear();else return a.getFullYear()-1}c={"%a":function(a){return g[a.tm_wday].substring(0,3)},"%A":function(a){return g[a.tm_wday]},"%b":function(a){return h[a.tm_mon].substring(0,3)},"%B":function(a){return h[a.tm_mon]},"%C":function(a){a=a.tm_year+1900;return j(a/100|0,2)},"%d":function(a){return j(a.tm_mday,2)},"%e":function(a){return i(a.tm_mday,2," ")},"%g":function(a){return m(a).toString().substring(2)},"%G":function(a){return m(a)},"%H":function(a){return j(a.tm_hour,2)},"%I":function(a){a=a.tm_hour;a==0?a=12:a>12&&(a-=12);return j(a,2)},"%j":function(a){return j(a.tm_mday+Kb(Jb(a.tm_year+1900)?Lb:Mb,a.tm_mon-1),3)},"%m":function(a){return j(a.tm_mon+1,2)},"%M":function(a){return j(a.tm_min,2)},"%n":function(){return"\n"},"%p":function(a){if(a.tm_hour>=0&&a.tm_hour<12)return"AM";else return"PM"},"%S":function(a){return j(a.tm_sec,2)},"%t":function(){return"\t"},"%u":function(a){return a.tm_wday||7},"%U":function(a){var b=new Date(a.tm_year+1900,0,1),c=b.getDay()===0?b:Nb(b,7-b.getDay());a=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(k(c,a)<0){var d=Kb(Jb(a.getFullYear())?Lb:Mb,a.getMonth()-1)-31,e=31-c.getDate();e=e+d+a.getDate();return j(Math.ceil(e/7),2)}return k(c,b)===0?"01":"00"},"%V":function(a){var b=new Date(a.tm_year+1900,0,4),c=new Date(a.tm_year+1901,0,4);b=l(b);c=l(c);var d=Nb(new Date(a.tm_year+1900,0,1),a.tm_yday);if(k(d,b)<0)return"53";if(k(c,d)<=0)return"01";b.getFullYear()<a.tm_year+1900?c=a.tm_yday+32-b.getDate():c=a.tm_yday+1-b.getDate();return j(Math.ceil(c/7),2)},"%w":function(a){return a.tm_wday},"%W":function(a){var b=new Date(a.tm_year,0,1),c=b.getDay()===1?b:Nb(b,b.getDay()===0?1:7-b.getDay()+1);a=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(k(c,a)<0){var d=Kb(Jb(a.getFullYear())?Lb:Mb,a.getMonth()-1)-31,e=31-c.getDate();e=e+d+a.getDate();return j(Math.ceil(e/7),2)}return k(c,b)===0?"01":"00"},"%y":function(a){return(a.tm_year+1900).toString().substring(2)},"%Y":function(a){return a.tm_year+1900},"%z":function(a){a=a.tm_gmtoff;var b=a>=0;a=Math.abs(a)/60;a=a/60*100+a%60;return(b?"+":"-")+String("0000"+a).slice(-4)},"%Z":function(a){return a.tm_zone},"%%":function(){return"%"}};for(var f in c)e.indexOf(f)>=0&&(e=e.replace(new RegExp(f,"g"),c[f](d)));c=Qb(e,!1);if(c.length>b)return 0;ja(c,a);return c.length-1}function Pb(a,b,c,d){return Ob(a,b,c,d)}S.staticInit();typeof dateNow!=="undefined"?tb=dateNow:typeof performance==="object"&&performance&&typeof performance.now==="function"?tb=function(){return performance.now()}:tb=Date.now;function Qb(a,b,c){c=c>0?c:x(a)+1;c=new Array(c);a=w(a,c,0,c.length);b&&(c.length=a);return c}function Rb(a,b,c,d){var e=Z();try{return xc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Sb(a,b,c,d){var e=Z();try{return yc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Tb(a){var b=Z();try{return zc(a)}catch(a){Y(b);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Ub(a,b){var c=Z();try{return Ac(a,b)}catch(a){Y(c);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Vb(a,b,c){var d=Z();try{return Bc(a,b,c)}catch(a){Y(d);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Wb(a,b,c,d){var e=Z();try{return Cc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Xb(a,b,c,d){var e=Z();try{return Dc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Yb(a,b,c,d,e){var f=Z();try{return Ec(a,b,c,d,e)}catch(a){Y(f);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Zb(a,b,c,d,e,f){var g=Z();try{return Fc(a,b,c,d,e,f)}catch(a){Y(g);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function $b(a,b,c,d,e,f,g){var h=Z();try{return Gc(a,b,c,d,e,f,g)}catch(a){Y(h);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function ac(a,b,c,d,e,f,g,h){var i=Z();try{return Hc(a,b,c,d,e,f,g,h)}catch(a){Y(i);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function bc(a,b,c,d,e,f,g,h,i){var j=Z();try{return Ic(a,b,c,d,e,f,g,h,i)}catch(a){Y(j);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function cc(a,b,c,d,e,f,g,h,i,j,k){var l=Z();try{return Jc(a,b,c,d,e,f,g,h,i,j,k)}catch(a){Y(l);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function dc(a,b,c,d,e,f,g,h,i,j,k,l){var m=Z();try{return Kc(a,b,c,d,e,f,g,h,i,j,k,l)}catch(a){Y(m);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function ec(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=Z();try{return Lc(a,b,c,d,e,f,g,h,i,j,k,l,m)}catch(a){Y(n);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function fc(a,b,c,d,e){var f=Z();try{return Mc(a,b,c,d,e)}catch(a){Y(f);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function gc(a){var b=Z();try{Nc(a)}catch(a){Y(b);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function hc(a,b){var c=Z();try{Oc(a,b)}catch(a){Y(c);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function ic(a,b,c){var d=Z();try{Pc(a,b,c)}catch(a){Y(d);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function jc(a,b,c,d,e,f,g,h){var i=Z();try{Qc(a,b,c,d,e,f,g,h)}catch(a){Y(i);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function kc(a,b,c,d){var e=Z();try{Rc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function lc(a,b,c,d,e){var f=Z();try{Sc(a,b,c,d,e)}catch(a){Y(f);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function mc(a,b,c,d,e,f){var g=Z();try{Tc(a,b,c,d,e,f)}catch(a){Y(g);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function nc(a,b,c,d,e,f,g){var h=Z();try{Uc(a,b,c,d,e,f,g)}catch(a){Y(h);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function oc(a,b,c,d,e,f,g){var h=Z();try{Vc(a,b,c,d,e,f,g)}catch(a){Y(h);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function pc(a,b,c,d,e,f,g,h){var i=Z();try{Wc(a,b,c,d,e,f,g,h)}catch(a){Y(i);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function qc(a,b,c,d,e,f,g,h,i,j,k){var l=Z();try{Xc(a,b,c,d,e,f,g,h,i,j,k)}catch(a){Y(l);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function rc(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,aa){var p=Z();try{Yc(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,aa)}catch(a){Y(p);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}ua={};i={s:$,X:q,b:m,K:Rb,S:Sb,t:Tb,f:Ub,i:Vb,F:Wb,r:Xb,q:Yb,M:Zb,A:$b,V:ac,U:bc,w:cc,L:dc,E:ec,W:fc,l:gc,m:hc,e:ic,H:jc,g:kc,k:lc,j:mc,T:nc,J:oc,x:pc,D:qc,I:rc,na:Va,ma:Wa,n:Xa,u:ab,v:db,c:fb,h:gb,p:bb,la:hb,R:ib,o:jb,ka:kb,ja:lb,ia:mb,d:eb,Q:L,ha:nb,P:ob,ga:pb,fa:qb,O:rb,N:sb,ea:vb,da:wb,ca:Eb,ba:Ib,aa:xb,G:U,B:yb,C:Ab,z:Bb,y:Cb,$:Db,_:Fb,Z:Pb,Y:Gb,a:C};D=f.asm(ua,i,y);f.asm=D;var V=f.__ZSt18uncaught_exceptionv=function(){return f.asm.oa.apply(null,arguments)},sc=f.___cxa_can_catch=function(){return f.asm.pa.apply(null,arguments)},tc=f.___cxa_is_pointer_type=function(){return f.asm.qa.apply(null,arguments)},uc=f.___emscripten_environ_constructor=function(){return f.asm.ra.apply(null,arguments)};f.___errno_location=function(){return f.asm.sa.apply(null,arguments)};var vc=f._free=function(){return f.asm.ta.apply(null,arguments)},W=f._malloc=function(){return f.asm.ua.apply(null,arguments)};f._resizeJpeg=function(){return f.asm.va.apply(null,arguments)};var X=f._setThrew=function(){return f.asm.wa.apply(null,arguments)},wc=f.stackAlloc=function(){return f.asm.Za.apply(null,arguments)},Y=f.stackRestore=function(){return f.asm._a.apply(null,arguments)},Z=f.stackSave=function(){return f.asm.$a.apply(null,arguments)},xc=f.dynCall_diii=function(){return f.asm.xa.apply(null,arguments)},yc=f.dynCall_fiii=function(){return f.asm.ya.apply(null,arguments)},zc=f.dynCall_i=function(){return f.asm.za.apply(null,arguments)},Ac=f.dynCall_ii=function(){return f.asm.Aa.apply(null,arguments)},Bc=f.dynCall_iii=function(){return f.asm.Ba.apply(null,arguments)},Cc=f.dynCall_iiif=function(){return f.asm.Ca.apply(null,arguments)},Dc=f.dynCall_iiii=function(){return f.asm.Da.apply(null,arguments)},Ec=f.dynCall_iiiii=function(){return f.asm.Ea.apply(null,arguments)},Fc=f.dynCall_iiiiii=function(){return f.asm.Fa.apply(null,arguments)},Gc=f.dynCall_iiiiiii=function(){return f.asm.Ga.apply(null,arguments)},Hc=f.dynCall_iiiiiiii=function(){return f.asm.Ha.apply(null,arguments)},Ic=f.dynCall_iiiiiiiii=function(){return f.asm.Ia.apply(null,arguments)},Jc=f.dynCall_iiiiiiiiiii=function(){return f.asm.Ja.apply(null,arguments)},Kc=f.dynCall_iiiiiiiiiiii=function(){return f.asm.Ka.apply(null,arguments)},Lc=f.dynCall_iiiiiiiiiiiii=function(){return f.asm.La.apply(null,arguments)},Mc=f.dynCall_jiiii=function(){return f.asm.Ma.apply(null,arguments)},Nc=f.dynCall_v=function(){return f.asm.Na.apply(null,arguments)},Oc=f.dynCall_vi=function(){return f.asm.Oa.apply(null,arguments)},Pc=f.dynCall_vii=function(){return f.asm.Pa.apply(null,arguments)},Qc=f.dynCall_viifiiii=function(){return f.asm.Qa.apply(null,arguments)},Rc=f.dynCall_viii=function(){return f.asm.Ra.apply(null,arguments)},Sc=f.dynCall_viiii=function(){return f.asm.Sa.apply(null,arguments)},Tc=f.dynCall_viiiii=function(){return f.asm.Ta.apply(null,arguments)},Uc=f.dynCall_viiiiif=function(){return f.asm.Ua.apply(null,arguments)},Vc=f.dynCall_viiiiii=function(){return f.asm.Va.apply(null,arguments)},Wc=f.dynCall_viiiiiii=function(){return f.asm.Wa.apply(null,arguments)},Xc=f.dynCall_viiiiiiiiii=function(){return f.asm.Xa.apply(null,arguments)},Yc=f.dynCall_viiiiiiiiiiiiiii=function(){return f.asm.Ya.apply(null,arguments)};f.asm=D;f.ccall=ea;f.cwrap=p;f.getMemory=fa;f.then=function(a){if(f.calledRun)a(f);else{var b=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){b&&b(),a(f)}}return f};function Zc(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}Zc.prototype=new Error();Zc.prototype.constructor=Zc;F=function a(){f.calledRun||$c(),f.calledRun||(F=a)};function $c(a){a||f.arguments;if(E>0)return;Ba();if(E>0)return;if(f.calledRun)return;function b(){if(f.calledRun)return;f.calledRun=!0;if(s)return;Ca();Da();f.onRuntimeInitialized&&f.onRuntimeInitialized();Fa()}f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),b()},1)):b()}f.run=$c;function ad(a,b){if(b&&f.noExitRuntime&&a===0)return;f.noExitRuntime||(s=!0,a,Ea(),f.onExit&&f.onExit(a));f.quit(a,new Zc(a))}function $(a){f.onAbort&&f.onAbort(a);a!==void 0?(n(a),o(a),a='"'+a+'"'):a="";s=!0;throw"abort("+a+"). Build with -s ASSERTIONS=1 for more info."}f.abort=$;if(f.preInit){typeof f.preInit=="function"&&(f.preInit=[f.preInit]);while(f.preInit.length>0)f.preInit.pop()()}f.noExitRuntime=!0;$c();return d}}();typeof f==="object"&&typeof e==="object"?e.exports=h:typeof define==="function"&&define.amd?define([],function(){return h}):typeof f==="object"&&(f.SpectrumWasm2021=h)}),null);