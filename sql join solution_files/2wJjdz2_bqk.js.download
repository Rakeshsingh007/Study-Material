if (self.CavalryLogger) { CavalryLogger.start_js(["iqHrlpa"]); }

__d("createCometCapitalizedNameMentionsMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new RegExp("(^|[^#])((?:"+b("DocumentMentionsRegex").NAME+"{"+1+",})$)");function a(a){var b=a.minMatchLength;return{findMentionableString:function(a){a=g.exec(a);if(a!==null){var c=a[1],d=a[2];if(d!=null&&d.length>=b)return{leadOffset:a.index+c.length,matchingString:d,replaceableString:d}}return null},name:"CapitalizedNameMentionStrategy("+b.toString()+")"}}}),null);
__d("MentionsTypeaheadViewItem.react",["cx","fbt","Badge.react","CssBackgroundImage.react","ImageBlock.react","TypeaheadViewItem","createReactClass_DEPRECATED","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react");a=b("createReactClass_DEPRECATED")({displayName:"MentionsTypeaheadViewItem",mixins:[b("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{ariaDescribedBy:b("prop-types").string,id:b("prop-types").string}),render:function(){var a=this.props.entry,c=a.getAuxiliaryData(),d=null;c&&(c.verified?d=j.jsx(b("Badge.react"),{type:"verified",size:"xsmall"}):c.workForeignEntity?d=j.jsx(b("Badge.react"),{type:"work_non_coworker"}):c.renderType==="private_non_member"&&(d=j.jsx(b("Badge.react"),{type:"inactive_user"})));var e=a.getPhoto();e=typeof e==="string"&&e!==""?j.jsx(b("CssBackgroundImage.react"),{className:"_5u93",imageURI:e}):j.jsx("span",{});var f=null;a.getSubtitle()&&(f=j.jsx("div",{className:"_5u95",children:a.getSubtitle()}));var g="_5u91"+(this.props.highlighted?" _5u92":"");return j.jsx("li",{id:this.props.id,role:"option",className:g,"aria-label":a.getTitle(),"aria-selected":this.props.highlighted,"aria-describedby":this.props.ariaDescribedBy,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,"data-tooltip-position":"right","data-tooltip-content":c.workUser===!0&&c.renderType==="private_non_member"?h._("This person won't be notified"):"","data-hover":"tooltip",children:j.jsxs(b("ImageBlock.react"),{spacing:"medium",children:[e,j.jsxs("div",{style:{opacity:c.renderType==="private_non_member"&&this.props.highlighted===!1?.7:1},children:[j.jsxs("div",{className:"_5u94",children:[a.getTitle(),d]}),f]})]})})}});c=a;e.exports=c}),null);
__d("GroupMentionsTypeaheadView.react",["cx","fbt","ix","Image.react","MentionsTypeaheadViewItem.react","gkx","prop-types","react","uniqueID"],(function(a,b,c,d,e,f,g,h,i){var j,k=j||b("react"),l=h._("No Results");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={emptyMembersHeaderID:b("uniqueID")(),membersHeaderID:b("uniqueID")(),nonMembersHeaderID:b("uniqueID")(),botsHeaderID:b("uniqueID")(),allResultsHeaderID:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){var d=a===this.props.highlightedEntry;return k.jsx(b("MentionsTypeaheadViewItem.react"),{ariaDescribedBy:c,entry:a,highlighted:d,id:a.getUniqueID(),onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight},a.getUniqueID())};d.$2=function(a){var b=this,c=null;a.length?c=a.map(function(a,c){c=c===0?b.state.membersHeaderID:null;return b.$1(a,c)}):c=[k.jsx("li",{className:"_2ph-",role:"option","aria-selected":!1,"aria-describedby":this.state.membersHeaderID,"aria-label":l,children:l},this.state.emptyMembersHeaderID)];a=null;this.props.viewProps.member.aux&&(a=k.jsxs("span",{className:"_1knr",children:[" \xb7 ",this.props.viewProps.member.aux]}));a=[k.jsxs("li",{className:"_1kns",children:[this.props.viewProps.member.title,a]},this.state.membersHeaderID)];a.push.apply(a,c);return a};d.$3=function(a){var c=this;if(!a.length)return null;var d=null;this.props.viewProps.nonMember.aux&&(d=k.jsxs("span",{className:"_1knr",children:[" \xb7 ",this.props.viewProps.nonMember.aux]}));d=[k.jsxs("li",{className:"_1kns",children:[k.jsx(b("Image.react"),{src:i("75329"),className:"_1knt"}),this.props.viewProps.nonMember.title,d]},this.state.nonMembersHeaderID)];d.push.apply(d,a.map(function(a,b){b=b===0?c.state.nonMembersHeaderID:null;return c.$1(a,b)}));return d};d.$4=function(a){var b=this;if(!a.length||!this.props.viewProps.bot)return null;var c=null;this.props.viewProps.bot.aux&&(c=k.jsxs("span",{className:"_1knr",children:[" \xb7 ",this.props.viewProps.bot.aux]}));c=[k.jsxs("li",{className:"_1kns",children:[this.props.viewProps.bot.title,c]},this.state.botsHeaderID)];c.push.apply(c,a.map(function(a,c){c=c===0?b.state.botsHeaderID:null;return b.$1(a,c)}));return c};d.$5=function(a){var b=this,c=[];c.push.apply(c,a.map(function(a,c){c=c===0?b.state.allResultsHeaderID:null;return b.$1(a,c)}));return c};d.render=function(){var a=this,c=[],d=[],e=[],f=[];this.props.entries.forEach(function(b){var g=b.getAuxiliaryData();g=g.renderType;g==="member"?c.push(b):g==="hashtag"?e.push(b):g==="bot"&&a.props.viewProps.bot?f.push(b):d.push(b)});var g="_9ihu"+(!c.length&&!d.length&&!e.length&&!f.length?" _9ihv":""),h=c.length===0&&d.length===0&&e.length>0,i=b("gkx")("1227858");h?h=h:i?h=this.$5(this.props.entries):h=this.$2(c).concat(this.$4(f)).concat(this.$3(d));return k.jsx("ul",{"aria-label":this.props.label,className:g,role:"listbox",id:this.props.controlleeID,"data-testid":void 0,children:h})};return c}(k.Component);e.exports=a;a.propTypes={controlleeID:b("prop-types").string,viewProps:b("prop-types").object,highlightedEntry:b("prop-types").object,label:b("prop-types").string,entries:b("prop-types").array.isRequired,onSelect:b("prop-types").func.isRequired,onHighlight:b("prop-types").func,onRenderHighlight:b("prop-types").func}}),null);
__d("SearchSourceWithMetrics",["AbstractSearchSource"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.searchSource=b;d.reporter=c;return d}var c=b.prototype;c.searchImpl=function(a,b,c){var d=this;this.reporter.reportQueryBegin(a);c&&this.reporter.reportStrategyName(c.strategyName);var e=Date.now();this.searchSource.search(a,function(c,a){d.reporter.reportQueryComplete(Date.now()-e,0),b(c,a)},c)};c.bootstrapImpl=function(a){var b=this;this.reporter.reportBootstrapBegin();return this.searchSource.bootstrap(function(){b.searchSource.getBootstrappedEntries(function(c){b.reporter.reportBootstrapComplete(c.map(function(a){return a.getType()})),a()})})};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("getMentionsSearchSource",["AtSignMentionsStrategy","CapitalizedNameMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","FilteredSearchSource","SearchSourceWithMetrics","WebAsyncSearchSource","filterCapitalizedNames"],(function(a,b,c,d,e,f){e.exports=a;function g(a){var c={bootstrapRequests:[],queryRequests:[],auxiliaryFields:{authorativePerson:"is_authoritative_person",connectedPage:"connected_page",disableAutosuggest:"disable_autosuggest",workForeignEntity:"is_work_foreign_entity",renderType:"render_type",verified:"is_verified",workUser:"is_work_user",indexRank:"index_rank"}};a._bootstrapEndpoints&&a._bootstrapEndpoints.forEach(function(a){c.bootstrapRequests.push({uri:a.endpoint,data:a.data})});a.bootstrapEndpoint&&c.bootstrapRequests.push({uri:a.bootstrapEndpoint,data:a.bootstrapData});a.queryEndpoint&&c.queryRequests.push({uri:a.queryEndpoint,data:a.queryData});return new(b("WebAsyncSearchSource"))(c)}function a(a,c,d){a=g(a);a=new(b("SearchSourceWithMetrics"))(a,c);c=new(b("FilteredSearchSource"))(b("filterCapitalizedNames"),a);d=[d!=null?new(b("DocumentMentionsSource"))(d,a):null,new(b("DocumentMentionsSource"))(b("AtSignMentionsStrategy"),a),new(b("DocumentMentionsSource"))(b("CapitalizedNameMentionsStrategy"),c)].filter(Boolean);return new(b("DocumentCompositeMentionsSource"))(d)}}),null);
__d("ReactFeedComposerXBody",["DOM","Event","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a.get("root"),this.$4=b("DOM").find(this.$2,"textarea"),this.$1=b("DOM").find(this.$2,'input[type="hidden"]'),this.$3=new(b("SubscriptionsHandler"))(),this.$3.addSubscriptions(b("Event").listen(this.$4,"change",this.$5.bind(this)))}var c=a.prototype;c.$5=function(a){this.$1.value=a.target.value};return a}();e.exports=a}),null);
__d("XFRXHandleChevronClickController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/frx/handle_chevron_click/",{})}),null);
__d("FRXHandleChevronClick",["AsyncRequest","Event","XFRXHandleChevronClickController"],(function(a,b,c,d,e,f){"use strict";f.init=a;function a(a,c,d,e){b("Event").listen(a,"click",function(){new(b("AsyncRequest"))().setURI(b("XFRXHandleChevronClickController").getURIBuilder().getURI()).setMethod("POST").setData({reportable_ent_id:c,frx_entry_point:d,nfx_story_location:e}).send()})}}),null);
__d("UFI2RichComposerInput.react",["cx","CometVisualCompletionAttributes","DraftEditor.react","Keys","cr:2012305","getDefaultKeyBinding","getEditorStateFromUFI2ComposerState","isSoftNewlineEvent","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("Keys").RETURN,j=h||(h=b("react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{inputState:b.inputState.__type==="editor-state-based"?babelHelpers["extends"]({},b.inputState,{editorState:a}):{__type:"editor-state-based",editorState:a}})})},d.$2=function(a,b){return d.props.handleBeforeInput?d.props.handleBeforeInput(a,b):"not-handled"},d.$3=function(a,b){if(d.props.handleKeyCommand&&d.props.handleKeyCommand(a,b)==="handled")return"handled";if(a==="ufi-commit"){d.props.onCommit();return"handled"}return"not-handled"},d.$4=function(a){if(d.props.keyBindingFn){var c=d.props.keyBindingFn(a);if(c!=null)return c}return a.keyCode===i&&!b("isSoftNewlineEvent")(a)?"ufi-commit":b("getDefaultKeyBinding")(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.execCommand=function(a){this.props.handleCommand&&this.props.handleCommand(a)};d.componentWillUnmount=function(){var a=this.lastEditorRef;a&&b("cr:2012305")&&b("cr:2012305").unregisterTypingPerf(a)};d.render=function(){var a=this,c=this.props.composerState.ariaInputs;return j.jsx("div",babelHelpers["extends"]({className:b("joinClasses")((this.props.composerState.isLocked?"_3d2p":"")+" _3d2q",this.props.className)},b("CometVisualCompletionAttributes").IGNORE,{onClick:this.props.onClick,children:j.jsx(b("DraftEditor.react"),{ariaActiveDescendantID:c?c["aria-activedescendant"]:void 0,ariaControls:c?c["aria-controls"]:void 0,ariaDescribedBy:this.props.ariaDescribedBy,ariaLabel:String((c=this.props.ariaLabel)!=null?c:this.props.placeholder),editorRef:function(c){var d=a.props.onInputRefUpdated;d&&d(c);if(b("cr:2012305")===null)return;d=a.lastEditorRef;if(d===c||c===null)return;c!==null&&(b("cr:2012305").trackTypingPerf(c,"UFI2RichComposerInput",a.lastEditorRef,{editor:"UFI2DraftEditor"}),a.lastEditorRef=c)},editorState:b("getEditorStateFromUFI2ComposerState")(this.props.composerState),handleBeforeInput:this.$2,handleKeyCommand:this.$3,handlePastedFiles:this.props.handlePastedFiles,keyBindingFn:this.$4,onBlur:this.props.onBlur,onChange:this.$1,onFocus:this.props.onFocus,placeholder:String(this.props.placeholder),placeholderClassName:this.props.placeholderClassName,preventScroll:!0,readOnly:this.props.composerState.isLocked,spellCheck:!0,stripPastedStyles:!0,webDriverTestID:this.props.webDriverTestID})}))};return c}(j.Component);e.exports=a}),null);
__d("useUpgradedUFI2MentionsComposerDataSource",["DataSource","FBLogger","MultiBootstrapDataSource","getMentionsSearchSource","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){return h.useMemo(function(){if(a.mentions_datasource_js_constructor_args_json!=null){var d;try{d=JSON.parse(a.mentions_datasource_js_constructor_args_json),a.maxResults!=null&&(d[0]=babelHelpers["extends"]({},d[0],{maxResults:a.maxResults,queryData:d[0].queryData=babelHelpers["extends"]({},d[0].queryData,{max_result:a.maxResults})}))}catch(c){b("FBLogger")("ufi2").warn("Failed to parse `mentions_datasource_js_constructor_args_json` The mentions autocomplete is disabled for this user. (JSON string was: `%s`. Config was: `%s`.)",a.mentions_datasource_js_constructor_args_json,JSON.stringify(a))}if(d){var e=d[0];e=(e==null?void 0:(e=e.bootstrapEndpoints)==null?void 0:e.length)>0?babelHelpers.construct(b("MultiBootstrapDataSource"),d):babelHelpers.construct(b("DataSource"),d);return b("getMentionsSearchSource")(e,c)}}else b("FBLogger")("ufi2").warn("Failed to fetch `mentions_datasource_js_constructor_args_json` for use in the UFI composer mentions plugin. The mentions autocomplete is disabled for this user.");return b("getMentionsSearchSource")(new(b("DataSource"))({}),c)},[a,c])}}),null);
__d("useUpgradedUFI2MentionsComposerDataSourceFetch",["react","shallowEqual","upgradedUFI2MentionsComposerPluginDraftUtils"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=h.useRef(null);return h.useCallback(function(e,f,g){d.current!=null&&d.current.remove!=null&&d.current.remove();e=b("upgradedUFI2MentionsComposerPluginDraftUtils").getMaybeEditorState(e);if(e==null)return;var h=e.getCurrentContent();e=e.getSelection();if(e.getHasFocus()===!1){f.mentionableEntities.length!==0&&g(function(a){return babelHelpers["extends"]({},a,{mentionableEntities:[]})});return}d.current=c.search(h,e,function(c){var d=a.typeaheadViewProps;c=(c=c)!=null?c:[];d!=null&&d.sortFn!=null&&c.sort(d.sortFn);var e=c.slice(0,a.maxResults);d=!b("shallowEqual")(c,e);if(c.length===0&&d===!1){g(function(){return{mentionableEntities:[],selectedMentionableEntity:null}});return}var h=c.includes(f.selectedMentionableEntity)?f.selectedMentionableEntity:c[0];if(f.selectedMentionableEntity===h&&d===!1)return;g(function(){return{mentionableEntities:e,selectedMentionableEntity:h}})})},[a,c])}}),null);
__d("useUpgradedUFI2MentionsComposerDataSourceResolver",["createCometAtSignComposerMentionsMatchStrategy","createCometCapitalizedNameMentionsMatchStrategy","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=h.useMemo(function(){return[{dataSource:null,matchStrategy:b("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:1})},{dataSource:null,matchStrategy:b("createCometCapitalizedNameMentionsMatchStrategy")({minMatchLength:3})}]},[]);return h.useMemo(function(){var b=new Map();return function(c){var d={dataSource:null,searchResult:null};if(c==null)return d;var e=b.get(c);if(e!=null)return e;for(var e=0;e<a.length;e++){var f=a[e],g=f.dataSource;f=f.matchStrategy;f=f.findMentionableString(c);if(f!=null){g={dataSource:g,searchResult:f};b.set(c,g);return g}}b.set(c,d);return d}},[a])}}),null);
__d("useUpgradedUFI2MentionsComposerPluginAriaHandler",["react","uniqueID","usePrevious"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(a,c){var d=h.useMemo(b("uniqueID"),[]),e=b("usePrevious")(a);h.useEffect(function(){var b=e?e.getUniqueID():null,f=a?a.getUniqueID():null;f!=null&&f!==b&&c({"aria-activedescendant":f,"aria-controls":d})},[c,e,a,d]);return{viewID:d}}}),null);
__d("useUpgradedUFI2MentionsComposerPluginEntitySelectionHandler",["FBLogger","cometReplaceMentionedTextInEditorState","createCometComposerMentionsEntity","getCometComposerMentionsSearch"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.onComposerStateChange,d=a.state,e=a.setState,f=a.typeaheadMetricReporter,h=a.dataSourceResolver;return function(a){var i=a.editorState,j=a.selectionMethod,k=a.mentionableEntity;a=b("getCometComposerMentionsSearch")(i);a=h(a);a=a.searchResult;if(a==null)return;f.reportSelect(k.getUniqueID(),k.getType(),d.mentionableEntities.indexOf(k),j==="click");f.sessionEnd();f.sessionStart();j={getKey:function(){return k.getUniqueID()},getLabel:function(){return k.getTitle()},getMentionDecorType:function(){return"regular"},getPhotoURI:function(){return null}};var l=b("cometReplaceMentionedTextInEditorState")(j,i,a.replaceableString.length,function(a,c){return b("createCometComposerMentionsEntity")(c.getKey(),!1,a)},function(){return k.getTitle()});c(function(a){return g(a,l)});e(function(a){return{mentionableEntities:[],selectedMentionableEntity:null}})}}function g(a,c){var d=a.inputState;switch(d.__type){case"editor-state-based":c=babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{editorState:c})});return c;case"plain-text":default:b("FBLogger")("ufi2").warn("Unimplemented: tried to commit a searchable entity as a mention to a `UFI2ComposerState` with an `inputState` of type `%s`. Only the `editor-state-based` type is supported at the moment.",d.__type);return a}}}),null);
__d("TypeaheadMetricCounter",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.reset()}var b=a.prototype;b.reset=function(){this.stats={},this.avgStats={}};b.recordStat=function(a,b){this.stats[a]=b};b.recordCountStat=function(a){var b=this.stats[a];this.stats[a]=b?b+1:1};b.recordAvgStat=function(a,b){this.avgStats[a]?(this.avgStats[a][0]+=b,this.avgStats[a][1]+=1):this.avgStats[a]=[b,1]};b.hasStats=function(){return!!Object.keys(this.stats).length};b.getStats=function(){var a=babelHelpers["extends"]({},this.stats);for(var b in this.avgStats){var c=this.avgStats[b];a[b]=c[0]/c[1]}return a};return a}();e.exports=a}),null);
__d("TypeaheadMetricReporter",["AsyncRequest","QueriesHistory","Random","TypeaheadMetricCounter","mixInEventEmitter"],(function(a,b,c,d,e,f){var g="/ajax/typeahead/record_basic_metrics.php",h=1e3;a=function(){function a(a){this.counter=new(b("TypeaheadMetricCounter"))(),this.extraData=Object.assign({},a),this.bootstrapped=!1,this.bootstrapBegin=Date.now(),this.queriesHistory=new(b("QueriesHistory"))(h),this.lastQuery=null,this.sessionActive=!1,this.$1()}var c=a.prototype;c.getSID=function(){return this.sid};c.sessionStart=function(){this.sessionActive=!0,this.sessionStartTime=Date.now()};c.sessionEnd=function(){this.sessionActive&&(this.$2(),this.$1(),this.sessionActive=!1)};c.setAdditionalStats=function(a){var b=this;a&&Object.entries(a).forEach(function(a){var c=a[0];a=a[1];b.counter.recordStat(c,a)})};c.sessionPause=function(a){this.sessionActive&&(this.setAdditionalStats(a),this.$2(),this.sessionActive=!1)};c.sessionDeactivate=function(){this.sessionActive=!1};c.reportSelect=function(a,b,c,d,e,f){e=e==null?this.lastQuery:e;this.counter.recordStat("selected_id",a||"SELECT_NULL");this.counter.recordStat("selected_type",b);this.counter.recordStat("selected_position",c);this.counter.recordStat("selected_with_mouse",d?1:0);this.counter.recordStat("selected_query",e);for(var g in f)this.counter.recordStat(g,f[g])};c.reportStrategyName=function(a){this.counter.recordStat("strategy_name",a)};c.reportBootstrapBegin=function(){this.bootstrapBegin=Date.now()};c.reportBootstrapDirty=function(){this.bootstrapped=!1};c.reportBootstrapComplete=function(a){this.counter.recordAvgStat("bootstrap_latency",Date.now()-this.bootstrapBegin);var b={};a.forEach(function(a){b[a]=(b[a]||0)+1});this.counter.recordStat("bootstrap_response_types",b);this.bootstrapped=!0};c.reportQueryBegin=function(a){this.counter.recordStat("query",a),this.counter.recordCountStat("num_queries"),this.queriesHistory.add(a),this.lastNotBackspacedQuery.indexOf(a)!==0&&(this.lastNotBackspacedQuery=a),this.lastQuery=a,this.lastQueryTime=Date.now()};c.reportRequestID=function(a){this.lastRequestID=a,this.requestIDHistory.push(a)};c.reportQueryComplete=function(a,b){this.counter.recordAvgStat("avg_query_latency",a),b!==void 0&&this.counter.recordStat("filtered_count",b)};c.reportResults=function(a,b){this.results=a,b===this.lastQuery&&this.counter.recordStat("last_query_latency",Date.now()-this.lastQueryTime)};c.reportResultsAds=function(a){this.resultsAds=a};c.$1=function(){this.sid=Math.floor(Date.now()*b("Random").random()),this.lastNotBackspacedQuery="",this.queriesHistory.reset(),this.results=null,this.resultsAds=null,this.lastRequestID=null,this.requestIDHistory=[],this.counter.reset(),this.emit&&this.emit("reset",{sid:this.sid})};c.$3=function(){var a={};for(var b in this.extraData){var c=this.extraData[b];a[b]=typeof c==="function"?c():c}return a};c.$2=function(){if(this.counter.hasStats()){this.counter.recordStat("session_time",Date.now()-this.sessionStartTime);this.results&&this.counter.recordStat("candidate_results",JSON.stringify(this.results));this.resultsAds&&this.counter.recordStat("candidate_results_ads",JSON.stringify(this.resultsAds));this.sid&&this.counter.recordStat("sid",this.sid);this.lastNotBackspacedQuery&&this.counter.recordStat("last_not_backspaced_query",this.lastNotBackspacedQuery);this.counter.recordStat("queries_history",JSON.stringify(this.queriesHistory.getQueries()));this.bootstrapped&&this.counter.recordStat("bootstrapped",1);this.lastRequestID&&this.counter.recordStat("request_id",this.lastRequestID);this.requestIDHistory.length&&this.counter.recordStat("request_ids",this.requestIDHistory);var a=babelHelpers["extends"]({},this.counter.getStats(),this.$3());new(b("AsyncRequest"))().setURI(g).setMethod("POST").setData({stats:a}).send();this.emit&&this.emit("submitted",a)}};return a}();e.exports=a;b("mixInEventEmitter")(a,{reset:!0,submitted:!0})}),null);
__d("useUpgradedUFI2MentionsComposerPluginMetricReporter",["TypeaheadMetricReporter","react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react");function a(){var a=h.useRef(new(b("TypeaheadMetricReporter"))({event_name:"tinder_mentions"}));h.useEffect(function(){return function(){a.current.sessionDeactivate()}},[]);return a.current}}),null);
__d("upgradedUFI2GroupMentionsComposerPluginCreatorWithTypeaheadViewForDraftjs",["fbt","CometContextualLayer.react","CometPopover.react","Keys","MentionSpan.react","TypeaheadNavigation","WeakMentionSpan.react","createUpgradedUFI2MentionsComposerPluginAnchorDecorator","getEntityMatcher","installUFI2ComposerInputDecorators","react","upgradedUFI2MentionsComposerPluginDraftUtils","useOnInitialMount","usePrevious","useUpgradedUFI2MentionsComposerDataSource","useUpgradedUFI2MentionsComposerDataSourceFetch","useUpgradedUFI2MentionsComposerDataSourceResolver","useUpgradedUFI2MentionsComposerPluginAriaHandler","useUpgradedUFI2MentionsComposerPluginEntitySelectionHandler","useUpgradedUFI2MentionsComposerPluginInstaller","useUpgradedUFI2MentionsComposerPluginMetricReporter"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react"),j=b("Keys").DOWN,k=b("Keys").ESC,l=b("Keys").RETURN,m=b("Keys").TAB,n=b("Keys").UP,o={component:b("MentionSpan.react"),strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"})},p={component:b("WeakMentionSpan.react"),strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"?!!((a=a.getData())==null?void 0:a.isWeak):!1})};function q(a,c,d,e,f,g,h){switch(g){case"MentionsAutocomplete/cancel":r(a);e(function(a){return babelHelpers["extends"]({},a,{mentionableEntities:[],selectedMentionableEntity:void 0})});return"handled";case"MentionsAutocomplete/next-mention":e(function(a){var c=null;b("TypeaheadNavigation").moveDown(a.mentionableEntities,a.selectedMentionableEntity,function(a){c=a});return babelHelpers["extends"]({},a,{selectedMentionableEntity:c})});return"handled";case"MentionsAutocomplete/previous-mention":e(function(a){var c=null;b("TypeaheadNavigation").moveUp(a.mentionableEntities,a.selectedMentionableEntity,function(a){c=a});return babelHelpers["extends"]({},a,{selectedMentionableEntity:c})});return"handled";case"MentionsAutocomplete/select-mention":if(d.selectedMentionableEntity!=null){f({editorState:h,mentionableEntity:d.selectedMentionableEntity,selectionMethod:"return-key"});r(a);return"handled"}break}return c?c(g,h):"not-handled"}function r(a,b){a(function(a){return babelHelpers["extends"]({},a,{ariaInputs:b})})}function s(a,b,c,d){if(c.mentionableEntities.length>0&&a.current!=null)switch(d.keyCode){case j:d.preventDefault();return"MentionsAutocomplete/next-mention";case k:d.preventDefault();return"MentionsAutocomplete/cancel";case l:if(c.selectedMentionableEntity){d.preventDefault();return"MentionsAutocomplete/select-mention"}break;case m:if(c.selectedMentionableEntity){d.preventDefault();return"MentionsAutocomplete/select-mention"}break;case n:d.preventDefault();return"MentionsAutocomplete/previous-mention"}return b?b(d):null}function a(a){return function(c,d){function e(){return i.forwardRef(function(e,f){var h=e.inputProps,j=h.composerState,k=h.onBlur,l=h.onComposerStateChange,m=h.onFocus;h=e.onInstallContentBlockToTextWithEntitiesInputMessageMappers;b("useUpgradedUFI2MentionsComposerPluginInstaller")(h);e=i.useState({mentionableEntities:[],selectedMentionableEntity:null});var n=e[0],t=e[1],u=b("useUpgradedUFI2MentionsComposerPluginMetricReporter")(),v=b("useUpgradedUFI2MentionsComposerDataSource")(c,u),w=b("useUpgradedUFI2MentionsComposerDataSourceFetch")(c,v),x=b("useUpgradedUFI2MentionsComposerDataSourceResolver")(),y=b("upgradedUFI2MentionsComposerPluginDraftUtils").getMaybeEditorState(j),z=b("usePrevious")(j);b("useOnInitialMount")(function(){d&&v.bootstrap()});i.useEffect(function(){var a=j.inputState;if(z==null)return;var b=z.inputState;if(a.__type==="editor-state-based"&&(b.__type!=="editor-state-based"||b.__type==="editor-state-based"&&b.editorState!==a.editorState))w(j,n,t);else return},[j,w,z,n]);var A=b("useUpgradedUFI2MentionsComposerPluginEntitySelectionHandler")({dataSourceResolver:x,onComposerStateChange:l,setState:t,state:n,typeaheadMetricReporter:u});h=b("useUpgradedUFI2MentionsComposerPluginAriaHandler")(n.selectedMentionableEntity,function(a){return r(l,a)});e=h.viewID;var B=i.useCallback(function(a){k&&k(a);r(l);t(function(a){return babelHelpers["extends"]({},a,{mentionableEntities:[],selectedMentionableEntity:null})});if(a.isDefaultPrevented())return;u.sessionEnd()},[u,k,l]),C=i.useCallback(function(a){m&&m(a);if(a.isDefaultPrevented())return;v.bootstrap();u.sessionStart()},[v,u,m]);h=i.useCallback(function(a,b){b.preventDefault();if(y==null)return;A({editorState:y,mentionableEntity:a,selectionMethod:"click"})},[A,y]);var D=i.useCallback(function(a){t(function(b){return babelHelpers["extends"]({},b,{selectedMentionableEntity:a})})},[]),E=i.useRef(null),F=i.useMemo(function(){return b("createUpgradedUFI2MentionsComposerPluginAnchorDecorator")(x,E)},[x]);i.useImperativeHandle(f,function(){return{getUpgradedProps:function(a){var c=a.inputProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputProps"]);return babelHelpers["extends"]({},a,{inputProps:babelHelpers["extends"]({},c,{composerState:b("installUFI2ComposerInputDecorators")(c.composerState,F,p,o),handleKeyCommand:function(a,b){return q(c.onComposerStateChange,c.handleKeyCommand,n,t,A,a,b)},keyBindingFn:function(a){return s(E,c.keyBindingFn,n,a)},onBlur:B,onFocus:C})})}}});f=i.useRef(null);if(n.mentionableEntities.length===0)return null;return E.current==null?null:i.jsx(b("CometContextualLayer.react"),{context_DEPRECATED:E.current,ref:f,children:i.jsx(b("CometPopover.react"),{children:i.jsx(a,babelHelpers["extends"]({},c.typeaheadViewProps,{controlleeID:e,entries:n.mentionableEntities,highlightedEntry:n.selectedMentionableEntity,label:g._("Suggested mentions"),onHighlight:D,onSelect:h}))})})})}return e}}}),null);
__d("createUpgradedUFI2GroupMentionsComposerPluginForDraftjs",["GroupMentionsTypeaheadView.react","upgradedUFI2GroupMentionsComposerPluginCreatorWithTypeaheadViewForDraftjs"],(function(a,b,c,d,e,f){"use strict";a=b("upgradedUFI2GroupMentionsComposerPluginCreatorWithTypeaheadViewForDraftjs")(b("GroupMentionsTypeaheadView.react"));e.exports=a}),null);